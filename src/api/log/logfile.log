[2022-08-17 15:23:40,552.552] INFO [8595088896] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-17 15:23:40,553.553] INFO [8595088896] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-17 15:23:40,553.553] INFO [8595088896] - Started reloader process [40496] using StatReload
[2022-08-17 15:23:40,798.798] INFO [8670742016] - Started server process [40498]
[2022-08-17 15:23:40,798.798] INFO [8670742016] - Waiting for application startup.
[2022-08-17 15:23:40,798.798] INFO [8670742016] - Application startup complete.
[2022-08-17 15:23:44,952.952] INFO [8670742016] - 127.0.0.1:57690 - "GET /swagger HTTP/1.1" 200
[2022-08-17 15:23:45,087.087] INFO [8670742016] - 127.0.0.1:57690 - "GET /openapi.json HTTP/1.1" 200
[2022-08-17 15:23:50,805.805] INFO [8670742016] - Shutting down
[2022-08-17 15:23:50,906.906] INFO [8670742016] - Waiting for application shutdown.
[2022-08-17 15:23:50,907.907] INFO [8670742016] - Application shutdown complete.
[2022-08-17 15:23:50,907.907] INFO [8670742016] - Finished server process [40498]
[2022-08-17 15:23:50,929.929] INFO [8595088896] - Stopping reloader process [40496]
[2022-08-18 09:37:50,703.703] INFO [8604050944] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 09:37:50,703.703] INFO [8604050944] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 09:37:50,703.703] INFO [8604050944] - Started reloader process [53620] using StatReload
[2022-08-18 09:37:51,033.033] INFO [8672294400] - Started server process [53622]
[2022-08-18 09:37:51,033.033] INFO [8672294400] - Waiting for application startup.
[2022-08-18 09:37:51,033.033] INFO [8672294400] - Application startup complete.
[2022-08-18 09:37:53,384.384] INFO [8672294400] - 127.0.0.1:60887 - "GET / HTTP/1.1" 404
[2022-08-18 09:37:56,083.083] INFO [8672294400] - 127.0.0.1:60887 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:37:57,448.448] INFO [8672294400] - 127.0.0.1:60887 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:38:08,352.352] INFO [8672294400] - 127.0.0.1:60888 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:38:08,352.352] ERROR [8672294400] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open('/pyp-pre-assignment/uploaded_files', 'wb') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:40:43,203.203] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:40:43,276.276] INFO [8672294400] - Shutting down
[2022-08-18 09:40:43,384.384] INFO [8672294400] - Waiting for application shutdown.
[2022-08-18 09:40:43,388.388] INFO [8672294400] - Application shutdown complete.
[2022-08-18 09:40:43,389.389] INFO [8672294400] - Finished server process [53622]
[2022-08-18 09:40:43,859.859] INFO [8634791424] - Started server process [53662]
[2022-08-18 09:40:43,859.859] INFO [8634791424] - Waiting for application startup.
[2022-08-18 09:40:43,859.859] INFO [8634791424] - Application startup complete.
[2022-08-18 09:40:48,225.225] INFO [8634791424] - 127.0.0.1:60893 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:40:48,394.394] INFO [8634791424] - 127.0.0.1:60893 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:40:54,295.295] INFO [8634791424] - 127.0.0.1:60894 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:40:54,296.296] ERROR [8634791424] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open('/pyp-pre-assignment/uploaded_files', 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:42:01,319.319] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:42:01,387.387] INFO [8634791424] - Shutting down
[2022-08-18 09:42:01,490.490] INFO [8634791424] - Waiting for application shutdown.
[2022-08-18 09:42:01,494.494] INFO [8634791424] - Application shutdown complete.
[2022-08-18 09:42:01,494.494] INFO [8634791424] - Finished server process [53662]
[2022-08-18 09:42:01,926.926] INFO [8634729984] - Started server process [53682]
[2022-08-18 09:42:01,927.927] INFO [8634729984] - Waiting for application startup.
[2022-08-18 09:42:01,927.927] INFO [8634729984] - Application startup complete.
[2022-08-18 09:46:32,200.200] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:46:32,290.290] INFO [8634729984] - Shutting down
[2022-08-18 09:46:32,394.394] INFO [8634729984] - Waiting for application shutdown.
[2022-08-18 09:46:32,397.397] INFO [8634729984] - Application shutdown complete.
[2022-08-18 09:46:32,398.398] INFO [8634729984] - Finished server process [53682]
[2022-08-18 09:46:34,269.269] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:46:34,660.660] INFO [8633484800] - Started server process [53754]
[2022-08-18 09:46:34,661.661] INFO [8633484800] - Waiting for application startup.
[2022-08-18 09:46:34,661.661] INFO [8633484800] - Application startup complete.
[2022-08-18 09:46:58,735.735] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:46:58,765.765] INFO [8633484800] - Shutting down
[2022-08-18 09:46:58,867.867] INFO [8633484800] - Waiting for application shutdown.
[2022-08-18 09:46:58,868.868] INFO [8633484800] - Application shutdown complete.
[2022-08-18 09:46:58,868.868] INFO [8633484800] - Finished server process [53754]
[2022-08-18 09:46:59,522.522] INFO [8609043968] - Started server process [53762]
[2022-08-18 09:46:59,523.523] INFO [8609043968] - Waiting for application startup.
[2022-08-18 09:46:59,523.523] INFO [8609043968] - Application startup complete.
[2022-08-18 09:47:12,850.850] INFO [8609043968] - 127.0.0.1:61276 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:47:13,110.110] INFO [8609043968] - 127.0.0.1:61276 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:47:21,029.029] INFO [8609043968] - 127.0.0.1:61277 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:47:21,030.030] ERROR [8609043968] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open(os.path.abspath(os.path.join(os.getcwd(), '../uploaded_files')), 'wb') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
IsADirectoryError: [Errno 21] Is a directory: '/Users/garayev/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:47:44,812.812] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:47:44,836.836] INFO [8609043968] - Shutting down
[2022-08-18 09:47:44,938.938] INFO [8609043968] - Waiting for application shutdown.
[2022-08-18 09:47:44,939.939] INFO [8609043968] - Application shutdown complete.
[2022-08-18 09:47:44,942.942] INFO [8609043968] - Finished server process [53762]
[2022-08-18 09:47:45,379.379] INFO [8605632000] - Started server process [53775]
[2022-08-18 09:47:45,380.380] INFO [8605632000] - Waiting for application startup.
[2022-08-18 09:47:45,380.380] INFO [8605632000] - Application startup complete.
[2022-08-18 09:47:47,711.711] INFO [8605632000] - 127.0.0.1:61279 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:47:47,941.941] INFO [8605632000] - 127.0.0.1:61279 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:47:48,023.023] INFO [8605632000] - 127.0.0.1:61279 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:47:48,171.171] INFO [8605632000] - 127.0.0.1:61279 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:47:53,458.458] INFO [8605632000] - 127.0.0.1:61280 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:47:53,459.459] ERROR [8605632000] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open(os.path.abspath(os.path.join(os.getcwd(), '../uploaded_files')), 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
IsADirectoryError: [Errno 21] Is a directory: '/Users/garayev/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:50:42,395.395] INFO [8641136128] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 09:50:42,395.395] ERROR [8641136128] - [Errno 48] Address already in use
[2022-08-18 10:10:02,332.332] INFO [8662980096] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 10:10:02,333.333] INFO [8662980096] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:10:02,333.333] INFO [8662980096] - Started reloader process [54274] using StatReload
[2022-08-18 10:10:02,670.670] INFO [8677111296] - Started server process [54276]
[2022-08-18 10:10:02,670.670] INFO [8677111296] - Waiting for application startup.
[2022-08-18 10:10:02,670.670] INFO [8677111296] - Application startup complete.
[2022-08-18 10:10:07,000.000] INFO [8677111296] - 127.0.0.1:61753 - "GET /swagger HTTP/1.1" 200
[2022-08-18 10:10:07,264.264] INFO [8677111296] - 127.0.0.1:61753 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 10:27:36,902.902] INFO [8604743168] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:27:36,902.902] INFO [8604743168] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:27:36,903.903] INFO [8604743168] - Started reloader process [54490] using StatReload
[2022-08-18 10:27:37,250.250] INFO [8605263360] - Started server process [54493]
[2022-08-18 10:27:37,250.250] INFO [8605263360] - Waiting for application startup.
[2022-08-18 10:27:37,250.250] INFO [8605263360] - Application startup complete.
[2022-08-18 10:27:43,076.076] INFO [8605263360] - 127.0.0.1:61774 - "GET /swagger HTTP/1.1" 200
[2022-08-18 10:27:43,260.260] INFO [8605263360] - 127.0.0.1:61774 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 10:27:49,208.208] INFO [8605263360] - Shutting down
[2022-08-18 10:27:49,310.310] INFO [8605263360] - Waiting for application shutdown.
[2022-08-18 10:27:49,311.311] INFO [8605263360] - Application shutdown complete.
[2022-08-18 10:27:49,311.311] INFO [8605263360] - Finished server process [54493]
[2022-08-18 10:27:49,363.363] INFO [8604743168] - Stopping reloader process [54490]
[2022-08-18 10:28:30,985.985] INFO [8606348800] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 10:28:30,986.986] INFO [8606348800] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:28:30,986.986] INFO [8606348800] - Started reloader process [54566] using StatReload
[2022-08-18 10:28:31,313.313] INFO [8629237248] - Started server process [54568]
[2022-08-18 10:28:31,313.313] INFO [8629237248] - Waiting for application startup.
[2022-08-18 10:28:31,313.313] INFO [8629237248] - Application startup complete.
[2022-08-18 10:50:45,261.261] INFO [8665167360] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:50:45,262.262] ERROR [8665167360] - [Errno 48] Address already in use
[2022-08-18 10:50:50,156.156] INFO [8596227584] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:50:50,157.157] ERROR [8596227584] - [Errno 48] Address already in use
[2022-08-18 10:51:16,892.892] INFO [8594232832] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:51:16,892.892] INFO [8594232832] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:51:16,892.892] INFO [8594232832] - Started reloader process [54934] using StatReload
[2022-08-18 10:51:17,487.487] INFO [8604694016] - Started server process [54937]
[2022-08-18 10:51:17,487.487] INFO [8604694016] - Waiting for application startup.
[2022-08-18 10:51:17,488.488] INFO [8604694016] - Application startup complete.
[2022-08-18 10:51:22,813.813] INFO [8604694016] - 127.0.0.1:61851 - "GET / HTTP/1.1" 404
[2022-08-18 10:51:30,674.674] INFO [8604694016] - Shutting down
[2022-08-18 10:51:30,775.775] INFO [8604694016] - Waiting for application shutdown.
[2022-08-18 10:51:30,775.775] INFO [8604694016] - Application shutdown complete.
[2022-08-18 10:51:30,775.775] INFO [8604694016] - Finished server process [54937]
[2022-08-18 10:51:30,812.812] INFO [8594232832] - Stopping reloader process [54934]
[2022-08-18 10:54:00,542.542] INFO [8676439552] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:54:00,543.543] INFO [8676439552] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:54:00,543.543] INFO [8676439552] - Started reloader process [55033] using StatReload
[2022-08-18 10:54:00,880.880] INFO [8637531648] - Started server process [55035]
[2022-08-18 10:54:00,880.880] INFO [8637531648] - Waiting for application startup.
[2022-08-18 10:54:00,880.880] INFO [8637531648] - Application startup complete.
[2022-08-18 10:54:02,902.902] INFO [8637531648] - Shutting down
[2022-08-18 10:54:03,003.003] INFO [8637531648] - Waiting for application shutdown.
[2022-08-18 10:54:03,004.004] INFO [8637531648] - Application shutdown complete.
[2022-08-18 10:54:03,004.004] INFO [8637531648] - Finished server process [55035]
[2022-08-18 10:54:03,042.042] INFO [8676439552] - Stopping reloader process [55033]
[2022-08-18 10:54:12,539.539] INFO [8628016640] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 10:54:12,539.539] INFO [8628016640] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:54:12,539.539] INFO [8628016640] - Started reloader process [55043] using StatReload
[2022-08-18 10:54:12,861.861] INFO [8671995392] - Started server process [55045]
[2022-08-18 10:54:12,861.861] INFO [8671995392] - Waiting for application startup.
[2022-08-18 10:54:12,861.861] INFO [8671995392] - Application startup complete.
[2022-08-18 10:54:14,730.730] INFO [8671995392] - 127.0.0.1:61873 - "GET / HTTP/1.1" 404
[2022-08-18 10:54:17,302.302] INFO [8671995392] - 127.0.0.1:61873 - "GET /swagger HTTP/1.1" 200
[2022-08-18 10:54:18,208.208] INFO [8671995392] - 127.0.0.1:61873 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 10:55:46,176.176] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 10:55:46,253.253] INFO [8671995392] - Shutting down
[2022-08-18 10:55:46,355.355] INFO [8671995392] - Waiting for application shutdown.
[2022-08-18 10:55:46,355.355] INFO [8671995392] - Application shutdown complete.
[2022-08-18 10:55:46,356.356] INFO [8671995392] - Finished server process [55045]
[2022-08-18 10:55:46,785.785] INFO [8605214208] - Started server process [55061]
[2022-08-18 10:55:46,785.785] INFO [8605214208] - Waiting for application startup.
[2022-08-18 10:55:46,786.786] INFO [8605214208] - Application startup complete.
[2022-08-18 10:56:10,787.787] INFO [8605214208] - 127.0.0.1:61881 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 10:56:10,788.788] ERROR [8605214208] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open(os.path.abspath(os.path.join(os.getcwd(), '../uploaded_files')), 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
IsADirectoryError: [Errno 21] Is a directory: '/Users/garayev/pyp-pre-assignment/uploaded_files'
[2022-08-18 11:09:34,185.185] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:09:34,215.215] INFO [8605214208] - Shutting down
[2022-08-18 11:09:34,317.317] INFO [8605214208] - Waiting for application shutdown.
[2022-08-18 11:09:34,318.318] INFO [8605214208] - Application shutdown complete.
[2022-08-18 11:09:34,318.318] INFO [8605214208] - Finished server process [55061]
[2022-08-18 11:09:34,781.781] INFO [8639346176] - Started server process [55330]
[2022-08-18 11:09:34,782.782] INFO [8639346176] - Waiting for application startup.
[2022-08-18 11:09:34,782.782] INFO [8639346176] - Application startup complete.
[2022-08-18 11:09:37,658.658] INFO [8639346176] - 127.0.0.1:61919 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:09:37,879.879] INFO [8639346176] - 127.0.0.1:61919 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:09:43,905.905] INFO [8639346176] - 127.0.0.1:61920 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:10:55,298.298] INFO [8639346176] - 127.0.0.1:61957 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:10:55,485.485] INFO [8639346176] - 127.0.0.1:61957 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:11:02,713.713] INFO [8639346176] - 127.0.0.1:61958 - "POST /UploadData/POST HTTP/1.1" 400
[2022-08-18 11:11:19,605.605] INFO [8639346176] - 127.0.0.1:61960 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:11:19,717.717] INFO [8639346176] - 127.0.0.1:61960 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:11:28,649.649] INFO [8639346176] - 127.0.0.1:61961 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:12:15,674.674] INFO [8639346176] - 127.0.0.1:61980 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:12:15,825.825] INFO [8639346176] - 127.0.0.1:61980 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:12:21,510.510] INFO [8639346176] - 127.0.0.1:61981 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:18:13,507.507] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:18:13,559.559] INFO [8639346176] - Shutting down
[2022-08-18 11:18:13,661.661] INFO [8639346176] - Waiting for application shutdown.
[2022-08-18 11:18:13,663.663] INFO [8639346176] - Application shutdown complete.
[2022-08-18 11:18:13,663.663] INFO [8639346176] - Finished server process [55330]
[2022-08-18 11:18:41,429.429] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:18:41,817.817] INFO [8668800512] - Started server process [55571]
[2022-08-18 11:18:41,817.817] INFO [8668800512] - Waiting for application startup.
[2022-08-18 11:18:41,817.817] INFO [8668800512] - Application startup complete.
[2022-08-18 11:18:46,369.369] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:18:46,374.374] INFO [8668800512] - Shutting down
[2022-08-18 11:18:46,476.476] INFO [8668800512] - Waiting for application shutdown.
[2022-08-18 11:18:46,476.476] INFO [8668800512] - Application shutdown complete.
[2022-08-18 11:18:46,476.476] INFO [8668800512] - Finished server process [55571]
[2022-08-18 11:18:46,844.844] INFO [8626603520] - Started server process [55574]
[2022-08-18 11:18:46,845.845] INFO [8626603520] - Waiting for application startup.
[2022-08-18 11:18:46,845.845] INFO [8626603520] - Application startup complete.
[2022-08-18 11:32:48,880.880] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:32:48,994.994] INFO [8626603520] - Shutting down
[2022-08-18 11:32:49,098.098] INFO [8626603520] - Waiting for application shutdown.
[2022-08-18 11:32:49,100.100] INFO [8626603520] - Application shutdown complete.
[2022-08-18 11:32:49,100.100] INFO [8626603520] - Finished server process [55574]
[2022-08-18 11:32:49,540.540] INFO [8610637312] - Started server process [55825]
[2022-08-18 11:32:49,541.541] INFO [8610637312] - Waiting for application startup.
[2022-08-18 11:32:49,541.541] INFO [8610637312] - Application startup complete.
[2022-08-18 11:32:54,343.343] INFO [8610637312] - 127.0.0.1:62088 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:32:54,598.598] INFO [8610637312] - 127.0.0.1:62088 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:33:02,616.616] INFO [8610637312] - 127.0.0.1:62089 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:33:11,942.942] INFO [8610637312] - 127.0.0.1:62092 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:43:01,351.351] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:43:01,371.371] INFO [8610637312] - Shutting down
[2022-08-18 11:43:01,480.480] INFO [8610637312] - Waiting for application shutdown.
[2022-08-18 11:43:01,484.484] INFO [8610637312] - Application shutdown complete.
[2022-08-18 11:43:01,485.485] INFO [8610637312] - Finished server process [55825]
[2022-08-18 11:46:25,133.133] INFO [8641144320] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 11:46:25,134.134] ERROR [8641144320] - [Errno 48] Address already in use
[2022-08-18 12:15:47,492.492] INFO [8672503296] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:15:47,493.493] INFO [8672503296] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 12:15:47,493.493] INFO [8672503296] - Started reloader process [57405] using StatReload
[2022-08-18 12:15:48,020.020] INFO [8638408192] - Started server process [57410]
[2022-08-18 12:15:48,021.021] INFO [8638408192] - Waiting for application startup.
[2022-08-18 12:15:48,021.021] INFO [8638408192] - Application startup complete.
[2022-08-18 12:15:49,760.760] INFO [8638408192] - 127.0.0.1:62822 - "GET / HTTP/1.1" 404
[2022-08-18 12:15:52,907.907] INFO [8638408192] - 127.0.0.1:62822 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:15:53,801.801] INFO [8638408192] - 127.0.0.1:62822 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:16:01,878.878] INFO [8638408192] - 127.0.0.1:62823 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:16:01,879.879] ERROR [8638408192] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = pd.read_excel(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}')))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:16:41,737.737] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:16:41,805.805] INFO [8638408192] - Shutting down
[2022-08-18 12:16:41,907.907] INFO [8638408192] - Waiting for application shutdown.
[2022-08-18 12:16:41,908.908] INFO [8638408192] - Application shutdown complete.
[2022-08-18 12:16:41,908.908] INFO [8638408192] - Finished server process [57410]
[2022-08-18 12:16:42,701.701] INFO [8637199872] - Started server process [57423]
[2022-08-18 12:16:42,701.701] INFO [8637199872] - Waiting for application startup.
[2022-08-18 12:16:42,701.701] INFO [8637199872] - Application startup complete.
[2022-08-18 12:16:44,556.556] INFO [8637199872] - 127.0.0.1:62826 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:16:44,792.792] INFO [8637199872] - 127.0.0.1:62826 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:16:52,462.462] INFO [8637199872] - 127.0.0.1:62827 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:16:52,463.463] ERROR [8637199872] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:16:55,475.475] INFO [8637199872] - 127.0.0.1:62832 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:16:55,476.476] ERROR [8637199872] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:17:08,149.149] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:17:08,249.249] INFO [8637199872] - Shutting down
[2022-08-18 12:17:08,350.350] INFO [8637199872] - Waiting for application shutdown.
[2022-08-18 12:17:08,351.351] INFO [8637199872] - Application shutdown complete.
[2022-08-18 12:17:08,351.351] INFO [8637199872] - Finished server process [57423]
[2022-08-18 12:17:16,512.512] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:17:17,116.116] INFO [8673252864] - Started server process [57442]
[2022-08-18 12:17:17,117.117] INFO [8673252864] - Waiting for application startup.
[2022-08-18 12:17:17,117.117] INFO [8673252864] - Application startup complete.
[2022-08-18 12:17:19,058.058] INFO [8673252864] - 127.0.0.1:62833 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:17:19,238.238] INFO [8673252864] - 127.0.0.1:62833 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:17:24,458.458] INFO [8673252864] - 127.0.0.1:62834 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:17:24,459.459] ERROR [8673252864] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = await pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:33:36,164.164] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:33:36,180.180] INFO [8673252864] - Shutting down
[2022-08-18 12:33:36,282.282] INFO [8673252864] - Waiting for application shutdown.
[2022-08-18 12:33:36,283.283] INFO [8673252864] - Application shutdown complete.
[2022-08-18 12:33:36,283.283] INFO [8673252864] - Finished server process [57442]
[2022-08-18 12:33:37,062.062] INFO [8639993344] - Started server process [57811]
[2022-08-18 12:33:37,062.062] INFO [8639993344] - Waiting for application startup.
[2022-08-18 12:33:37,062.062] INFO [8639993344] - Application startup complete.
[2022-08-18 12:34:15,592.592] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:34:15,662.662] INFO [8639993344] - Shutting down
[2022-08-18 12:34:15,764.764] INFO [8639993344] - Waiting for application shutdown.
[2022-08-18 12:34:15,764.764] INFO [8639993344] - Application shutdown complete.
[2022-08-18 12:34:15,764.764] INFO [8639993344] - Finished server process [57811]
[2022-08-18 12:34:16,538.538] INFO [8629642752] - Started server process [57831]
[2022-08-18 12:34:16,538.538] INFO [8629642752] - Waiting for application startup.
[2022-08-18 12:34:16,539.539] INFO [8629642752] - Application startup complete.
[2022-08-18 12:34:45,961.961] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:34:46,013.013] INFO [8629642752] - Shutting down
[2022-08-18 12:34:46,115.115] INFO [8629642752] - Waiting for application shutdown.
[2022-08-18 12:34:46,116.116] INFO [8629642752] - Application shutdown complete.
[2022-08-18 12:34:46,116.116] INFO [8629642752] - Finished server process [57831]
[2022-08-18 12:34:46,803.803] INFO [8641172992] - Started server process [57844]
[2022-08-18 12:34:46,803.803] INFO [8641172992] - Waiting for application startup.
[2022-08-18 12:34:46,803.803] INFO [8641172992] - Application startup complete.
[2022-08-18 12:34:49,297.297] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:34:49,335.335] INFO [8641172992] - Shutting down
[2022-08-18 12:34:49,436.436] INFO [8641172992] - Waiting for application shutdown.
[2022-08-18 12:34:49,437.437] INFO [8641172992] - Application shutdown complete.
[2022-08-18 12:34:49,437.437] INFO [8641172992] - Finished server process [57844]
[2022-08-18 12:34:50,122.122] INFO [8602584576] - Started server process [57851]
[2022-08-18 12:34:50,122.122] INFO [8602584576] - Waiting for application startup.
[2022-08-18 12:34:50,122.122] INFO [8602584576] - Application startup complete.
[2022-08-18 12:34:52,345.345] INFO [8602584576] - 127.0.0.1:62942 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:34:52,578.578] INFO [8602584576] - 127.0.0.1:62942 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:35:00,766.766] INFO [8602584576] - 127.0.0.1:62943 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:35:00,767.767] ERROR [8602584576] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    df = await pd.read_excel(uploaded_file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:36:07,360.360] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:36:07,420.420] INFO [8602584576] - Shutting down
[2022-08-18 12:36:07,522.522] INFO [8602584576] - Waiting for application shutdown.
[2022-08-18 12:36:07,523.523] INFO [8602584576] - Application shutdown complete.
[2022-08-18 12:36:07,523.523] INFO [8602584576] - Finished server process [57851]
[2022-08-18 12:36:08,353.353] INFO [8660276736] - Started server process [57880]
[2022-08-18 12:36:08,354.354] INFO [8660276736] - Waiting for application startup.
[2022-08-18 12:36:08,354.354] INFO [8660276736] - Application startup complete.
[2022-08-18 12:36:19,526.526] INFO [8660276736] - 127.0.0.1:62958 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:36:19,724.724] INFO [8660276736] - 127.0.0.1:62958 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:36:25,277.277] INFO [8660276736] - 127.0.0.1:62959 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:36:25,278.278] ERROR [8660276736] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    df = await pd.read_excel(uploaded_file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:36:34,211.211] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:36:34,272.272] INFO [8660276736] - Shutting down
[2022-08-18 12:36:34,374.374] INFO [8660276736] - Waiting for application shutdown.
[2022-08-18 12:36:34,374.374] INFO [8660276736] - Application shutdown complete.
[2022-08-18 12:36:34,374.374] INFO [8660276736] - Finished server process [57880]
[2022-08-18 12:36:35,151.151] INFO [8671098368] - Started server process [57912]
[2022-08-18 12:36:35,151.151] INFO [8671098368] - Waiting for application startup.
[2022-08-18 12:36:35,151.151] INFO [8671098368] - Application startup complete.
[2022-08-18 12:36:35,299.299] INFO [8671098368] - 127.0.0.1:62961 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:36:35,455.455] INFO [8671098368] - 127.0.0.1:62961 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:36:40,265.265] INFO [8671098368] - 127.0.0.1:62961 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:36:40,266.266] ERROR [8671098368] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    df = pd.read_excel(uploaded_file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:37:39,994.994] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:37:40,013.013] INFO [8671098368] - Shutting down
[2022-08-18 12:37:40,115.115] INFO [8671098368] - Waiting for application shutdown.
[2022-08-18 12:37:40,116.116] INFO [8671098368] - Application shutdown complete.
[2022-08-18 12:37:40,116.116] INFO [8671098368] - Finished server process [57912]
[2022-08-18 12:37:40,863.863] INFO [8593368576] - Started server process [57928]
[2022-08-18 12:37:40,864.864] INFO [8593368576] - Waiting for application startup.
[2022-08-18 12:37:40,864.864] INFO [8593368576] - Application startup complete.
[2022-08-18 12:37:46,165.165] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:37:46,231.231] INFO [8593368576] - Shutting down
[2022-08-18 12:37:46,332.332] INFO [8593368576] - Waiting for application shutdown.
[2022-08-18 12:37:46,333.333] INFO [8593368576] - Application shutdown complete.
[2022-08-18 12:37:46,333.333] INFO [8593368576] - Finished server process [57928]
[2022-08-18 12:37:47,063.063] INFO [8592725504] - Started server process [57937]
[2022-08-18 12:37:47,063.063] INFO [8592725504] - Waiting for application startup.
[2022-08-18 12:37:47,064.064] INFO [8592725504] - Application startup complete.
[2022-08-18 12:37:50,055.055] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:37:50,103.103] INFO [8592725504] - Shutting down
[2022-08-18 12:37:50,204.204] INFO [8592725504] - Waiting for application shutdown.
[2022-08-18 12:37:50,204.204] INFO [8592725504] - Application shutdown complete.
[2022-08-18 12:37:50,204.204] INFO [8592725504] - Finished server process [57937]
[2022-08-18 12:37:50,885.885] INFO [8594798080] - Started server process [57941]
[2022-08-18 12:37:50,885.885] INFO [8594798080] - Waiting for application startup.
[2022-08-18 12:37:50,885.885] INFO [8594798080] - Application startup complete.
[2022-08-18 12:37:53,071.071] INFO [8594798080] - 127.0.0.1:62963 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:37:53,231.231] INFO [8594798080] - 127.0.0.1:62963 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:38:03,502.502] INFO [8594798080] - 127.0.0.1:62964 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:38:03,503.503] ERROR [8594798080] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 138, in import_optional_dependency
    module = importlib.import_module(name)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 984, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'openpyxl'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 524, in __init__
    import_optional_dependency("openpyxl")
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 141, in import_optional_dependency
    raise ImportError(msg)
ImportError: Missing optional dependency 'openpyxl'.  Use pip or conda to install openpyxl.
[2022-08-18 12:38:41,583.583] INFO [8669566464] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:38:41,584.584] ERROR [8669566464] - [Errno 48] Address already in use
[2022-08-18 12:39:00,661.661] INFO [8641246720] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:39:00,662.662] INFO [8641246720] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 12:39:00,662.662] INFO [8641246720] - Started reloader process [58013] using StatReload
[2022-08-18 12:39:01,274.274] INFO [8629011968] - Started server process [58017]
[2022-08-18 12:39:01,274.274] INFO [8629011968] - Waiting for application startup.
[2022-08-18 12:39:01,275.275] INFO [8629011968] - Application startup complete.
[2022-08-18 12:39:02,205.205] INFO [8629011968] - 127.0.0.1:62978 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:39:02,441.441] INFO [8629011968] - 127.0.0.1:62978 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:39:06,223.223] INFO [8629011968] - 127.0.0.1:62978 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:39:06,370.370] INFO [8629011968] - 127.0.0.1:62978 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:39:10,967.967] INFO [8629011968] - 127.0.0.1:62978 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:39:10,968.968] ERROR [8629011968] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 50, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 12:42:27,133.133] INFO [8660588032] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:42:27,133.133] INFO [8660588032] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 12:42:27,133.133] INFO [8660588032] - Started reloader process [58179] using StatReload
[2022-08-18 12:42:27,652.652] INFO [8666088960] - Started server process [58183]
[2022-08-18 12:42:27,653.653] INFO [8666088960] - Waiting for application startup.
[2022-08-18 12:42:27,653.653] INFO [8666088960] - Application startup complete.
[2022-08-18 12:42:30,598.598] INFO [8666088960] - 127.0.0.1:63046 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:42:30,832.832] INFO [8666088960] - 127.0.0.1:63046 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:42:36,407.407] INFO [8666088960] - 127.0.0.1:63047 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:42:36,407.407] ERROR [8666088960] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 50, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 12:43:06,722.722] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:43:06,798.798] INFO [8666088960] - Shutting down
[2022-08-18 12:43:06,899.899] INFO [8666088960] - Waiting for application shutdown.
[2022-08-18 12:43:06,899.899] INFO [8666088960] - Application shutdown complete.
[2022-08-18 12:43:06,900.900] INFO [8666088960] - Finished server process [58183]
[2022-08-18 12:43:07,692.692] INFO [8599078400] - Started server process [58195]
[2022-08-18 12:43:07,692.692] INFO [8599078400] - Waiting for application startup.
[2022-08-18 12:43:07,692.692] INFO [8599078400] - Application startup complete.
[2022-08-18 12:43:08,414.414] INFO [8599078400] - 127.0.0.1:63049 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:43:08,558.558] INFO [8599078400] - 127.0.0.1:63049 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:43:13,498.498] INFO [8599078400] - 127.0.0.1:63049 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:43:13,499.499] ERROR [8599078400] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 50, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 12:45:10,911.911] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:45:10,948.948] INFO [8599078400] - Shutting down
[2022-08-18 12:45:11,050.050] INFO [8599078400] - Waiting for application shutdown.
[2022-08-18 12:45:11,050.050] INFO [8599078400] - Application shutdown complete.
[2022-08-18 12:45:11,050.050] INFO [8599078400] - Finished server process [58195]
[2022-08-18 12:45:12,037.037] INFO [8608908800] - Started server process [58237]
[2022-08-18 12:45:12,038.038] INFO [8608908800] - Waiting for application startup.
[2022-08-18 12:45:12,038.038] INFO [8608908800] - Application startup complete.
[2022-08-18 12:45:24,161.161] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:45:24,198.198] INFO [8608908800] - Shutting down
[2022-08-18 12:45:24,299.299] INFO [8608908800] - Waiting for application shutdown.
[2022-08-18 12:45:24,300.300] INFO [8608908800] - Application shutdown complete.
[2022-08-18 12:45:24,300.300] INFO [8608908800] - Finished server process [58237]
[2022-08-18 12:45:25,229.229] INFO [8628344320] - Started server process [58241]
[2022-08-18 12:45:25,230.230] INFO [8628344320] - Waiting for application startup.
[2022-08-18 12:45:25,230.230] INFO [8628344320] - Application startup complete.
[2022-08-18 12:46:23,910.910] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:46:23,913.913] INFO [8628344320] - Shutting down
[2022-08-18 12:46:24,015.015] INFO [8628344320] - Waiting for application shutdown.
[2022-08-18 12:46:24,015.015] INFO [8628344320] - Application shutdown complete.
[2022-08-18 12:46:24,015.015] INFO [8628344320] - Finished server process [58241]
[2022-08-18 12:46:25,046.046] INFO [8667518464] - Started server process [58249]
[2022-08-18 12:46:25,047.047] INFO [8667518464] - Waiting for application startup.
[2022-08-18 12:46:25,047.047] INFO [8667518464] - Application startup complete.
[2022-08-18 12:46:28,995.995] INFO [8667518464] - 127.0.0.1:63068 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:46:29,222.222] INFO [8667518464] - 127.0.0.1:63068 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:46:33,700.700] INFO [8667518464] - 127.0.0.1:63068 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:46:33,702.702] ERROR [8667518464] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 51, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 12:59:12,781.781] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:59:12,816.816] INFO [8667518464] - Shutting down
[2022-08-18 12:59:12,919.919] INFO [8667518464] - Waiting for application shutdown.
[2022-08-18 12:59:12,920.920] INFO [8667518464] - Application shutdown complete.
[2022-08-18 12:59:12,920.920] INFO [8667518464] - Finished server process [58249]
[2022-08-18 12:59:13,643.643] INFO [8671491584] - Started server process [58585]
[2022-08-18 12:59:13,644.644] INFO [8671491584] - Waiting for application startup.
[2022-08-18 12:59:13,644.644] INFO [8671491584] - Application startup complete.
[2022-08-18 12:59:57,920.920] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:59:57,928.928] INFO [8671491584] - Shutting down
[2022-08-18 12:59:58,029.029] INFO [8671491584] - Waiting for application shutdown.
[2022-08-18 12:59:58,029.029] INFO [8671491584] - Application shutdown complete.
[2022-08-18 12:59:58,030.030] INFO [8671491584] - Finished server process [58585]
[2022-08-18 12:59:58,835.835] INFO [8627406336] - Started server process [58598]
[2022-08-18 12:59:58,836.836] INFO [8627406336] - Waiting for application startup.
[2022-08-18 12:59:58,836.836] INFO [8627406336] - Application startup complete.
[2022-08-18 13:00:40,967.967] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:00:40,978.978] INFO [8627406336] - Shutting down
[2022-08-18 13:00:41,080.080] INFO [8627406336] - Waiting for application shutdown.
[2022-08-18 13:00:41,080.080] INFO [8627406336] - Application shutdown complete.
[2022-08-18 13:00:41,081.081] INFO [8627406336] - Finished server process [58598]
[2022-08-18 13:00:41,802.802] INFO [8606844416] - Started server process [58612]
[2022-08-18 13:00:41,802.802] INFO [8606844416] - Waiting for application startup.
[2022-08-18 13:00:41,802.802] INFO [8606844416] - Application startup complete.
[2022-08-18 13:01:17,318.318] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:01:17,381.381] INFO [8606844416] - Shutting down
[2022-08-18 13:01:17,483.483] INFO [8606844416] - Waiting for application shutdown.
[2022-08-18 13:01:17,484.484] INFO [8606844416] - Application shutdown complete.
[2022-08-18 13:01:17,484.484] INFO [8606844416] - Finished server process [58612]
[2022-08-18 13:01:18,303.303] INFO [8603235840] - Started server process [58623]
[2022-08-18 13:01:18,304.304] INFO [8603235840] - Waiting for application startup.
[2022-08-18 13:01:18,304.304] INFO [8603235840] - Application startup complete.
[2022-08-18 13:01:28,519.519] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:01:28,542.542] INFO [8603235840] - Shutting down
[2022-08-18 13:01:28,644.644] INFO [8603235840] - Waiting for application shutdown.
[2022-08-18 13:01:28,644.644] INFO [8603235840] - Application shutdown complete.
[2022-08-18 13:01:28,644.644] INFO [8603235840] - Finished server process [58623]
[2022-08-18 13:01:29,348.348] INFO [8663225856] - Started server process [58636]
[2022-08-18 13:01:29,349.349] INFO [8663225856] - Waiting for application startup.
[2022-08-18 13:01:29,349.349] INFO [8663225856] - Application startup complete.
[2022-08-18 13:02:01,747.747] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:02:01,774.774] INFO [8663225856] - Shutting down
[2022-08-18 13:02:01,876.876] INFO [8663225856] - Waiting for application shutdown.
[2022-08-18 13:02:01,876.876] INFO [8663225856] - Application shutdown complete.
[2022-08-18 13:02:01,876.876] INFO [8663225856] - Finished server process [58636]
[2022-08-18 13:02:02,686.686] INFO [8606377472] - Started server process [58649]
[2022-08-18 13:02:02,686.686] INFO [8606377472] - Waiting for application startup.
[2022-08-18 13:02:02,686.686] INFO [8606377472] - Application startup complete.
[2022-08-18 13:02:04,910.910] INFO [8606377472] - 127.0.0.1:63186 - "GET /swagger HTTP/1.1" 200
[2022-08-18 13:02:05,173.173] INFO [8606377472] - 127.0.0.1:63186 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 13:02:09,486.486] INFO [8606377472] - 127.0.0.1:63186 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 13:02:09,487.487] ERROR [8606377472] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 16:41:39,396.396] INFO [8605533696] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 16:41:39,397.397] INFO [8605533696] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 16:41:39,397.397] INFO [8605533696] - Started reloader process [63436] using StatReload
[2022-08-18 16:41:39,965.965] INFO [8661730816] - Started server process [63441]
[2022-08-18 16:41:39,966.966] INFO [8661730816] - Waiting for application startup.
[2022-08-18 16:41:39,966.966] INFO [8661730816] - Application startup complete.
[2022-08-18 16:41:52,744.744] INFO [8661730816] - 127.0.0.1:57939 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:41:53,567.567] INFO [8661730816] - 127.0.0.1:57939 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:42:03,616.616] INFO [8661730816] - 127.0.0.1:57940 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:42:03,617.617] ERROR [8661730816] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 16:42:21,845.845] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:42:21,927.927] INFO [8661730816] - Shutting down
[2022-08-18 16:42:22,028.028] INFO [8661730816] - Waiting for application shutdown.
[2022-08-18 16:42:22,029.029] INFO [8661730816] - Application shutdown complete.
[2022-08-18 16:42:22,029.029] INFO [8661730816] - Finished server process [63441]
[2022-08-18 16:42:22,779.779] INFO [8600155648] - Started server process [63475]
[2022-08-18 16:42:22,779.779] INFO [8600155648] - Waiting for application startup.
[2022-08-18 16:42:22,780.780] INFO [8600155648] - Application startup complete.
[2022-08-18 16:42:24,024.024] INFO [8600155648] - 127.0.0.1:57943 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:42:24,234.234] INFO [8600155648] - 127.0.0.1:57943 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:42:33,527.527] INFO [8600155648] - 127.0.0.1:57944 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:42:33,527.527] ERROR [8600155648] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 16:44:04,980.980] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:05,033.033] INFO [8600155648] - Shutting down
[2022-08-18 16:44:05,141.141] INFO [8600155648] - Waiting for application shutdown.
[2022-08-18 16:44:05,142.142] INFO [8600155648] - Application shutdown complete.
[2022-08-18 16:44:05,142.142] INFO [8600155648] - Finished server process [63475]
[2022-08-18 16:44:06,814.814] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:07,591.591] INFO [8630228480] - Started server process [63543]
[2022-08-18 16:44:07,591.591] INFO [8630228480] - Waiting for application startup.
[2022-08-18 16:44:07,591.591] INFO [8630228480] - Application startup complete.
[2022-08-18 16:44:09,912.912] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:09,916.916] INFO [8630228480] - Shutting down
[2022-08-18 16:44:10,018.018] INFO [8630228480] - Waiting for application shutdown.
[2022-08-18 16:44:10,018.018] INFO [8630228480] - Application shutdown complete.
[2022-08-18 16:44:10,018.018] INFO [8630228480] - Finished server process [63543]
[2022-08-18 16:44:10,666.666] INFO [8633759232] - Started server process [63548]
[2022-08-18 16:44:10,666.666] INFO [8633759232] - Waiting for application startup.
[2022-08-18 16:44:10,666.666] INFO [8633759232] - Application startup complete.
[2022-08-18 16:44:21,568.568] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:21,618.618] INFO [8633759232] - Shutting down
[2022-08-18 16:44:21,719.719] INFO [8633759232] - Waiting for application shutdown.
[2022-08-18 16:44:21,719.719] INFO [8633759232] - Application shutdown complete.
[2022-08-18 16:44:21,719.719] INFO [8633759232] - Finished server process [63548]
[2022-08-18 16:44:22,421.421] INFO [8660784640] - Started server process [63612]
[2022-08-18 16:44:22,421.421] INFO [8660784640] - Waiting for application startup.
[2022-08-18 16:44:22,421.421] INFO [8660784640] - Application startup complete.
[2022-08-18 16:44:26,981.981] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:27,081.081] INFO [8660784640] - Shutting down
[2022-08-18 16:44:27,183.183] INFO [8660784640] - Waiting for application shutdown.
[2022-08-18 16:44:27,186.186] INFO [8660784640] - Application shutdown complete.
[2022-08-18 16:44:27,187.187] INFO [8660784640] - Finished server process [63612]
[2022-08-18 16:44:28,038.038] INFO [8635528704] - Started server process [63633]
[2022-08-18 16:44:28,039.039] INFO [8635528704] - Waiting for application startup.
[2022-08-18 16:44:28,039.039] INFO [8635528704] - Application startup complete.
[2022-08-18 16:44:30,893.893] INFO [8635528704] - 127.0.0.1:57995 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:44:31,120.120] INFO [8635528704] - 127.0.0.1:57995 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:44:36,723.723] INFO [8635528704] - 127.0.0.1:57996 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:44:36,730.730] ERROR [8635528704] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 138, in import_optional_dependency
    module = importlib.import_module(name)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 984, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'pyxlsb'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 31, in __init__
    import_optional_dependency("pyxlsb")
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 141, in import_optional_dependency
    raise ImportError(msg)
ImportError: Missing optional dependency 'pyxlsb'.  Use pip or conda to install pyxlsb.
[2022-08-18 16:44:53,854.854] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:53,876.876] INFO [8635528704] - Shutting down
[2022-08-18 16:44:53,977.977] INFO [8635528704] - Waiting for application shutdown.
[2022-08-18 16:44:53,978.978] INFO [8635528704] - Application shutdown complete.
[2022-08-18 16:44:53,978.978] INFO [8635528704] - Finished server process [63633]
[2022-08-18 16:44:54,923.923] INFO [8605435392] - Started server process [63678]
[2022-08-18 16:44:54,923.923] INFO [8605435392] - Waiting for application startup.
[2022-08-18 16:44:54,923.923] INFO [8605435392] - Application startup complete.
[2022-08-18 16:44:56,855.855] INFO [8605435392] - 127.0.0.1:58002 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:44:57,000.000] INFO [8605435392] - 127.0.0.1:58002 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:45:01,689.689] INFO [8605435392] - 127.0.0.1:58002 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:45:01,690.690] ERROR [8605435392] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 16:45:45,134.134] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:45:45,173.173] INFO [8605435392] - Shutting down
[2022-08-18 16:45:45,275.275] INFO [8605435392] - Waiting for application shutdown.
[2022-08-18 16:45:45,275.275] INFO [8605435392] - Application shutdown complete.
[2022-08-18 16:45:45,275.275] INFO [8605435392] - Finished server process [63678]
[2022-08-18 16:45:46,023.023] INFO [8671872512] - Started server process [63695]
[2022-08-18 16:45:46,024.024] INFO [8671872512] - Waiting for application startup.
[2022-08-18 16:45:46,024.024] INFO [8671872512] - Application startup complete.
[2022-08-18 16:45:55,801.801] INFO [8671872512] - 127.0.0.1:58022 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:45:55,956.956] INFO [8671872512] - 127.0.0.1:58022 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:46:02,545.545] INFO [8671872512] - 127.0.0.1:58023 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:46:02,546.546] ERROR [8671872512] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    await out_pt.write(content.decode('base64'))
LookupError: 'base64' is not a text encoding; use codecs.decode() to handle arbitrary codecs
[2022-08-18 16:46:32,156.156] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:46:32,226.226] INFO [8671872512] - Shutting down
[2022-08-18 16:46:32,327.327] INFO [8671872512] - Waiting for application shutdown.
[2022-08-18 16:46:32,328.328] INFO [8671872512] - Application shutdown complete.
[2022-08-18 16:46:32,328.328] INFO [8671872512] - Finished server process [63695]
[2022-08-18 16:46:33,278.278] INFO [8609961472] - Started server process [63706]
[2022-08-18 16:46:33,278.278] INFO [8609961472] - Waiting for application startup.
[2022-08-18 16:46:33,278.278] INFO [8609961472] - Application startup complete.
[2022-08-18 16:46:37,638.638] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:46:37,642.642] INFO [8609961472] - Shutting down
[2022-08-18 16:46:37,743.743] INFO [8609961472] - Waiting for application shutdown.
[2022-08-18 16:46:37,743.743] INFO [8609961472] - Application shutdown complete.
[2022-08-18 16:46:37,743.743] INFO [8609961472] - Finished server process [63706]
[2022-08-18 16:46:38,585.585] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:46:39,222.222] INFO [8636577280] - Started server process [63718]
[2022-08-18 16:46:39,223.223] INFO [8636577280] - Waiting for application startup.
[2022-08-18 16:46:39,223.223] INFO [8636577280] - Application startup complete.
[2022-08-18 16:46:42,714.714] INFO [8636577280] - 127.0.0.1:58027 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:46:42,851.851] INFO [8636577280] - 127.0.0.1:58027 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:46:46,838.838] INFO [8636577280] - 127.0.0.1:58027 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:46:46,839.839] ERROR [8636577280] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 16:47:21,129.129] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:47:21,149.149] INFO [8636577280] - Shutting down
[2022-08-18 16:47:21,251.251] INFO [8636577280] - Waiting for application shutdown.
[2022-08-18 16:47:21,251.251] INFO [8636577280] - Application shutdown complete.
[2022-08-18 16:47:21,251.251] INFO [8636577280] - Finished server process [63718]
[2022-08-18 16:47:22,058.058] INFO [8603055616] - Started server process [63744]
[2022-08-18 16:47:22,059.059] INFO [8603055616] - Waiting for application startup.
[2022-08-18 16:47:22,059.059] INFO [8603055616] - Application startup complete.
[2022-08-18 16:47:25,834.834] INFO [8603055616] - 127.0.0.1:58032 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:47:25,967.967] INFO [8603055616] - 127.0.0.1:58032 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:47:30,403.403] INFO [8603055616] - 127.0.0.1:58032 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:47:30,404.404] ERROR [8603055616] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 16:48:48,203.203] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:48:48,269.269] INFO [8603055616] - Shutting down
[2022-08-18 16:48:48,371.371] INFO [8603055616] - Waiting for application shutdown.
[2022-08-18 16:48:48,372.372] INFO [8603055616] - Application shutdown complete.
[2022-08-18 16:48:48,372.372] INFO [8603055616] - Finished server process [63744]
[2022-08-18 16:48:49,238.238] INFO [8630568448] - Started server process [63779]
[2022-08-18 16:48:49,239.239] INFO [8630568448] - Waiting for application startup.
[2022-08-18 16:48:49,239.239] INFO [8630568448] - Application startup complete.
[2022-08-18 16:48:50,912.912] INFO [8630568448] - 127.0.0.1:58041 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:48:51,050.050] INFO [8630568448] - 127.0.0.1:58041 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:48:55,227.227] INFO [8630568448] - 127.0.0.1:58041 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:48:55,228.228] ERROR [8630568448] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 16:49:01,496.496] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:49:01,524.524] INFO [8630568448] - Shutting down
[2022-08-18 16:49:01,625.625] INFO [8630568448] - Waiting for application shutdown.
[2022-08-18 16:49:01,626.626] INFO [8630568448] - Application shutdown complete.
[2022-08-18 16:49:01,626.626] INFO [8630568448] - Finished server process [63779]
[2022-08-18 16:49:02,444.444] INFO [8605226496] - Started server process [63794]
[2022-08-18 16:49:02,444.444] INFO [8605226496] - Waiting for application startup.
[2022-08-18 16:49:02,445.445] INFO [8605226496] - Application startup complete.
[2022-08-18 16:49:02,673.673] INFO [8605226496] - 127.0.0.1:58044 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:49:02,799.799] INFO [8605226496] - 127.0.0.1:58044 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:49:06,320.320] INFO [8605226496] - 127.0.0.1:58044 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:49:06,321.321] ERROR [8605226496] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 16:49:51,595.595] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:49:51,690.690] INFO [8605226496] - Shutting down
[2022-08-18 16:49:51,792.792] INFO [8605226496] - Waiting for application shutdown.
[2022-08-18 16:49:51,793.793] INFO [8605226496] - Application shutdown complete.
[2022-08-18 16:49:51,793.793] INFO [8605226496] - Finished server process [63794]
[2022-08-18 16:50:16,676.676] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:50:48,951.951] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:51:23,341.341] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:52:56,910.910] INFO [8663070208] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 16:52:56,910.910] ERROR [8663070208] - [Errno 48] Address already in use
[2022-08-18 16:53:24,799.799] INFO [8665957888] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 16:53:24,800.800] INFO [8665957888] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 16:53:24,800.800] INFO [8665957888] - Started reloader process [63885] using StatReload
[2022-08-18 16:53:25,356.356] INFO [8608785920] - Started server process [63887]
[2022-08-18 16:53:25,357.357] INFO [8608785920] - Waiting for application startup.
[2022-08-18 16:53:25,357.357] INFO [8608785920] - Application startup complete.
[2022-08-18 16:53:26,908.908] INFO [8608785920] - 127.0.0.1:58066 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:53:27,220.220] INFO [8608785920] - 127.0.0.1:58066 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:53:40,132.132] INFO [8608785920] - 127.0.0.1:58067 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:53:40,132.132] ERROR [8608785920] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'w', encoding='utf-8') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 16:55:42,953.953] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:55:43,075.075] INFO [8608785920] - Shutting down
[2022-08-18 16:55:43,177.177] INFO [8608785920] - Waiting for application shutdown.
[2022-08-18 16:55:43,177.177] INFO [8608785920] - Application shutdown complete.
[2022-08-18 16:55:43,178.178] INFO [8608785920] - Finished server process [63887]
[2022-08-18 16:55:44,007.007] INFO [8634574336] - Started server process [63912]
[2022-08-18 16:55:44,008.008] INFO [8634574336] - Waiting for application startup.
[2022-08-18 16:55:44,008.008] INFO [8634574336] - Application startup complete.
[2022-08-18 16:55:44,009.009] INFO [8634574336] - 127.0.0.1:58073 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:55:44,172.172] INFO [8634574336] - 127.0.0.1:58073 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:55:48,955.955] INFO [8634574336] - 127.0.0.1:58073 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:55:48,955.955] ERROR [8634574336] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb', encoding='utf-8') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
ValueError: binary mode doesn't take an encoding argument
[2022-08-18 16:56:01,159.159] INFO [8634574336] - 127.0.0.1:58074 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:56:01,305.305] INFO [8634574336] - 127.0.0.1:58074 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:56:06,124.124] INFO [8634574336] - 127.0.0.1:58074 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:56:06,124.124] ERROR [8634574336] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb', encoding='utf-8') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
ValueError: binary mode doesn't take an encoding argument
[2022-08-18 16:56:24,844.844] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:56:24,865.865] INFO [8634574336] - Shutting down
[2022-08-18 16:56:24,967.967] INFO [8634574336] - Waiting for application shutdown.
[2022-08-18 16:56:24,967.967] INFO [8634574336] - Application shutdown complete.
[2022-08-18 16:56:24,968.968] INFO [8634574336] - Finished server process [63912]
[2022-08-18 16:56:25,706.706] INFO [8600413696] - Started server process [63925]
[2022-08-18 16:56:25,706.706] INFO [8600413696] - Waiting for application startup.
[2022-08-18 16:56:25,707.707] INFO [8600413696] - Application startup complete.
[2022-08-18 16:56:27,255.255] INFO [8600413696] - 127.0.0.1:58078 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:56:27,403.403] INFO [8600413696] - 127.0.0.1:58078 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:56:31,716.716] INFO [8600413696] - 127.0.0.1:58078 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:56:31,717.717] ERROR [8600413696] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 16:57:13,452.452] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:57:13,536.536] INFO [8600413696] - Shutting down
[2022-08-18 16:57:13,643.643] INFO [8600413696] - Waiting for application shutdown.
[2022-08-18 16:57:13,643.643] INFO [8600413696] - Application shutdown complete.
[2022-08-18 16:57:13,644.644] INFO [8600413696] - Finished server process [63925]
[2022-08-18 16:57:14,419.419] INFO [8637486592] - Started server process [63954]
[2022-08-18 16:57:14,420.420] INFO [8637486592] - Waiting for application startup.
[2022-08-18 16:57:14,420.420] INFO [8637486592] - Application startup complete.
[2022-08-18 16:57:16,342.342] INFO [8637486592] - 127.0.0.1:58087 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:57:16,480.480] INFO [8637486592] - 127.0.0.1:58087 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:57:20,272.272] INFO [8637486592] - 127.0.0.1:58087 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:57:20,273.273] ERROR [8637486592] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 16:59:38,697.697] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:59:38,849.849] INFO [8637486592] - Shutting down
[2022-08-18 16:59:38,968.968] INFO [8637486592] - Waiting for application shutdown.
[2022-08-18 16:59:38,980.980] INFO [8637486592] - Application shutdown complete.
[2022-08-18 16:59:38,980.980] INFO [8637486592] - Finished server process [63954]
[2022-08-18 16:59:40,116.116] INFO [8596022784] - Started server process [64026]
[2022-08-18 16:59:40,117.117] INFO [8596022784] - Waiting for application startup.
[2022-08-18 16:59:40,117.117] INFO [8596022784] - Application startup complete.
[2022-08-18 16:59:42,105.105] INFO [8596022784] - 127.0.0.1:58337 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:59:42,425.425] INFO [8596022784] - 127.0.0.1:58337 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:59:47,078.078] INFO [8596022784] - 127.0.0.1:58337 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:59:47,079.079] ERROR [8596022784] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'w+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 17:03:46,831.831] INFO [8596022784] - 127.0.0.1:58343 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:03:46,958.958] INFO [8596022784] - 127.0.0.1:58343 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:03:53,289.289] INFO [8596022784] - 127.0.0.1:58344 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:03:53,290.290] ERROR [8596022784] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'w+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 17:04:58,103.103] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 17:04:58,115.115] INFO [8596022784] - Shutting down
[2022-08-18 17:04:58,217.217] INFO [8596022784] - Waiting for application shutdown.
[2022-08-18 17:04:58,217.217] INFO [8596022784] - Application shutdown complete.
[2022-08-18 17:04:58,217.217] INFO [8596022784] - Finished server process [64026]
[2022-08-18 17:04:58,990.990] INFO [8592479744] - Started server process [64143]
[2022-08-18 17:04:58,990.990] INFO [8592479744] - Waiting for application startup.
[2022-08-18 17:04:58,991.991] INFO [8592479744] - Application startup complete.
[2022-08-18 17:05:05,226.226] INFO [8592479744] - 127.0.0.1:58350 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:05:05,419.419] INFO [8592479744] - 127.0.0.1:58350 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:05:09,588.588] INFO [8592479744] - 127.0.0.1:58350 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:05:09,588.588] ERROR [8592479744] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 44, in upload
    pd.ExcelWriter(file_path, engine='xlsxwriter')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlsxwriter.py", line 191, in __init__
    super().__init__(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1106, in __init__
    self.handles = get_handle(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/common.py", line 694, in get_handle
    check_parent_directory(str(handle))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/common.py", line 568, in check_parent_directory
    raise OSError(rf"Cannot save file into a non-existent directory: '{parent}'")
OSError: Cannot save file into a non-existent directory: '/Users/garayev/uploaded_files'
[2022-08-18 17:05:41,442.442] INFO [8592479744] - Shutting down
[2022-08-18 17:05:41,544.544] INFO [8592479744] - Waiting for application shutdown.
[2022-08-18 17:05:41,545.545] INFO [8592479744] - Application shutdown complete.
[2022-08-18 17:05:41,545.545] INFO [8592479744] - Finished server process [64143]
[2022-08-18 17:05:41,631.631] INFO [8665957888] - Stopping reloader process [63885]
[2022-08-18 17:06:25,394.394] INFO [8675358208] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 17:06:25,395.395] INFO [8675358208] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 17:06:25,395.395] INFO [8675358208] - Started reloader process [64183] using StatReload
[2022-08-18 17:06:25,930.930] INFO [8599426560] - Started server process [64187]
[2022-08-18 17:06:25,931.931] INFO [8599426560] - Waiting for application startup.
[2022-08-18 17:06:25,931.931] INFO [8599426560] - Application startup complete.
[2022-08-18 17:06:28,151.151] INFO [8599426560] - 127.0.0.1:58353 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:06:28,297.297] INFO [8599426560] - 127.0.0.1:58353 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:06:33,343.343] INFO [8599426560] - 127.0.0.1:58354 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:06:33,344.344] ERROR [8599426560] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:07:09,695.695] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:09,733.733] INFO [8599426560] - Shutting down
[2022-08-18 17:07:09,835.835] INFO [8599426560] - Waiting for application shutdown.
[2022-08-18 17:07:09,836.836] INFO [8599426560] - Application shutdown complete.
[2022-08-18 17:07:09,836.836] INFO [8599426560] - Finished server process [64187]
[2022-08-18 17:07:10,673.673] INFO [8664311296] - Started server process [64229]
[2022-08-18 17:07:10,674.674] INFO [8664311296] - Waiting for application startup.
[2022-08-18 17:07:10,674.674] INFO [8664311296] - Application startup complete.
[2022-08-18 17:07:13,354.354] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:13,414.414] INFO [8664311296] - Shutting down
[2022-08-18 17:07:13,516.516] INFO [8664311296] - Waiting for application shutdown.
[2022-08-18 17:07:13,516.516] INFO [8664311296] - Application shutdown complete.
[2022-08-18 17:07:13,516.516] INFO [8664311296] - Finished server process [64229]
[2022-08-18 17:07:14,155.155] INFO [8670275072] - Started server process [64239]
[2022-08-18 17:07:14,155.155] INFO [8670275072] - Waiting for application startup.
[2022-08-18 17:07:14,155.155] INFO [8670275072] - Application startup complete.
[2022-08-18 17:07:27,936.936] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:27,938.938] INFO [8670275072] - Shutting down
[2022-08-18 17:07:28,039.039] INFO [8670275072] - Waiting for application shutdown.
[2022-08-18 17:07:28,040.040] INFO [8670275072] - Application shutdown complete.
[2022-08-18 17:07:28,040.040] INFO [8670275072] - Finished server process [64239]
[2022-08-18 17:07:28,974.974] INFO [8601658880] - Started server process [64246]
[2022-08-18 17:07:28,974.974] INFO [8601658880] - Waiting for application startup.
[2022-08-18 17:07:28,974.974] INFO [8601658880] - Application startup complete.
[2022-08-18 17:07:28,975.975] INFO [8601658880] - 127.0.0.1:58360 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:07:29,135.135] INFO [8601658880] - 127.0.0.1:58360 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:07:33,709.709] INFO [8601658880] - 127.0.0.1:58360 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:07:33,710.710] ERROR [8601658880] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:07:44,811.811] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:44,877.877] INFO [8601658880] - Shutting down
[2022-08-18 17:07:44,979.979] INFO [8601658880] - Waiting for application shutdown.
[2022-08-18 17:07:44,979.979] INFO [8601658880] - Application shutdown complete.
[2022-08-18 17:07:44,979.979] INFO [8601658880] - Finished server process [64246]
[2022-08-18 17:07:45,674.674] INFO [8640783872] - Started server process [64261]
[2022-08-18 17:07:45,675.675] INFO [8640783872] - Waiting for application startup.
[2022-08-18 17:07:45,675.675] INFO [8640783872] - Application startup complete.
[2022-08-18 17:08:37,325.325] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:08:37,356.356] INFO [8640783872] - Shutting down
[2022-08-18 17:08:37,458.458] INFO [8640783872] - Waiting for application shutdown.
[2022-08-18 17:08:37,459.459] INFO [8640783872] - Application shutdown complete.
[2022-08-18 17:08:37,459.459] INFO [8640783872] - Finished server process [64261]
[2022-08-18 17:08:38,661.661] INFO [8632051200] - Started server process [64274]
[2022-08-18 17:08:38,662.662] INFO [8632051200] - Waiting for application startup.
[2022-08-18 17:08:38,662.662] INFO [8632051200] - Application startup complete.
[2022-08-18 17:08:57,601.601] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:08:57,618.618] INFO [8632051200] - Shutting down
[2022-08-18 17:08:57,719.719] INFO [8632051200] - Waiting for application shutdown.
[2022-08-18 17:08:57,720.720] INFO [8632051200] - Application shutdown complete.
[2022-08-18 17:08:57,720.720] INFO [8632051200] - Finished server process [64274]
[2022-08-18 17:08:58,527.527] INFO [8598771200] - Started server process [64293]
[2022-08-18 17:08:58,528.528] INFO [8598771200] - Waiting for application startup.
[2022-08-18 17:08:58,528.528] INFO [8598771200] - Application startup complete.
[2022-08-18 17:09:01,321.321] INFO [8598771200] - 127.0.0.1:58376 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:09:01,532.532] INFO [8598771200] - 127.0.0.1:58376 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:09:05,539.539] INFO [8598771200] - 127.0.0.1:58376 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:09:05,540.540] ERROR [8598771200] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content.decode('base64'))
LookupError: 'base64' is not a text encoding; use codecs.decode() to handle arbitrary codecs
[2022-08-18 17:09:36,022.022] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:09:36,089.089] INFO [8598771200] - Shutting down
[2022-08-18 17:09:36,191.191] INFO [8598771200] - Waiting for application shutdown.
[2022-08-18 17:09:36,192.192] INFO [8598771200] - Application shutdown complete.
[2022-08-18 17:09:36,192.192] INFO [8598771200] - Finished server process [64293]
[2022-08-18 17:09:36,970.970] INFO [8658867712] - Started server process [64318]
[2022-08-18 17:09:36,971.971] INFO [8658867712] - Waiting for application startup.
[2022-08-18 17:09:36,971.971] INFO [8658867712] - Application startup complete.
[2022-08-18 17:09:48,157.157] INFO [8658867712] - 127.0.0.1:58380 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:09:48,304.304] INFO [8658867712] - 127.0.0.1:58380 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:09:51,874.874] INFO [8658867712] - 127.0.0.1:58380 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:09:51,875.875] ERROR [8658867712] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content.decode('utf-8'))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: a bytes-like object is required, not 'str'
[2022-08-18 17:10:58,546.546] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:10:58,642.642] INFO [8658867712] - Shutting down
[2022-08-18 17:10:58,744.744] INFO [8658867712] - Waiting for application shutdown.
[2022-08-18 17:10:58,746.746] INFO [8658867712] - Application shutdown complete.
[2022-08-18 17:10:58,746.746] INFO [8658867712] - Finished server process [64318]
[2022-08-18 17:10:59,500.500] INFO [8631232000] - Started server process [64346]
[2022-08-18 17:10:59,500.500] INFO [8631232000] - Waiting for application startup.
[2022-08-18 17:10:59,501.501] INFO [8631232000] - Application startup complete.
[2022-08-18 17:11:14,984.984] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:11:15,005.005] INFO [8631232000] - Shutting down
[2022-08-18 17:11:15,107.107] INFO [8631232000] - Waiting for application shutdown.
[2022-08-18 17:11:15,107.107] INFO [8631232000] - Application shutdown complete.
[2022-08-18 17:11:15,107.107] INFO [8631232000] - Finished server process [64346]
[2022-08-18 17:11:15,796.796] INFO [8643147264] - Started server process [64354]
[2022-08-18 17:11:15,796.796] INFO [8643147264] - Waiting for application startup.
[2022-08-18 17:11:15,796.796] INFO [8643147264] - Application startup complete.
[2022-08-18 17:11:26,768.768] INFO [8643147264] - 127.0.0.1:58396 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:11:26,984.984] INFO [8643147264] - 127.0.0.1:58396 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:11:30,993.993] INFO [8643147264] - 127.0.0.1:58396 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:11:30,994.994] ERROR [8643147264] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 17:12:10,052.052] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:10,086.086] INFO [8643147264] - Shutting down
[2022-08-18 17:12:10,189.189] INFO [8643147264] - Waiting for application shutdown.
[2022-08-18 17:12:10,190.190] INFO [8643147264] - Application shutdown complete.
[2022-08-18 17:12:10,190.190] INFO [8643147264] - Finished server process [64354]
[2022-08-18 17:12:11,089.089] INFO [8641132032] - Started server process [64385]
[2022-08-18 17:12:11,089.089] INFO [8641132032] - Waiting for application startup.
[2022-08-18 17:12:11,089.089] INFO [8641132032] - Application startup complete.
[2022-08-18 17:12:12,587.587] INFO [8641132032] - 127.0.0.1:58403 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:12:12,742.742] INFO [8641132032] - 127.0.0.1:58403 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:12:15,980.980] INFO [8641132032] - 127.0.0.1:58403 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:12:15,981.981] ERROR [8641132032] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:12:26,398.398] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:26,486.486] INFO [8641132032] - Shutting down
[2022-08-18 17:12:26,588.588] INFO [8641132032] - Waiting for application shutdown.
[2022-08-18 17:12:26,589.589] INFO [8641132032] - Application shutdown complete.
[2022-08-18 17:12:26,589.589] INFO [8641132032] - Finished server process [64385]
[2022-08-18 17:12:27,473.473] INFO [8594765312] - Started server process [64397]
[2022-08-18 17:12:27,473.473] INFO [8594765312] - Waiting for application startup.
[2022-08-18 17:12:27,473.473] INFO [8594765312] - Application startup complete.
[2022-08-18 17:12:32,111.111] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:32,132.132] INFO [8594765312] - Shutting down
[2022-08-18 17:12:32,233.233] INFO [8594765312] - Waiting for application shutdown.
[2022-08-18 17:12:32,234.234] INFO [8594765312] - Application shutdown complete.
[2022-08-18 17:12:32,234.234] INFO [8594765312] - Finished server process [64397]
[2022-08-18 17:12:32,869.869] INFO [8600700416] - Started server process [64403]
[2022-08-18 17:12:32,870.870] INFO [8600700416] - Waiting for application startup.
[2022-08-18 17:12:32,870.870] INFO [8600700416] - Application startup complete.
[2022-08-18 17:12:33,495.495] INFO [8600700416] - 127.0.0.1:58407 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:12:33,621.621] INFO [8600700416] - 127.0.0.1:58407 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:12:36,779.779] INFO [8600700416] - 127.0.0.1:58407 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:12:36,780.780] ERROR [8600700416] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 17:12:45,019.019] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:45,027.027] INFO [8600700416] - Shutting down
[2022-08-18 17:12:45,128.128] INFO [8600700416] - Waiting for application shutdown.
[2022-08-18 17:12:45,129.129] INFO [8600700416] - Application shutdown complete.
[2022-08-18 17:12:45,129.129] INFO [8600700416] - Finished server process [64403]
[2022-08-18 17:12:45,901.901] INFO [8636298752] - Started server process [64415]
[2022-08-18 17:12:45,901.901] INFO [8636298752] - Waiting for application startup.
[2022-08-18 17:12:45,901.901] INFO [8636298752] - Application startup complete.
[2022-08-18 17:12:46,426.426] INFO [8636298752] - 127.0.0.1:58409 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:12:46,567.567] INFO [8636298752] - 127.0.0.1:58409 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:12:51,120.120] INFO [8636298752] - 127.0.0.1:58409 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:12:51,121.121] ERROR [8636298752] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='xlsxwriter')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1351, in __init__
    raise ValueError(f"Unknown engine: {engine}")
ValueError: Unknown engine: xlsxwriter
[2022-08-18 17:13:03,670.670] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:03,721.721] INFO [8636298752] - Shutting down
[2022-08-18 17:13:03,823.823] INFO [8636298752] - Waiting for application shutdown.
[2022-08-18 17:13:03,823.823] INFO [8636298752] - Application shutdown complete.
[2022-08-18 17:13:03,823.823] INFO [8636298752] - Finished server process [64415]
[2022-08-18 17:13:04,598.598] INFO [8665765376] - Started server process [64433]
[2022-08-18 17:13:04,599.599] INFO [8665765376] - Waiting for application startup.
[2022-08-18 17:13:04,599.599] INFO [8665765376] - Application startup complete.
[2022-08-18 17:13:05,975.975] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:06,015.015] INFO [8665765376] - Shutting down
[2022-08-18 17:13:06,116.116] INFO [8665765376] - Waiting for application shutdown.
[2022-08-18 17:13:06,117.117] INFO [8665765376] - Application shutdown complete.
[2022-08-18 17:13:06,117.117] INFO [8665765376] - Finished server process [64433]
[2022-08-18 17:13:06,818.818] INFO [8601036288] - Started server process [64439]
[2022-08-18 17:13:06,819.819] INFO [8601036288] - Waiting for application startup.
[2022-08-18 17:13:06,819.819] INFO [8601036288] - Application startup complete.
[2022-08-18 17:13:07,010.010] INFO [8601036288] - 127.0.0.1:58411 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:13:07,143.143] INFO [8601036288] - 127.0.0.1:58411 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:13:10,355.355] INFO [8601036288] - 127.0.0.1:58411 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:13:10,355.355] ERROR [8601036288] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:13:31,431.431] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:31,444.444] INFO [8601036288] - Shutting down
[2022-08-18 17:13:31,545.545] INFO [8601036288] - Waiting for application shutdown.
[2022-08-18 17:13:31,546.546] INFO [8601036288] - Application shutdown complete.
[2022-08-18 17:13:31,546.546] INFO [8601036288] - Finished server process [64439]
[2022-08-18 17:13:32,380.380] INFO [8603596288] - Started server process [64449]
[2022-08-18 17:13:32,380.380] INFO [8603596288] - Waiting for application startup.
[2022-08-18 17:13:32,380.380] INFO [8603596288] - Application startup complete.
[2022-08-18 17:13:35,239.239] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:35,316.316] INFO [8603596288] - Shutting down
[2022-08-18 17:13:35,418.418] INFO [8603596288] - Waiting for application shutdown.
[2022-08-18 17:13:35,418.418] INFO [8603596288] - Application shutdown complete.
[2022-08-18 17:13:35,418.418] INFO [8603596288] - Finished server process [64449]
[2022-08-18 17:13:36,349.349] INFO [8606705152] - Started server process [64452]
[2022-08-18 17:13:36,350.350] INFO [8606705152] - Waiting for application startup.
[2022-08-18 17:13:36,350.350] INFO [8606705152] - Application startup complete.
[2022-08-18 17:13:36,351.351] INFO [8606705152] - 127.0.0.1:58413 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:13:36,519.519] INFO [8606705152] - 127.0.0.1:58413 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:13:39,964.964] INFO [8606705152] - 127.0.0.1:58413 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:13:39,964.964] ERROR [8606705152] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:13:59,758.758] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:59,859.859] INFO [8606705152] - Shutting down
[2022-08-18 17:13:59,960.960] INFO [8606705152] - Waiting for application shutdown.
[2022-08-18 17:13:59,961.961] INFO [8606705152] - Application shutdown complete.
[2022-08-18 17:13:59,961.961] INFO [8606705152] - Finished server process [64452]
[2022-08-18 17:14:00,800.800] INFO [8636384768] - Started server process [64476]
[2022-08-18 17:14:00,801.801] INFO [8636384768] - Waiting for application startup.
[2022-08-18 17:14:00,801.801] INFO [8636384768] - Application startup complete.
[2022-08-18 17:14:01,684.684] INFO [8636384768] - 127.0.0.1:58415 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:14:01,788.788] INFO [8636384768] - 127.0.0.1:58415 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:14:07,784.784] INFO [8636384768] - 127.0.0.1:58416 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:14:07,785.785] ERROR [8636384768] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:16:39,125.125] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:16:39,148.148] INFO [8636384768] - Shutting down
[2022-08-18 17:16:39,250.250] INFO [8636384768] - Waiting for application shutdown.
[2022-08-18 17:16:39,250.250] INFO [8636384768] - Application shutdown complete.
[2022-08-18 17:16:39,251.251] INFO [8636384768] - Finished server process [64476]
[2022-08-18 17:16:40,102.102] INFO [8671933952] - Started server process [64518]
[2022-08-18 17:16:40,103.103] INFO [8671933952] - Waiting for application startup.
[2022-08-18 17:16:40,103.103] INFO [8671933952] - Application startup complete.
[2022-08-18 17:16:54,975.975] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:16:54,997.997] INFO [8671933952] - Shutting down
[2022-08-18 17:16:55,099.099] INFO [8671933952] - Waiting for application shutdown.
[2022-08-18 17:16:55,099.099] INFO [8671933952] - Application shutdown complete.
[2022-08-18 17:16:55,100.100] INFO [8671933952] - Finished server process [64518]
[2022-08-18 17:16:55,963.963] INFO [8669738496] - Started server process [64530]
[2022-08-18 17:16:55,963.963] INFO [8669738496] - Waiting for application startup.
[2022-08-18 17:16:55,963.963] INFO [8669738496] - Application startup complete.
[2022-08-18 17:16:59,665.665] INFO [8669738496] - 127.0.0.1:58429 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:16:59,931.931] INFO [8669738496] - 127.0.0.1:58429 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:17:04,073.073] INFO [8669738496] - 127.0.0.1:58429 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:17:04,074.074] ERROR [8669738496] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 51, in upload
    with pd.ExcelFile(file_path) as xls:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:18:56,689.689] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:18:56,723.723] INFO [8669738496] - Shutting down
[2022-08-18 17:18:56,825.825] INFO [8669738496] - Waiting for application shutdown.
[2022-08-18 17:18:56,826.826] INFO [8669738496] - Application shutdown complete.
[2022-08-18 17:18:56,826.826] INFO [8669738496] - Finished server process [64530]
[2022-08-18 17:18:58,018.018] INFO [8637662720] - Started server process [64581]
[2022-08-18 17:18:58,018.018] INFO [8637662720] - Waiting for application startup.
[2022-08-18 17:18:58,018.018] INFO [8637662720] - Application startup complete.
[2022-08-18 17:19:06,797.797] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:19:06,830.830] INFO [8637662720] - Shutting down
[2022-08-18 17:19:06,931.931] INFO [8637662720] - Waiting for application shutdown.
[2022-08-18 17:19:06,932.932] INFO [8637662720] - Application shutdown complete.
[2022-08-18 17:19:06,932.932] INFO [8637662720] - Finished server process [64581]
[2022-08-18 17:19:07,787.787] INFO [8667395584] - Started server process [64633]
[2022-08-18 17:19:07,788.788] INFO [8667395584] - Waiting for application startup.
[2022-08-18 17:19:07,788.788] INFO [8667395584] - Application startup complete.
[2022-08-18 17:19:22,853.853] INFO [8667395584] - 127.0.0.1:58470 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:19:23,083.083] INFO [8667395584] - 127.0.0.1:58470 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:19:26,760.760] INFO [8667395584] - 127.0.0.1:58470 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:19:26,761.761] ERROR [8667395584] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 45, in upload
    async with open(file_path, 'w+') as out_pt:
AttributeError: __aenter__
[2022-08-18 17:20:09,407.407] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:20:09,491.491] INFO [8667395584] - Shutting down
[2022-08-18 17:20:09,593.593] INFO [8667395584] - Waiting for application shutdown.
[2022-08-18 17:20:09,594.594] INFO [8667395584] - Application shutdown complete.
[2022-08-18 17:20:09,594.594] INFO [8667395584] - Finished server process [64633]
[2022-08-18 17:20:10,509.509] INFO [8628979200] - Started server process [64685]
[2022-08-18 17:20:10,509.509] INFO [8628979200] - Waiting for application startup.
[2022-08-18 17:20:10,509.509] INFO [8628979200] - Application startup complete.
[2022-08-18 17:20:13,609.609] INFO [8628979200] - 127.0.0.1:58474 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:20:13,764.764] INFO [8628979200] - 127.0.0.1:58474 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:20:17,414.414] INFO [8628979200] - 127.0.0.1:58474 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 17:20:29,191.191] INFO [8628979200] - 127.0.0.1:58475 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:20:29,387.387] INFO [8628979200] - 127.0.0.1:58475 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:20:33,350.350] INFO [8628979200] - 127.0.0.1:58475 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 17:20:55,761.761] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:20:55,794.794] INFO [8628979200] - Shutting down
[2022-08-18 17:20:55,896.896] INFO [8628979200] - Waiting for application shutdown.
[2022-08-18 17:20:55,896.896] INFO [8628979200] - Application shutdown complete.
[2022-08-18 17:20:55,896.896] INFO [8628979200] - Finished server process [64685]
[2022-08-18 17:20:56,838.838] INFO [8674522624] - Started server process [64719]
[2022-08-18 17:20:56,838.838] INFO [8674522624] - Waiting for application startup.
[2022-08-18 17:20:56,838.838] INFO [8674522624] - Application startup complete.
[2022-08-18 17:20:57,606.606] INFO [8674522624] - 127.0.0.1:58495 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:20:57,755.755] INFO [8674522624] - 127.0.0.1:58495 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:21:04,277.277] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:04,331.331] INFO [8674522624] - Shutting down
[2022-08-18 17:21:04,432.432] INFO [8674522624] - Waiting for application shutdown.
[2022-08-18 17:21:04,432.432] INFO [8674522624] - Application shutdown complete.
[2022-08-18 17:21:04,432.432] INFO [8674522624] - Finished server process [64719]
[2022-08-18 17:21:05,460.460] INFO [8669791744] - Started server process [64745]
[2022-08-18 17:21:05,460.460] INFO [8669791744] - Waiting for application startup.
[2022-08-18 17:21:05,460.460] INFO [8669791744] - Application startup complete.
[2022-08-18 17:21:05,461.461] INFO [8669791744] - 127.0.0.1:58506 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:21:05,609.609] INFO [8669791744] - 127.0.0.1:58506 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:21:08,986.986] INFO [8669791744] - 127.0.0.1:58506 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:21:08,987.987] ERROR [8669791744] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:21:13,342.342] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:13,360.360] INFO [8669791744] - Shutting down
[2022-08-18 17:21:13,461.461] INFO [8669791744] - Waiting for application shutdown.
[2022-08-18 17:21:13,461.461] INFO [8669791744] - Application shutdown complete.
[2022-08-18 17:21:13,461.461] INFO [8669791744] - Finished server process [64745]
[2022-08-18 17:21:14,241.241] INFO [8601351680] - Started server process [64750]
[2022-08-18 17:21:14,242.242] INFO [8601351680] - Waiting for application startup.
[2022-08-18 17:21:14,242.242] INFO [8601351680] - Application startup complete.
[2022-08-18 17:21:39,735.735] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:39,775.775] INFO [8601351680] - Shutting down
[2022-08-18 17:21:39,877.877] INFO [8601351680] - Waiting for application shutdown.
[2022-08-18 17:21:39,878.878] INFO [8601351680] - Application shutdown complete.
[2022-08-18 17:21:39,878.878] INFO [8601351680] - Finished server process [64750]
[2022-08-18 17:21:54,808.808] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:55,614.614] INFO [8665671168] - Started server process [64772]
[2022-08-18 17:21:55,615.615] INFO [8665671168] - Waiting for application startup.
[2022-08-18 17:21:55,615.615] INFO [8665671168] - Application startup complete.
[2022-08-18 17:21:58,000.000] INFO [8665671168] - 127.0.0.1:58510 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:21:58,162.162] INFO [8665671168] - 127.0.0.1:58510 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:22:02,366.366] INFO [8665671168] - 127.0.0.1:58510 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:22:02,367.367] ERROR [8665671168] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path, engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 17:22:11,672.672] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:22:11,724.724] INFO [8665671168] - Shutting down
[2022-08-18 17:22:11,826.826] INFO [8665671168] - Waiting for application shutdown.
[2022-08-18 17:22:11,826.826] INFO [8665671168] - Application shutdown complete.
[2022-08-18 17:22:11,826.826] INFO [8665671168] - Finished server process [64772]
[2022-08-18 17:22:12,618.618] INFO [8610059776] - Started server process [64785]
[2022-08-18 17:22:12,619.619] INFO [8610059776] - Waiting for application startup.
[2022-08-18 17:22:12,619.619] INFO [8610059776] - Application startup complete.
[2022-08-18 17:22:13,195.195] INFO [8610059776] - 127.0.0.1:58513 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:22:13,311.311] INFO [8610059776] - 127.0.0.1:58513 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:53:14,268.268] INFO [8610059776] - 127.0.0.1:58580 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:53:14,508.508] INFO [8610059776] - 127.0.0.1:58580 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:53:22,299.299] INFO [8610059776] - 127.0.0.1:58581 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:53:22,312.312] ERROR [8610059776] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path, engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
