[2022-08-17 15:23:40,552.552] INFO [8595088896] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-17 15:23:40,553.553] INFO [8595088896] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-17 15:23:40,553.553] INFO [8595088896] - Started reloader process [40496] using StatReload
[2022-08-17 15:23:40,798.798] INFO [8670742016] - Started server process [40498]
[2022-08-17 15:23:40,798.798] INFO [8670742016] - Waiting for application startup.
[2022-08-17 15:23:40,798.798] INFO [8670742016] - Application startup complete.
[2022-08-17 15:23:44,952.952] INFO [8670742016] - 127.0.0.1:57690 - "GET /swagger HTTP/1.1" 200
[2022-08-17 15:23:45,087.087] INFO [8670742016] - 127.0.0.1:57690 - "GET /openapi.json HTTP/1.1" 200
[2022-08-17 15:23:50,805.805] INFO [8670742016] - Shutting down
[2022-08-17 15:23:50,906.906] INFO [8670742016] - Waiting for application shutdown.
[2022-08-17 15:23:50,907.907] INFO [8670742016] - Application shutdown complete.
[2022-08-17 15:23:50,907.907] INFO [8670742016] - Finished server process [40498]
[2022-08-17 15:23:50,929.929] INFO [8595088896] - Stopping reloader process [40496]
[2022-08-18 09:37:50,703.703] INFO [8604050944] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 09:37:50,703.703] INFO [8604050944] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 09:37:50,703.703] INFO [8604050944] - Started reloader process [53620] using StatReload
[2022-08-18 09:37:51,033.033] INFO [8672294400] - Started server process [53622]
[2022-08-18 09:37:51,033.033] INFO [8672294400] - Waiting for application startup.
[2022-08-18 09:37:51,033.033] INFO [8672294400] - Application startup complete.
[2022-08-18 09:37:53,384.384] INFO [8672294400] - 127.0.0.1:60887 - "GET / HTTP/1.1" 404
[2022-08-18 09:37:56,083.083] INFO [8672294400] - 127.0.0.1:60887 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:37:57,448.448] INFO [8672294400] - 127.0.0.1:60887 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:38:08,352.352] INFO [8672294400] - 127.0.0.1:60888 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:38:08,352.352] ERROR [8672294400] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open('/pyp-pre-assignment/uploaded_files', 'wb') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:40:43,203.203] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:40:43,276.276] INFO [8672294400] - Shutting down
[2022-08-18 09:40:43,384.384] INFO [8672294400] - Waiting for application shutdown.
[2022-08-18 09:40:43,388.388] INFO [8672294400] - Application shutdown complete.
[2022-08-18 09:40:43,389.389] INFO [8672294400] - Finished server process [53622]
[2022-08-18 09:40:43,859.859] INFO [8634791424] - Started server process [53662]
[2022-08-18 09:40:43,859.859] INFO [8634791424] - Waiting for application startup.
[2022-08-18 09:40:43,859.859] INFO [8634791424] - Application startup complete.
[2022-08-18 09:40:48,225.225] INFO [8634791424] - 127.0.0.1:60893 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:40:48,394.394] INFO [8634791424] - 127.0.0.1:60893 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:40:54,295.295] INFO [8634791424] - 127.0.0.1:60894 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:40:54,296.296] ERROR [8634791424] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open('/pyp-pre-assignment/uploaded_files', 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:42:01,319.319] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:42:01,387.387] INFO [8634791424] - Shutting down
[2022-08-18 09:42:01,490.490] INFO [8634791424] - Waiting for application shutdown.
[2022-08-18 09:42:01,494.494] INFO [8634791424] - Application shutdown complete.
[2022-08-18 09:42:01,494.494] INFO [8634791424] - Finished server process [53662]
[2022-08-18 09:42:01,926.926] INFO [8634729984] - Started server process [53682]
[2022-08-18 09:42:01,927.927] INFO [8634729984] - Waiting for application startup.
[2022-08-18 09:42:01,927.927] INFO [8634729984] - Application startup complete.
[2022-08-18 09:46:32,200.200] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:46:32,290.290] INFO [8634729984] - Shutting down
[2022-08-18 09:46:32,394.394] INFO [8634729984] - Waiting for application shutdown.
[2022-08-18 09:46:32,397.397] INFO [8634729984] - Application shutdown complete.
[2022-08-18 09:46:32,398.398] INFO [8634729984] - Finished server process [53682]
[2022-08-18 09:46:34,269.269] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:46:34,660.660] INFO [8633484800] - Started server process [53754]
[2022-08-18 09:46:34,661.661] INFO [8633484800] - Waiting for application startup.
[2022-08-18 09:46:34,661.661] INFO [8633484800] - Application startup complete.
[2022-08-18 09:46:58,735.735] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:46:58,765.765] INFO [8633484800] - Shutting down
[2022-08-18 09:46:58,867.867] INFO [8633484800] - Waiting for application shutdown.
[2022-08-18 09:46:58,868.868] INFO [8633484800] - Application shutdown complete.
[2022-08-18 09:46:58,868.868] INFO [8633484800] - Finished server process [53754]
[2022-08-18 09:46:59,522.522] INFO [8609043968] - Started server process [53762]
[2022-08-18 09:46:59,523.523] INFO [8609043968] - Waiting for application startup.
[2022-08-18 09:46:59,523.523] INFO [8609043968] - Application startup complete.
[2022-08-18 09:47:12,850.850] INFO [8609043968] - 127.0.0.1:61276 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:47:13,110.110] INFO [8609043968] - 127.0.0.1:61276 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:47:21,029.029] INFO [8609043968] - 127.0.0.1:61277 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:47:21,030.030] ERROR [8609043968] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open(os.path.abspath(os.path.join(os.getcwd(), '../uploaded_files')), 'wb') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
IsADirectoryError: [Errno 21] Is a directory: '/Users/garayev/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:47:44,812.812] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:47:44,836.836] INFO [8609043968] - Shutting down
[2022-08-18 09:47:44,938.938] INFO [8609043968] - Waiting for application shutdown.
[2022-08-18 09:47:44,939.939] INFO [8609043968] - Application shutdown complete.
[2022-08-18 09:47:44,942.942] INFO [8609043968] - Finished server process [53762]
[2022-08-18 09:47:45,379.379] INFO [8605632000] - Started server process [53775]
[2022-08-18 09:47:45,380.380] INFO [8605632000] - Waiting for application startup.
[2022-08-18 09:47:45,380.380] INFO [8605632000] - Application startup complete.
[2022-08-18 09:47:47,711.711] INFO [8605632000] - 127.0.0.1:61279 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:47:47,941.941] INFO [8605632000] - 127.0.0.1:61279 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:47:48,023.023] INFO [8605632000] - 127.0.0.1:61279 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:47:48,171.171] INFO [8605632000] - 127.0.0.1:61279 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:47:53,458.458] INFO [8605632000] - 127.0.0.1:61280 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:47:53,459.459] ERROR [8605632000] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open(os.path.abspath(os.path.join(os.getcwd(), '../uploaded_files')), 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
IsADirectoryError: [Errno 21] Is a directory: '/Users/garayev/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:50:42,395.395] INFO [8641136128] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 09:50:42,395.395] ERROR [8641136128] - [Errno 48] Address already in use
[2022-08-18 10:10:02,332.332] INFO [8662980096] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 10:10:02,333.333] INFO [8662980096] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:10:02,333.333] INFO [8662980096] - Started reloader process [54274] using StatReload
[2022-08-18 10:10:02,670.670] INFO [8677111296] - Started server process [54276]
[2022-08-18 10:10:02,670.670] INFO [8677111296] - Waiting for application startup.
[2022-08-18 10:10:02,670.670] INFO [8677111296] - Application startup complete.
[2022-08-18 10:10:07,000.000] INFO [8677111296] - 127.0.0.1:61753 - "GET /swagger HTTP/1.1" 200
[2022-08-18 10:10:07,264.264] INFO [8677111296] - 127.0.0.1:61753 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 10:27:36,902.902] INFO [8604743168] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:27:36,902.902] INFO [8604743168] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:27:36,903.903] INFO [8604743168] - Started reloader process [54490] using StatReload
[2022-08-18 10:27:37,250.250] INFO [8605263360] - Started server process [54493]
[2022-08-18 10:27:37,250.250] INFO [8605263360] - Waiting for application startup.
[2022-08-18 10:27:37,250.250] INFO [8605263360] - Application startup complete.
[2022-08-18 10:27:43,076.076] INFO [8605263360] - 127.0.0.1:61774 - "GET /swagger HTTP/1.1" 200
[2022-08-18 10:27:43,260.260] INFO [8605263360] - 127.0.0.1:61774 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 10:27:49,208.208] INFO [8605263360] - Shutting down
[2022-08-18 10:27:49,310.310] INFO [8605263360] - Waiting for application shutdown.
[2022-08-18 10:27:49,311.311] INFO [8605263360] - Application shutdown complete.
[2022-08-18 10:27:49,311.311] INFO [8605263360] - Finished server process [54493]
[2022-08-18 10:27:49,363.363] INFO [8604743168] - Stopping reloader process [54490]
[2022-08-18 10:28:30,985.985] INFO [8606348800] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 10:28:30,986.986] INFO [8606348800] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:28:30,986.986] INFO [8606348800] - Started reloader process [54566] using StatReload
[2022-08-18 10:28:31,313.313] INFO [8629237248] - Started server process [54568]
[2022-08-18 10:28:31,313.313] INFO [8629237248] - Waiting for application startup.
[2022-08-18 10:28:31,313.313] INFO [8629237248] - Application startup complete.
[2022-08-18 10:50:45,261.261] INFO [8665167360] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:50:45,262.262] ERROR [8665167360] - [Errno 48] Address already in use
[2022-08-18 10:50:50,156.156] INFO [8596227584] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:50:50,157.157] ERROR [8596227584] - [Errno 48] Address already in use
[2022-08-18 10:51:16,892.892] INFO [8594232832] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:51:16,892.892] INFO [8594232832] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:51:16,892.892] INFO [8594232832] - Started reloader process [54934] using StatReload
[2022-08-18 10:51:17,487.487] INFO [8604694016] - Started server process [54937]
[2022-08-18 10:51:17,487.487] INFO [8604694016] - Waiting for application startup.
[2022-08-18 10:51:17,488.488] INFO [8604694016] - Application startup complete.
[2022-08-18 10:51:22,813.813] INFO [8604694016] - 127.0.0.1:61851 - "GET / HTTP/1.1" 404
[2022-08-18 10:51:30,674.674] INFO [8604694016] - Shutting down
[2022-08-18 10:51:30,775.775] INFO [8604694016] - Waiting for application shutdown.
[2022-08-18 10:51:30,775.775] INFO [8604694016] - Application shutdown complete.
[2022-08-18 10:51:30,775.775] INFO [8604694016] - Finished server process [54937]
[2022-08-18 10:51:30,812.812] INFO [8594232832] - Stopping reloader process [54934]
[2022-08-18 10:54:00,542.542] INFO [8676439552] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:54:00,543.543] INFO [8676439552] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:54:00,543.543] INFO [8676439552] - Started reloader process [55033] using StatReload
[2022-08-18 10:54:00,880.880] INFO [8637531648] - Started server process [55035]
[2022-08-18 10:54:00,880.880] INFO [8637531648] - Waiting for application startup.
[2022-08-18 10:54:00,880.880] INFO [8637531648] - Application startup complete.
[2022-08-18 10:54:02,902.902] INFO [8637531648] - Shutting down
[2022-08-18 10:54:03,003.003] INFO [8637531648] - Waiting for application shutdown.
[2022-08-18 10:54:03,004.004] INFO [8637531648] - Application shutdown complete.
[2022-08-18 10:54:03,004.004] INFO [8637531648] - Finished server process [55035]
[2022-08-18 10:54:03,042.042] INFO [8676439552] - Stopping reloader process [55033]
[2022-08-18 10:54:12,539.539] INFO [8628016640] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 10:54:12,539.539] INFO [8628016640] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:54:12,539.539] INFO [8628016640] - Started reloader process [55043] using StatReload
[2022-08-18 10:54:12,861.861] INFO [8671995392] - Started server process [55045]
[2022-08-18 10:54:12,861.861] INFO [8671995392] - Waiting for application startup.
[2022-08-18 10:54:12,861.861] INFO [8671995392] - Application startup complete.
[2022-08-18 10:54:14,730.730] INFO [8671995392] - 127.0.0.1:61873 - "GET / HTTP/1.1" 404
[2022-08-18 10:54:17,302.302] INFO [8671995392] - 127.0.0.1:61873 - "GET /swagger HTTP/1.1" 200
[2022-08-18 10:54:18,208.208] INFO [8671995392] - 127.0.0.1:61873 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 10:55:46,176.176] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 10:55:46,253.253] INFO [8671995392] - Shutting down
[2022-08-18 10:55:46,355.355] INFO [8671995392] - Waiting for application shutdown.
[2022-08-18 10:55:46,355.355] INFO [8671995392] - Application shutdown complete.
[2022-08-18 10:55:46,356.356] INFO [8671995392] - Finished server process [55045]
[2022-08-18 10:55:46,785.785] INFO [8605214208] - Started server process [55061]
[2022-08-18 10:55:46,785.785] INFO [8605214208] - Waiting for application startup.
[2022-08-18 10:55:46,786.786] INFO [8605214208] - Application startup complete.
[2022-08-18 10:56:10,787.787] INFO [8605214208] - 127.0.0.1:61881 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 10:56:10,788.788] ERROR [8605214208] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open(os.path.abspath(os.path.join(os.getcwd(), '../uploaded_files')), 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
IsADirectoryError: [Errno 21] Is a directory: '/Users/garayev/pyp-pre-assignment/uploaded_files'
[2022-08-18 11:09:34,185.185] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:09:34,215.215] INFO [8605214208] - Shutting down
[2022-08-18 11:09:34,317.317] INFO [8605214208] - Waiting for application shutdown.
[2022-08-18 11:09:34,318.318] INFO [8605214208] - Application shutdown complete.
[2022-08-18 11:09:34,318.318] INFO [8605214208] - Finished server process [55061]
[2022-08-18 11:09:34,781.781] INFO [8639346176] - Started server process [55330]
[2022-08-18 11:09:34,782.782] INFO [8639346176] - Waiting for application startup.
[2022-08-18 11:09:34,782.782] INFO [8639346176] - Application startup complete.
[2022-08-18 11:09:37,658.658] INFO [8639346176] - 127.0.0.1:61919 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:09:37,879.879] INFO [8639346176] - 127.0.0.1:61919 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:09:43,905.905] INFO [8639346176] - 127.0.0.1:61920 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:10:55,298.298] INFO [8639346176] - 127.0.0.1:61957 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:10:55,485.485] INFO [8639346176] - 127.0.0.1:61957 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:11:02,713.713] INFO [8639346176] - 127.0.0.1:61958 - "POST /UploadData/POST HTTP/1.1" 400
[2022-08-18 11:11:19,605.605] INFO [8639346176] - 127.0.0.1:61960 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:11:19,717.717] INFO [8639346176] - 127.0.0.1:61960 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:11:28,649.649] INFO [8639346176] - 127.0.0.1:61961 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:12:15,674.674] INFO [8639346176] - 127.0.0.1:61980 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:12:15,825.825] INFO [8639346176] - 127.0.0.1:61980 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:12:21,510.510] INFO [8639346176] - 127.0.0.1:61981 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:18:13,507.507] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:18:13,559.559] INFO [8639346176] - Shutting down
[2022-08-18 11:18:13,661.661] INFO [8639346176] - Waiting for application shutdown.
[2022-08-18 11:18:13,663.663] INFO [8639346176] - Application shutdown complete.
[2022-08-18 11:18:13,663.663] INFO [8639346176] - Finished server process [55330]
[2022-08-18 11:18:41,429.429] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:18:41,817.817] INFO [8668800512] - Started server process [55571]
[2022-08-18 11:18:41,817.817] INFO [8668800512] - Waiting for application startup.
[2022-08-18 11:18:41,817.817] INFO [8668800512] - Application startup complete.
[2022-08-18 11:18:46,369.369] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:18:46,374.374] INFO [8668800512] - Shutting down
[2022-08-18 11:18:46,476.476] INFO [8668800512] - Waiting for application shutdown.
[2022-08-18 11:18:46,476.476] INFO [8668800512] - Application shutdown complete.
[2022-08-18 11:18:46,476.476] INFO [8668800512] - Finished server process [55571]
[2022-08-18 11:18:46,844.844] INFO [8626603520] - Started server process [55574]
[2022-08-18 11:18:46,845.845] INFO [8626603520] - Waiting for application startup.
[2022-08-18 11:18:46,845.845] INFO [8626603520] - Application startup complete.
[2022-08-18 11:32:48,880.880] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:32:48,994.994] INFO [8626603520] - Shutting down
[2022-08-18 11:32:49,098.098] INFO [8626603520] - Waiting for application shutdown.
[2022-08-18 11:32:49,100.100] INFO [8626603520] - Application shutdown complete.
[2022-08-18 11:32:49,100.100] INFO [8626603520] - Finished server process [55574]
[2022-08-18 11:32:49,540.540] INFO [8610637312] - Started server process [55825]
[2022-08-18 11:32:49,541.541] INFO [8610637312] - Waiting for application startup.
[2022-08-18 11:32:49,541.541] INFO [8610637312] - Application startup complete.
[2022-08-18 11:32:54,343.343] INFO [8610637312] - 127.0.0.1:62088 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:32:54,598.598] INFO [8610637312] - 127.0.0.1:62088 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:33:02,616.616] INFO [8610637312] - 127.0.0.1:62089 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:33:11,942.942] INFO [8610637312] - 127.0.0.1:62092 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:43:01,351.351] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:43:01,371.371] INFO [8610637312] - Shutting down
[2022-08-18 11:43:01,480.480] INFO [8610637312] - Waiting for application shutdown.
[2022-08-18 11:43:01,484.484] INFO [8610637312] - Application shutdown complete.
[2022-08-18 11:43:01,485.485] INFO [8610637312] - Finished server process [55825]
[2022-08-18 11:46:25,133.133] INFO [8641144320] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 11:46:25,134.134] ERROR [8641144320] - [Errno 48] Address already in use
[2022-08-18 12:15:47,492.492] INFO [8672503296] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:15:47,493.493] INFO [8672503296] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 12:15:47,493.493] INFO [8672503296] - Started reloader process [57405] using StatReload
[2022-08-18 12:15:48,020.020] INFO [8638408192] - Started server process [57410]
[2022-08-18 12:15:48,021.021] INFO [8638408192] - Waiting for application startup.
[2022-08-18 12:15:48,021.021] INFO [8638408192] - Application startup complete.
[2022-08-18 12:15:49,760.760] INFO [8638408192] - 127.0.0.1:62822 - "GET / HTTP/1.1" 404
[2022-08-18 12:15:52,907.907] INFO [8638408192] - 127.0.0.1:62822 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:15:53,801.801] INFO [8638408192] - 127.0.0.1:62822 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:16:01,878.878] INFO [8638408192] - 127.0.0.1:62823 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:16:01,879.879] ERROR [8638408192] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = pd.read_excel(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}')))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:16:41,737.737] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:16:41,805.805] INFO [8638408192] - Shutting down
[2022-08-18 12:16:41,907.907] INFO [8638408192] - Waiting for application shutdown.
[2022-08-18 12:16:41,908.908] INFO [8638408192] - Application shutdown complete.
[2022-08-18 12:16:41,908.908] INFO [8638408192] - Finished server process [57410]
[2022-08-18 12:16:42,701.701] INFO [8637199872] - Started server process [57423]
[2022-08-18 12:16:42,701.701] INFO [8637199872] - Waiting for application startup.
[2022-08-18 12:16:42,701.701] INFO [8637199872] - Application startup complete.
[2022-08-18 12:16:44,556.556] INFO [8637199872] - 127.0.0.1:62826 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:16:44,792.792] INFO [8637199872] - 127.0.0.1:62826 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:16:52,462.462] INFO [8637199872] - 127.0.0.1:62827 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:16:52,463.463] ERROR [8637199872] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:16:55,475.475] INFO [8637199872] - 127.0.0.1:62832 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:16:55,476.476] ERROR [8637199872] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:17:08,149.149] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:17:08,249.249] INFO [8637199872] - Shutting down
[2022-08-18 12:17:08,350.350] INFO [8637199872] - Waiting for application shutdown.
[2022-08-18 12:17:08,351.351] INFO [8637199872] - Application shutdown complete.
[2022-08-18 12:17:08,351.351] INFO [8637199872] - Finished server process [57423]
[2022-08-18 12:17:16,512.512] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:17:17,116.116] INFO [8673252864] - Started server process [57442]
[2022-08-18 12:17:17,117.117] INFO [8673252864] - Waiting for application startup.
[2022-08-18 12:17:17,117.117] INFO [8673252864] - Application startup complete.
[2022-08-18 12:17:19,058.058] INFO [8673252864] - 127.0.0.1:62833 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:17:19,238.238] INFO [8673252864] - 127.0.0.1:62833 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:17:24,458.458] INFO [8673252864] - 127.0.0.1:62834 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:17:24,459.459] ERROR [8673252864] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = await pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:33:36,164.164] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:33:36,180.180] INFO [8673252864] - Shutting down
[2022-08-18 12:33:36,282.282] INFO [8673252864] - Waiting for application shutdown.
[2022-08-18 12:33:36,283.283] INFO [8673252864] - Application shutdown complete.
[2022-08-18 12:33:36,283.283] INFO [8673252864] - Finished server process [57442]
[2022-08-18 12:33:37,062.062] INFO [8639993344] - Started server process [57811]
[2022-08-18 12:33:37,062.062] INFO [8639993344] - Waiting for application startup.
[2022-08-18 12:33:37,062.062] INFO [8639993344] - Application startup complete.
[2022-08-18 12:34:15,592.592] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:34:15,662.662] INFO [8639993344] - Shutting down
[2022-08-18 12:34:15,764.764] INFO [8639993344] - Waiting for application shutdown.
[2022-08-18 12:34:15,764.764] INFO [8639993344] - Application shutdown complete.
[2022-08-18 12:34:15,764.764] INFO [8639993344] - Finished server process [57811]
[2022-08-18 12:34:16,538.538] INFO [8629642752] - Started server process [57831]
[2022-08-18 12:34:16,538.538] INFO [8629642752] - Waiting for application startup.
[2022-08-18 12:34:16,539.539] INFO [8629642752] - Application startup complete.
[2022-08-18 12:34:45,961.961] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:34:46,013.013] INFO [8629642752] - Shutting down
[2022-08-18 12:34:46,115.115] INFO [8629642752] - Waiting for application shutdown.
[2022-08-18 12:34:46,116.116] INFO [8629642752] - Application shutdown complete.
[2022-08-18 12:34:46,116.116] INFO [8629642752] - Finished server process [57831]
[2022-08-18 12:34:46,803.803] INFO [8641172992] - Started server process [57844]
[2022-08-18 12:34:46,803.803] INFO [8641172992] - Waiting for application startup.
[2022-08-18 12:34:46,803.803] INFO [8641172992] - Application startup complete.
[2022-08-18 12:34:49,297.297] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:34:49,335.335] INFO [8641172992] - Shutting down
[2022-08-18 12:34:49,436.436] INFO [8641172992] - Waiting for application shutdown.
[2022-08-18 12:34:49,437.437] INFO [8641172992] - Application shutdown complete.
[2022-08-18 12:34:49,437.437] INFO [8641172992] - Finished server process [57844]
[2022-08-18 12:34:50,122.122] INFO [8602584576] - Started server process [57851]
[2022-08-18 12:34:50,122.122] INFO [8602584576] - Waiting for application startup.
[2022-08-18 12:34:50,122.122] INFO [8602584576] - Application startup complete.
[2022-08-18 12:34:52,345.345] INFO [8602584576] - 127.0.0.1:62942 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:34:52,578.578] INFO [8602584576] - 127.0.0.1:62942 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:35:00,766.766] INFO [8602584576] - 127.0.0.1:62943 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:35:00,767.767] ERROR [8602584576] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    df = await pd.read_excel(uploaded_file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:36:07,360.360] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:36:07,420.420] INFO [8602584576] - Shutting down
[2022-08-18 12:36:07,522.522] INFO [8602584576] - Waiting for application shutdown.
[2022-08-18 12:36:07,523.523] INFO [8602584576] - Application shutdown complete.
[2022-08-18 12:36:07,523.523] INFO [8602584576] - Finished server process [57851]
[2022-08-18 12:36:08,353.353] INFO [8660276736] - Started server process [57880]
[2022-08-18 12:36:08,354.354] INFO [8660276736] - Waiting for application startup.
[2022-08-18 12:36:08,354.354] INFO [8660276736] - Application startup complete.
[2022-08-18 12:36:19,526.526] INFO [8660276736] - 127.0.0.1:62958 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:36:19,724.724] INFO [8660276736] - 127.0.0.1:62958 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:36:25,277.277] INFO [8660276736] - 127.0.0.1:62959 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:36:25,278.278] ERROR [8660276736] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    df = await pd.read_excel(uploaded_file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:36:34,211.211] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:36:34,272.272] INFO [8660276736] - Shutting down
[2022-08-18 12:36:34,374.374] INFO [8660276736] - Waiting for application shutdown.
[2022-08-18 12:36:34,374.374] INFO [8660276736] - Application shutdown complete.
[2022-08-18 12:36:34,374.374] INFO [8660276736] - Finished server process [57880]
[2022-08-18 12:36:35,151.151] INFO [8671098368] - Started server process [57912]
[2022-08-18 12:36:35,151.151] INFO [8671098368] - Waiting for application startup.
[2022-08-18 12:36:35,151.151] INFO [8671098368] - Application startup complete.
[2022-08-18 12:36:35,299.299] INFO [8671098368] - 127.0.0.1:62961 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:36:35,455.455] INFO [8671098368] - 127.0.0.1:62961 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:36:40,265.265] INFO [8671098368] - 127.0.0.1:62961 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:36:40,266.266] ERROR [8671098368] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    df = pd.read_excel(uploaded_file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:37:39,994.994] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:37:40,013.013] INFO [8671098368] - Shutting down
[2022-08-18 12:37:40,115.115] INFO [8671098368] - Waiting for application shutdown.
[2022-08-18 12:37:40,116.116] INFO [8671098368] - Application shutdown complete.
[2022-08-18 12:37:40,116.116] INFO [8671098368] - Finished server process [57912]
[2022-08-18 12:37:40,863.863] INFO [8593368576] - Started server process [57928]
[2022-08-18 12:37:40,864.864] INFO [8593368576] - Waiting for application startup.
[2022-08-18 12:37:40,864.864] INFO [8593368576] - Application startup complete.
[2022-08-18 12:37:46,165.165] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:37:46,231.231] INFO [8593368576] - Shutting down
[2022-08-18 12:37:46,332.332] INFO [8593368576] - Waiting for application shutdown.
[2022-08-18 12:37:46,333.333] INFO [8593368576] - Application shutdown complete.
[2022-08-18 12:37:46,333.333] INFO [8593368576] - Finished server process [57928]
[2022-08-18 12:37:47,063.063] INFO [8592725504] - Started server process [57937]
[2022-08-18 12:37:47,063.063] INFO [8592725504] - Waiting for application startup.
[2022-08-18 12:37:47,064.064] INFO [8592725504] - Application startup complete.
[2022-08-18 12:37:50,055.055] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:37:50,103.103] INFO [8592725504] - Shutting down
[2022-08-18 12:37:50,204.204] INFO [8592725504] - Waiting for application shutdown.
[2022-08-18 12:37:50,204.204] INFO [8592725504] - Application shutdown complete.
[2022-08-18 12:37:50,204.204] INFO [8592725504] - Finished server process [57937]
[2022-08-18 12:37:50,885.885] INFO [8594798080] - Started server process [57941]
[2022-08-18 12:37:50,885.885] INFO [8594798080] - Waiting for application startup.
[2022-08-18 12:37:50,885.885] INFO [8594798080] - Application startup complete.
[2022-08-18 12:37:53,071.071] INFO [8594798080] - 127.0.0.1:62963 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:37:53,231.231] INFO [8594798080] - 127.0.0.1:62963 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:38:03,502.502] INFO [8594798080] - 127.0.0.1:62964 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:38:03,503.503] ERROR [8594798080] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 138, in import_optional_dependency
    module = importlib.import_module(name)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 984, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'openpyxl'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 524, in __init__
    import_optional_dependency("openpyxl")
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 141, in import_optional_dependency
    raise ImportError(msg)
ImportError: Missing optional dependency 'openpyxl'.  Use pip or conda to install openpyxl.
[2022-08-18 12:38:41,583.583] INFO [8669566464] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:38:41,584.584] ERROR [8669566464] - [Errno 48] Address already in use
[2022-08-18 12:39:00,661.661] INFO [8641246720] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:39:00,662.662] INFO [8641246720] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 12:39:00,662.662] INFO [8641246720] - Started reloader process [58013] using StatReload
[2022-08-18 12:39:01,274.274] INFO [8629011968] - Started server process [58017]
[2022-08-18 12:39:01,274.274] INFO [8629011968] - Waiting for application startup.
[2022-08-18 12:39:01,275.275] INFO [8629011968] - Application startup complete.
[2022-08-18 12:39:02,205.205] INFO [8629011968] - 127.0.0.1:62978 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:39:02,441.441] INFO [8629011968] - 127.0.0.1:62978 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:39:06,223.223] INFO [8629011968] - 127.0.0.1:62978 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:39:06,370.370] INFO [8629011968] - 127.0.0.1:62978 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:39:10,967.967] INFO [8629011968] - 127.0.0.1:62978 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:39:10,968.968] ERROR [8629011968] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 50, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 12:42:27,133.133] INFO [8660588032] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:42:27,133.133] INFO [8660588032] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 12:42:27,133.133] INFO [8660588032] - Started reloader process [58179] using StatReload
[2022-08-18 12:42:27,652.652] INFO [8666088960] - Started server process [58183]
[2022-08-18 12:42:27,653.653] INFO [8666088960] - Waiting for application startup.
[2022-08-18 12:42:27,653.653] INFO [8666088960] - Application startup complete.
[2022-08-18 12:42:30,598.598] INFO [8666088960] - 127.0.0.1:63046 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:42:30,832.832] INFO [8666088960] - 127.0.0.1:63046 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:42:36,407.407] INFO [8666088960] - 127.0.0.1:63047 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:42:36,407.407] ERROR [8666088960] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 50, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 12:43:06,722.722] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:43:06,798.798] INFO [8666088960] - Shutting down
[2022-08-18 12:43:06,899.899] INFO [8666088960] - Waiting for application shutdown.
[2022-08-18 12:43:06,899.899] INFO [8666088960] - Application shutdown complete.
[2022-08-18 12:43:06,900.900] INFO [8666088960] - Finished server process [58183]
[2022-08-18 12:43:07,692.692] INFO [8599078400] - Started server process [58195]
[2022-08-18 12:43:07,692.692] INFO [8599078400] - Waiting for application startup.
[2022-08-18 12:43:07,692.692] INFO [8599078400] - Application startup complete.
[2022-08-18 12:43:08,414.414] INFO [8599078400] - 127.0.0.1:63049 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:43:08,558.558] INFO [8599078400] - 127.0.0.1:63049 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:43:13,498.498] INFO [8599078400] - 127.0.0.1:63049 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:43:13,499.499] ERROR [8599078400] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 50, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 12:45:10,911.911] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:45:10,948.948] INFO [8599078400] - Shutting down
[2022-08-18 12:45:11,050.050] INFO [8599078400] - Waiting for application shutdown.
[2022-08-18 12:45:11,050.050] INFO [8599078400] - Application shutdown complete.
[2022-08-18 12:45:11,050.050] INFO [8599078400] - Finished server process [58195]
[2022-08-18 12:45:12,037.037] INFO [8608908800] - Started server process [58237]
[2022-08-18 12:45:12,038.038] INFO [8608908800] - Waiting for application startup.
[2022-08-18 12:45:12,038.038] INFO [8608908800] - Application startup complete.
[2022-08-18 12:45:24,161.161] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:45:24,198.198] INFO [8608908800] - Shutting down
[2022-08-18 12:45:24,299.299] INFO [8608908800] - Waiting for application shutdown.
[2022-08-18 12:45:24,300.300] INFO [8608908800] - Application shutdown complete.
[2022-08-18 12:45:24,300.300] INFO [8608908800] - Finished server process [58237]
[2022-08-18 12:45:25,229.229] INFO [8628344320] - Started server process [58241]
[2022-08-18 12:45:25,230.230] INFO [8628344320] - Waiting for application startup.
[2022-08-18 12:45:25,230.230] INFO [8628344320] - Application startup complete.
[2022-08-18 12:46:23,910.910] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:46:23,913.913] INFO [8628344320] - Shutting down
[2022-08-18 12:46:24,015.015] INFO [8628344320] - Waiting for application shutdown.
[2022-08-18 12:46:24,015.015] INFO [8628344320] - Application shutdown complete.
[2022-08-18 12:46:24,015.015] INFO [8628344320] - Finished server process [58241]
[2022-08-18 12:46:25,046.046] INFO [8667518464] - Started server process [58249]
[2022-08-18 12:46:25,047.047] INFO [8667518464] - Waiting for application startup.
[2022-08-18 12:46:25,047.047] INFO [8667518464] - Application startup complete.
[2022-08-18 12:46:28,995.995] INFO [8667518464] - 127.0.0.1:63068 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:46:29,222.222] INFO [8667518464] - 127.0.0.1:63068 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:46:33,700.700] INFO [8667518464] - 127.0.0.1:63068 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:46:33,702.702] ERROR [8667518464] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 51, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 12:59:12,781.781] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:59:12,816.816] INFO [8667518464] - Shutting down
[2022-08-18 12:59:12,919.919] INFO [8667518464] - Waiting for application shutdown.
[2022-08-18 12:59:12,920.920] INFO [8667518464] - Application shutdown complete.
[2022-08-18 12:59:12,920.920] INFO [8667518464] - Finished server process [58249]
[2022-08-18 12:59:13,643.643] INFO [8671491584] - Started server process [58585]
[2022-08-18 12:59:13,644.644] INFO [8671491584] - Waiting for application startup.
[2022-08-18 12:59:13,644.644] INFO [8671491584] - Application startup complete.
[2022-08-18 12:59:57,920.920] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:59:57,928.928] INFO [8671491584] - Shutting down
[2022-08-18 12:59:58,029.029] INFO [8671491584] - Waiting for application shutdown.
[2022-08-18 12:59:58,029.029] INFO [8671491584] - Application shutdown complete.
[2022-08-18 12:59:58,030.030] INFO [8671491584] - Finished server process [58585]
[2022-08-18 12:59:58,835.835] INFO [8627406336] - Started server process [58598]
[2022-08-18 12:59:58,836.836] INFO [8627406336] - Waiting for application startup.
[2022-08-18 12:59:58,836.836] INFO [8627406336] - Application startup complete.
[2022-08-18 13:00:40,967.967] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:00:40,978.978] INFO [8627406336] - Shutting down
[2022-08-18 13:00:41,080.080] INFO [8627406336] - Waiting for application shutdown.
[2022-08-18 13:00:41,080.080] INFO [8627406336] - Application shutdown complete.
[2022-08-18 13:00:41,081.081] INFO [8627406336] - Finished server process [58598]
[2022-08-18 13:00:41,802.802] INFO [8606844416] - Started server process [58612]
[2022-08-18 13:00:41,802.802] INFO [8606844416] - Waiting for application startup.
[2022-08-18 13:00:41,802.802] INFO [8606844416] - Application startup complete.
[2022-08-18 13:01:17,318.318] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:01:17,381.381] INFO [8606844416] - Shutting down
[2022-08-18 13:01:17,483.483] INFO [8606844416] - Waiting for application shutdown.
[2022-08-18 13:01:17,484.484] INFO [8606844416] - Application shutdown complete.
[2022-08-18 13:01:17,484.484] INFO [8606844416] - Finished server process [58612]
[2022-08-18 13:01:18,303.303] INFO [8603235840] - Started server process [58623]
[2022-08-18 13:01:18,304.304] INFO [8603235840] - Waiting for application startup.
[2022-08-18 13:01:18,304.304] INFO [8603235840] - Application startup complete.
[2022-08-18 13:01:28,519.519] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:01:28,542.542] INFO [8603235840] - Shutting down
[2022-08-18 13:01:28,644.644] INFO [8603235840] - Waiting for application shutdown.
[2022-08-18 13:01:28,644.644] INFO [8603235840] - Application shutdown complete.
[2022-08-18 13:01:28,644.644] INFO [8603235840] - Finished server process [58623]
[2022-08-18 13:01:29,348.348] INFO [8663225856] - Started server process [58636]
[2022-08-18 13:01:29,349.349] INFO [8663225856] - Waiting for application startup.
[2022-08-18 13:01:29,349.349] INFO [8663225856] - Application startup complete.
[2022-08-18 13:02:01,747.747] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:02:01,774.774] INFO [8663225856] - Shutting down
[2022-08-18 13:02:01,876.876] INFO [8663225856] - Waiting for application shutdown.
[2022-08-18 13:02:01,876.876] INFO [8663225856] - Application shutdown complete.
[2022-08-18 13:02:01,876.876] INFO [8663225856] - Finished server process [58636]
[2022-08-18 13:02:02,686.686] INFO [8606377472] - Started server process [58649]
[2022-08-18 13:02:02,686.686] INFO [8606377472] - Waiting for application startup.
[2022-08-18 13:02:02,686.686] INFO [8606377472] - Application startup complete.
[2022-08-18 13:02:04,910.910] INFO [8606377472] - 127.0.0.1:63186 - "GET /swagger HTTP/1.1" 200
[2022-08-18 13:02:05,173.173] INFO [8606377472] - 127.0.0.1:63186 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 13:02:09,486.486] INFO [8606377472] - 127.0.0.1:63186 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 13:02:09,487.487] ERROR [8606377472] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 16:41:39,396.396] INFO [8605533696] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 16:41:39,397.397] INFO [8605533696] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 16:41:39,397.397] INFO [8605533696] - Started reloader process [63436] using StatReload
[2022-08-18 16:41:39,965.965] INFO [8661730816] - Started server process [63441]
[2022-08-18 16:41:39,966.966] INFO [8661730816] - Waiting for application startup.
[2022-08-18 16:41:39,966.966] INFO [8661730816] - Application startup complete.
[2022-08-18 16:41:52,744.744] INFO [8661730816] - 127.0.0.1:57939 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:41:53,567.567] INFO [8661730816] - 127.0.0.1:57939 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:42:03,616.616] INFO [8661730816] - 127.0.0.1:57940 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:42:03,617.617] ERROR [8661730816] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 16:42:21,845.845] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:42:21,927.927] INFO [8661730816] - Shutting down
[2022-08-18 16:42:22,028.028] INFO [8661730816] - Waiting for application shutdown.
[2022-08-18 16:42:22,029.029] INFO [8661730816] - Application shutdown complete.
[2022-08-18 16:42:22,029.029] INFO [8661730816] - Finished server process [63441]
[2022-08-18 16:42:22,779.779] INFO [8600155648] - Started server process [63475]
[2022-08-18 16:42:22,779.779] INFO [8600155648] - Waiting for application startup.
[2022-08-18 16:42:22,780.780] INFO [8600155648] - Application startup complete.
[2022-08-18 16:42:24,024.024] INFO [8600155648] - 127.0.0.1:57943 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:42:24,234.234] INFO [8600155648] - 127.0.0.1:57943 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:42:33,527.527] INFO [8600155648] - 127.0.0.1:57944 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:42:33,527.527] ERROR [8600155648] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 16:44:04,980.980] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:05,033.033] INFO [8600155648] - Shutting down
[2022-08-18 16:44:05,141.141] INFO [8600155648] - Waiting for application shutdown.
[2022-08-18 16:44:05,142.142] INFO [8600155648] - Application shutdown complete.
[2022-08-18 16:44:05,142.142] INFO [8600155648] - Finished server process [63475]
[2022-08-18 16:44:06,814.814] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:07,591.591] INFO [8630228480] - Started server process [63543]
[2022-08-18 16:44:07,591.591] INFO [8630228480] - Waiting for application startup.
[2022-08-18 16:44:07,591.591] INFO [8630228480] - Application startup complete.
[2022-08-18 16:44:09,912.912] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:09,916.916] INFO [8630228480] - Shutting down
[2022-08-18 16:44:10,018.018] INFO [8630228480] - Waiting for application shutdown.
[2022-08-18 16:44:10,018.018] INFO [8630228480] - Application shutdown complete.
[2022-08-18 16:44:10,018.018] INFO [8630228480] - Finished server process [63543]
[2022-08-18 16:44:10,666.666] INFO [8633759232] - Started server process [63548]
[2022-08-18 16:44:10,666.666] INFO [8633759232] - Waiting for application startup.
[2022-08-18 16:44:10,666.666] INFO [8633759232] - Application startup complete.
[2022-08-18 16:44:21,568.568] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:21,618.618] INFO [8633759232] - Shutting down
[2022-08-18 16:44:21,719.719] INFO [8633759232] - Waiting for application shutdown.
[2022-08-18 16:44:21,719.719] INFO [8633759232] - Application shutdown complete.
[2022-08-18 16:44:21,719.719] INFO [8633759232] - Finished server process [63548]
[2022-08-18 16:44:22,421.421] INFO [8660784640] - Started server process [63612]
[2022-08-18 16:44:22,421.421] INFO [8660784640] - Waiting for application startup.
[2022-08-18 16:44:22,421.421] INFO [8660784640] - Application startup complete.
[2022-08-18 16:44:26,981.981] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:27,081.081] INFO [8660784640] - Shutting down
[2022-08-18 16:44:27,183.183] INFO [8660784640] - Waiting for application shutdown.
[2022-08-18 16:44:27,186.186] INFO [8660784640] - Application shutdown complete.
[2022-08-18 16:44:27,187.187] INFO [8660784640] - Finished server process [63612]
[2022-08-18 16:44:28,038.038] INFO [8635528704] - Started server process [63633]
[2022-08-18 16:44:28,039.039] INFO [8635528704] - Waiting for application startup.
[2022-08-18 16:44:28,039.039] INFO [8635528704] - Application startup complete.
[2022-08-18 16:44:30,893.893] INFO [8635528704] - 127.0.0.1:57995 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:44:31,120.120] INFO [8635528704] - 127.0.0.1:57995 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:44:36,723.723] INFO [8635528704] - 127.0.0.1:57996 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:44:36,730.730] ERROR [8635528704] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 138, in import_optional_dependency
    module = importlib.import_module(name)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 984, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'pyxlsb'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 31, in __init__
    import_optional_dependency("pyxlsb")
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 141, in import_optional_dependency
    raise ImportError(msg)
ImportError: Missing optional dependency 'pyxlsb'.  Use pip or conda to install pyxlsb.
[2022-08-18 16:44:53,854.854] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:53,876.876] INFO [8635528704] - Shutting down
[2022-08-18 16:44:53,977.977] INFO [8635528704] - Waiting for application shutdown.
[2022-08-18 16:44:53,978.978] INFO [8635528704] - Application shutdown complete.
[2022-08-18 16:44:53,978.978] INFO [8635528704] - Finished server process [63633]
[2022-08-18 16:44:54,923.923] INFO [8605435392] - Started server process [63678]
[2022-08-18 16:44:54,923.923] INFO [8605435392] - Waiting for application startup.
[2022-08-18 16:44:54,923.923] INFO [8605435392] - Application startup complete.
[2022-08-18 16:44:56,855.855] INFO [8605435392] - 127.0.0.1:58002 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:44:57,000.000] INFO [8605435392] - 127.0.0.1:58002 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:45:01,689.689] INFO [8605435392] - 127.0.0.1:58002 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:45:01,690.690] ERROR [8605435392] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 16:45:45,134.134] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:45:45,173.173] INFO [8605435392] - Shutting down
[2022-08-18 16:45:45,275.275] INFO [8605435392] - Waiting for application shutdown.
[2022-08-18 16:45:45,275.275] INFO [8605435392] - Application shutdown complete.
[2022-08-18 16:45:45,275.275] INFO [8605435392] - Finished server process [63678]
[2022-08-18 16:45:46,023.023] INFO [8671872512] - Started server process [63695]
[2022-08-18 16:45:46,024.024] INFO [8671872512] - Waiting for application startup.
[2022-08-18 16:45:46,024.024] INFO [8671872512] - Application startup complete.
[2022-08-18 16:45:55,801.801] INFO [8671872512] - 127.0.0.1:58022 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:45:55,956.956] INFO [8671872512] - 127.0.0.1:58022 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:46:02,545.545] INFO [8671872512] - 127.0.0.1:58023 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:46:02,546.546] ERROR [8671872512] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    await out_pt.write(content.decode('base64'))
LookupError: 'base64' is not a text encoding; use codecs.decode() to handle arbitrary codecs
[2022-08-18 16:46:32,156.156] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:46:32,226.226] INFO [8671872512] - Shutting down
[2022-08-18 16:46:32,327.327] INFO [8671872512] - Waiting for application shutdown.
[2022-08-18 16:46:32,328.328] INFO [8671872512] - Application shutdown complete.
[2022-08-18 16:46:32,328.328] INFO [8671872512] - Finished server process [63695]
[2022-08-18 16:46:33,278.278] INFO [8609961472] - Started server process [63706]
[2022-08-18 16:46:33,278.278] INFO [8609961472] - Waiting for application startup.
[2022-08-18 16:46:33,278.278] INFO [8609961472] - Application startup complete.
[2022-08-18 16:46:37,638.638] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:46:37,642.642] INFO [8609961472] - Shutting down
[2022-08-18 16:46:37,743.743] INFO [8609961472] - Waiting for application shutdown.
[2022-08-18 16:46:37,743.743] INFO [8609961472] - Application shutdown complete.
[2022-08-18 16:46:37,743.743] INFO [8609961472] - Finished server process [63706]
[2022-08-18 16:46:38,585.585] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:46:39,222.222] INFO [8636577280] - Started server process [63718]
[2022-08-18 16:46:39,223.223] INFO [8636577280] - Waiting for application startup.
[2022-08-18 16:46:39,223.223] INFO [8636577280] - Application startup complete.
[2022-08-18 16:46:42,714.714] INFO [8636577280] - 127.0.0.1:58027 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:46:42,851.851] INFO [8636577280] - 127.0.0.1:58027 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:46:46,838.838] INFO [8636577280] - 127.0.0.1:58027 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:46:46,839.839] ERROR [8636577280] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 16:47:21,129.129] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:47:21,149.149] INFO [8636577280] - Shutting down
[2022-08-18 16:47:21,251.251] INFO [8636577280] - Waiting for application shutdown.
[2022-08-18 16:47:21,251.251] INFO [8636577280] - Application shutdown complete.
[2022-08-18 16:47:21,251.251] INFO [8636577280] - Finished server process [63718]
[2022-08-18 16:47:22,058.058] INFO [8603055616] - Started server process [63744]
[2022-08-18 16:47:22,059.059] INFO [8603055616] - Waiting for application startup.
[2022-08-18 16:47:22,059.059] INFO [8603055616] - Application startup complete.
[2022-08-18 16:47:25,834.834] INFO [8603055616] - 127.0.0.1:58032 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:47:25,967.967] INFO [8603055616] - 127.0.0.1:58032 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:47:30,403.403] INFO [8603055616] - 127.0.0.1:58032 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:47:30,404.404] ERROR [8603055616] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 16:48:48,203.203] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:48:48,269.269] INFO [8603055616] - Shutting down
[2022-08-18 16:48:48,371.371] INFO [8603055616] - Waiting for application shutdown.
[2022-08-18 16:48:48,372.372] INFO [8603055616] - Application shutdown complete.
[2022-08-18 16:48:48,372.372] INFO [8603055616] - Finished server process [63744]
[2022-08-18 16:48:49,238.238] INFO [8630568448] - Started server process [63779]
[2022-08-18 16:48:49,239.239] INFO [8630568448] - Waiting for application startup.
[2022-08-18 16:48:49,239.239] INFO [8630568448] - Application startup complete.
[2022-08-18 16:48:50,912.912] INFO [8630568448] - 127.0.0.1:58041 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:48:51,050.050] INFO [8630568448] - 127.0.0.1:58041 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:48:55,227.227] INFO [8630568448] - 127.0.0.1:58041 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:48:55,228.228] ERROR [8630568448] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 16:49:01,496.496] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:49:01,524.524] INFO [8630568448] - Shutting down
[2022-08-18 16:49:01,625.625] INFO [8630568448] - Waiting for application shutdown.
[2022-08-18 16:49:01,626.626] INFO [8630568448] - Application shutdown complete.
[2022-08-18 16:49:01,626.626] INFO [8630568448] - Finished server process [63779]
[2022-08-18 16:49:02,444.444] INFO [8605226496] - Started server process [63794]
[2022-08-18 16:49:02,444.444] INFO [8605226496] - Waiting for application startup.
[2022-08-18 16:49:02,445.445] INFO [8605226496] - Application startup complete.
[2022-08-18 16:49:02,673.673] INFO [8605226496] - 127.0.0.1:58044 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:49:02,799.799] INFO [8605226496] - 127.0.0.1:58044 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:49:06,320.320] INFO [8605226496] - 127.0.0.1:58044 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:49:06,321.321] ERROR [8605226496] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 16:49:51,595.595] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:49:51,690.690] INFO [8605226496] - Shutting down
[2022-08-18 16:49:51,792.792] INFO [8605226496] - Waiting for application shutdown.
[2022-08-18 16:49:51,793.793] INFO [8605226496] - Application shutdown complete.
[2022-08-18 16:49:51,793.793] INFO [8605226496] - Finished server process [63794]
[2022-08-18 16:50:16,676.676] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:50:48,951.951] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:51:23,341.341] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:52:56,910.910] INFO [8663070208] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 16:52:56,910.910] ERROR [8663070208] - [Errno 48] Address already in use
[2022-08-18 16:53:24,799.799] INFO [8665957888] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 16:53:24,800.800] INFO [8665957888] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 16:53:24,800.800] INFO [8665957888] - Started reloader process [63885] using StatReload
[2022-08-18 16:53:25,356.356] INFO [8608785920] - Started server process [63887]
[2022-08-18 16:53:25,357.357] INFO [8608785920] - Waiting for application startup.
[2022-08-18 16:53:25,357.357] INFO [8608785920] - Application startup complete.
[2022-08-18 16:53:26,908.908] INFO [8608785920] - 127.0.0.1:58066 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:53:27,220.220] INFO [8608785920] - 127.0.0.1:58066 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:53:40,132.132] INFO [8608785920] - 127.0.0.1:58067 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:53:40,132.132] ERROR [8608785920] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'w', encoding='utf-8') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 16:55:42,953.953] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:55:43,075.075] INFO [8608785920] - Shutting down
[2022-08-18 16:55:43,177.177] INFO [8608785920] - Waiting for application shutdown.
[2022-08-18 16:55:43,177.177] INFO [8608785920] - Application shutdown complete.
[2022-08-18 16:55:43,178.178] INFO [8608785920] - Finished server process [63887]
[2022-08-18 16:55:44,007.007] INFO [8634574336] - Started server process [63912]
[2022-08-18 16:55:44,008.008] INFO [8634574336] - Waiting for application startup.
[2022-08-18 16:55:44,008.008] INFO [8634574336] - Application startup complete.
[2022-08-18 16:55:44,009.009] INFO [8634574336] - 127.0.0.1:58073 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:55:44,172.172] INFO [8634574336] - 127.0.0.1:58073 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:55:48,955.955] INFO [8634574336] - 127.0.0.1:58073 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:55:48,955.955] ERROR [8634574336] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb', encoding='utf-8') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
ValueError: binary mode doesn't take an encoding argument
[2022-08-18 16:56:01,159.159] INFO [8634574336] - 127.0.0.1:58074 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:56:01,305.305] INFO [8634574336] - 127.0.0.1:58074 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:56:06,124.124] INFO [8634574336] - 127.0.0.1:58074 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:56:06,124.124] ERROR [8634574336] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb', encoding='utf-8') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
ValueError: binary mode doesn't take an encoding argument
[2022-08-18 16:56:24,844.844] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:56:24,865.865] INFO [8634574336] - Shutting down
[2022-08-18 16:56:24,967.967] INFO [8634574336] - Waiting for application shutdown.
[2022-08-18 16:56:24,967.967] INFO [8634574336] - Application shutdown complete.
[2022-08-18 16:56:24,968.968] INFO [8634574336] - Finished server process [63912]
[2022-08-18 16:56:25,706.706] INFO [8600413696] - Started server process [63925]
[2022-08-18 16:56:25,706.706] INFO [8600413696] - Waiting for application startup.
[2022-08-18 16:56:25,707.707] INFO [8600413696] - Application startup complete.
[2022-08-18 16:56:27,255.255] INFO [8600413696] - 127.0.0.1:58078 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:56:27,403.403] INFO [8600413696] - 127.0.0.1:58078 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:56:31,716.716] INFO [8600413696] - 127.0.0.1:58078 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:56:31,717.717] ERROR [8600413696] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 16:57:13,452.452] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:57:13,536.536] INFO [8600413696] - Shutting down
[2022-08-18 16:57:13,643.643] INFO [8600413696] - Waiting for application shutdown.
[2022-08-18 16:57:13,643.643] INFO [8600413696] - Application shutdown complete.
[2022-08-18 16:57:13,644.644] INFO [8600413696] - Finished server process [63925]
[2022-08-18 16:57:14,419.419] INFO [8637486592] - Started server process [63954]
[2022-08-18 16:57:14,420.420] INFO [8637486592] - Waiting for application startup.
[2022-08-18 16:57:14,420.420] INFO [8637486592] - Application startup complete.
[2022-08-18 16:57:16,342.342] INFO [8637486592] - 127.0.0.1:58087 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:57:16,480.480] INFO [8637486592] - 127.0.0.1:58087 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:57:20,272.272] INFO [8637486592] - 127.0.0.1:58087 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:57:20,273.273] ERROR [8637486592] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 16:59:38,697.697] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:59:38,849.849] INFO [8637486592] - Shutting down
[2022-08-18 16:59:38,968.968] INFO [8637486592] - Waiting for application shutdown.
[2022-08-18 16:59:38,980.980] INFO [8637486592] - Application shutdown complete.
[2022-08-18 16:59:38,980.980] INFO [8637486592] - Finished server process [63954]
[2022-08-18 16:59:40,116.116] INFO [8596022784] - Started server process [64026]
[2022-08-18 16:59:40,117.117] INFO [8596022784] - Waiting for application startup.
[2022-08-18 16:59:40,117.117] INFO [8596022784] - Application startup complete.
[2022-08-18 16:59:42,105.105] INFO [8596022784] - 127.0.0.1:58337 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:59:42,425.425] INFO [8596022784] - 127.0.0.1:58337 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:59:47,078.078] INFO [8596022784] - 127.0.0.1:58337 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:59:47,079.079] ERROR [8596022784] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'w+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 17:03:46,831.831] INFO [8596022784] - 127.0.0.1:58343 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:03:46,958.958] INFO [8596022784] - 127.0.0.1:58343 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:03:53,289.289] INFO [8596022784] - 127.0.0.1:58344 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:03:53,290.290] ERROR [8596022784] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'w+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 17:04:58,103.103] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 17:04:58,115.115] INFO [8596022784] - Shutting down
[2022-08-18 17:04:58,217.217] INFO [8596022784] - Waiting for application shutdown.
[2022-08-18 17:04:58,217.217] INFO [8596022784] - Application shutdown complete.
[2022-08-18 17:04:58,217.217] INFO [8596022784] - Finished server process [64026]
[2022-08-18 17:04:58,990.990] INFO [8592479744] - Started server process [64143]
[2022-08-18 17:04:58,990.990] INFO [8592479744] - Waiting for application startup.
[2022-08-18 17:04:58,991.991] INFO [8592479744] - Application startup complete.
[2022-08-18 17:05:05,226.226] INFO [8592479744] - 127.0.0.1:58350 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:05:05,419.419] INFO [8592479744] - 127.0.0.1:58350 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:05:09,588.588] INFO [8592479744] - 127.0.0.1:58350 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:05:09,588.588] ERROR [8592479744] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 44, in upload
    pd.ExcelWriter(file_path, engine='xlsxwriter')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlsxwriter.py", line 191, in __init__
    super().__init__(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1106, in __init__
    self.handles = get_handle(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/common.py", line 694, in get_handle
    check_parent_directory(str(handle))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/common.py", line 568, in check_parent_directory
    raise OSError(rf"Cannot save file into a non-existent directory: '{parent}'")
OSError: Cannot save file into a non-existent directory: '/Users/garayev/uploaded_files'
[2022-08-18 17:05:41,442.442] INFO [8592479744] - Shutting down
[2022-08-18 17:05:41,544.544] INFO [8592479744] - Waiting for application shutdown.
[2022-08-18 17:05:41,545.545] INFO [8592479744] - Application shutdown complete.
[2022-08-18 17:05:41,545.545] INFO [8592479744] - Finished server process [64143]
[2022-08-18 17:05:41,631.631] INFO [8665957888] - Stopping reloader process [63885]
[2022-08-18 17:06:25,394.394] INFO [8675358208] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 17:06:25,395.395] INFO [8675358208] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 17:06:25,395.395] INFO [8675358208] - Started reloader process [64183] using StatReload
[2022-08-18 17:06:25,930.930] INFO [8599426560] - Started server process [64187]
[2022-08-18 17:06:25,931.931] INFO [8599426560] - Waiting for application startup.
[2022-08-18 17:06:25,931.931] INFO [8599426560] - Application startup complete.
[2022-08-18 17:06:28,151.151] INFO [8599426560] - 127.0.0.1:58353 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:06:28,297.297] INFO [8599426560] - 127.0.0.1:58353 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:06:33,343.343] INFO [8599426560] - 127.0.0.1:58354 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:06:33,344.344] ERROR [8599426560] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:07:09,695.695] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:09,733.733] INFO [8599426560] - Shutting down
[2022-08-18 17:07:09,835.835] INFO [8599426560] - Waiting for application shutdown.
[2022-08-18 17:07:09,836.836] INFO [8599426560] - Application shutdown complete.
[2022-08-18 17:07:09,836.836] INFO [8599426560] - Finished server process [64187]
[2022-08-18 17:07:10,673.673] INFO [8664311296] - Started server process [64229]
[2022-08-18 17:07:10,674.674] INFO [8664311296] - Waiting for application startup.
[2022-08-18 17:07:10,674.674] INFO [8664311296] - Application startup complete.
[2022-08-18 17:07:13,354.354] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:13,414.414] INFO [8664311296] - Shutting down
[2022-08-18 17:07:13,516.516] INFO [8664311296] - Waiting for application shutdown.
[2022-08-18 17:07:13,516.516] INFO [8664311296] - Application shutdown complete.
[2022-08-18 17:07:13,516.516] INFO [8664311296] - Finished server process [64229]
[2022-08-18 17:07:14,155.155] INFO [8670275072] - Started server process [64239]
[2022-08-18 17:07:14,155.155] INFO [8670275072] - Waiting for application startup.
[2022-08-18 17:07:14,155.155] INFO [8670275072] - Application startup complete.
[2022-08-18 17:07:27,936.936] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:27,938.938] INFO [8670275072] - Shutting down
[2022-08-18 17:07:28,039.039] INFO [8670275072] - Waiting for application shutdown.
[2022-08-18 17:07:28,040.040] INFO [8670275072] - Application shutdown complete.
[2022-08-18 17:07:28,040.040] INFO [8670275072] - Finished server process [64239]
[2022-08-18 17:07:28,974.974] INFO [8601658880] - Started server process [64246]
[2022-08-18 17:07:28,974.974] INFO [8601658880] - Waiting for application startup.
[2022-08-18 17:07:28,974.974] INFO [8601658880] - Application startup complete.
[2022-08-18 17:07:28,975.975] INFO [8601658880] - 127.0.0.1:58360 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:07:29,135.135] INFO [8601658880] - 127.0.0.1:58360 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:07:33,709.709] INFO [8601658880] - 127.0.0.1:58360 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:07:33,710.710] ERROR [8601658880] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:07:44,811.811] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:44,877.877] INFO [8601658880] - Shutting down
[2022-08-18 17:07:44,979.979] INFO [8601658880] - Waiting for application shutdown.
[2022-08-18 17:07:44,979.979] INFO [8601658880] - Application shutdown complete.
[2022-08-18 17:07:44,979.979] INFO [8601658880] - Finished server process [64246]
[2022-08-18 17:07:45,674.674] INFO [8640783872] - Started server process [64261]
[2022-08-18 17:07:45,675.675] INFO [8640783872] - Waiting for application startup.
[2022-08-18 17:07:45,675.675] INFO [8640783872] - Application startup complete.
[2022-08-18 17:08:37,325.325] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:08:37,356.356] INFO [8640783872] - Shutting down
[2022-08-18 17:08:37,458.458] INFO [8640783872] - Waiting for application shutdown.
[2022-08-18 17:08:37,459.459] INFO [8640783872] - Application shutdown complete.
[2022-08-18 17:08:37,459.459] INFO [8640783872] - Finished server process [64261]
[2022-08-18 17:08:38,661.661] INFO [8632051200] - Started server process [64274]
[2022-08-18 17:08:38,662.662] INFO [8632051200] - Waiting for application startup.
[2022-08-18 17:08:38,662.662] INFO [8632051200] - Application startup complete.
[2022-08-18 17:08:57,601.601] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:08:57,618.618] INFO [8632051200] - Shutting down
[2022-08-18 17:08:57,719.719] INFO [8632051200] - Waiting for application shutdown.
[2022-08-18 17:08:57,720.720] INFO [8632051200] - Application shutdown complete.
[2022-08-18 17:08:57,720.720] INFO [8632051200] - Finished server process [64274]
[2022-08-18 17:08:58,527.527] INFO [8598771200] - Started server process [64293]
[2022-08-18 17:08:58,528.528] INFO [8598771200] - Waiting for application startup.
[2022-08-18 17:08:58,528.528] INFO [8598771200] - Application startup complete.
[2022-08-18 17:09:01,321.321] INFO [8598771200] - 127.0.0.1:58376 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:09:01,532.532] INFO [8598771200] - 127.0.0.1:58376 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:09:05,539.539] INFO [8598771200] - 127.0.0.1:58376 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:09:05,540.540] ERROR [8598771200] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content.decode('base64'))
LookupError: 'base64' is not a text encoding; use codecs.decode() to handle arbitrary codecs
[2022-08-18 17:09:36,022.022] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:09:36,089.089] INFO [8598771200] - Shutting down
[2022-08-18 17:09:36,191.191] INFO [8598771200] - Waiting for application shutdown.
[2022-08-18 17:09:36,192.192] INFO [8598771200] - Application shutdown complete.
[2022-08-18 17:09:36,192.192] INFO [8598771200] - Finished server process [64293]
[2022-08-18 17:09:36,970.970] INFO [8658867712] - Started server process [64318]
[2022-08-18 17:09:36,971.971] INFO [8658867712] - Waiting for application startup.
[2022-08-18 17:09:36,971.971] INFO [8658867712] - Application startup complete.
[2022-08-18 17:09:48,157.157] INFO [8658867712] - 127.0.0.1:58380 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:09:48,304.304] INFO [8658867712] - 127.0.0.1:58380 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:09:51,874.874] INFO [8658867712] - 127.0.0.1:58380 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:09:51,875.875] ERROR [8658867712] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content.decode('utf-8'))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: a bytes-like object is required, not 'str'
[2022-08-18 17:10:58,546.546] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:10:58,642.642] INFO [8658867712] - Shutting down
[2022-08-18 17:10:58,744.744] INFO [8658867712] - Waiting for application shutdown.
[2022-08-18 17:10:58,746.746] INFO [8658867712] - Application shutdown complete.
[2022-08-18 17:10:58,746.746] INFO [8658867712] - Finished server process [64318]
[2022-08-18 17:10:59,500.500] INFO [8631232000] - Started server process [64346]
[2022-08-18 17:10:59,500.500] INFO [8631232000] - Waiting for application startup.
[2022-08-18 17:10:59,501.501] INFO [8631232000] - Application startup complete.
[2022-08-18 17:11:14,984.984] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:11:15,005.005] INFO [8631232000] - Shutting down
[2022-08-18 17:11:15,107.107] INFO [8631232000] - Waiting for application shutdown.
[2022-08-18 17:11:15,107.107] INFO [8631232000] - Application shutdown complete.
[2022-08-18 17:11:15,107.107] INFO [8631232000] - Finished server process [64346]
[2022-08-18 17:11:15,796.796] INFO [8643147264] - Started server process [64354]
[2022-08-18 17:11:15,796.796] INFO [8643147264] - Waiting for application startup.
[2022-08-18 17:11:15,796.796] INFO [8643147264] - Application startup complete.
[2022-08-18 17:11:26,768.768] INFO [8643147264] - 127.0.0.1:58396 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:11:26,984.984] INFO [8643147264] - 127.0.0.1:58396 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:11:30,993.993] INFO [8643147264] - 127.0.0.1:58396 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:11:30,994.994] ERROR [8643147264] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 17:12:10,052.052] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:10,086.086] INFO [8643147264] - Shutting down
[2022-08-18 17:12:10,189.189] INFO [8643147264] - Waiting for application shutdown.
[2022-08-18 17:12:10,190.190] INFO [8643147264] - Application shutdown complete.
[2022-08-18 17:12:10,190.190] INFO [8643147264] - Finished server process [64354]
[2022-08-18 17:12:11,089.089] INFO [8641132032] - Started server process [64385]
[2022-08-18 17:12:11,089.089] INFO [8641132032] - Waiting for application startup.
[2022-08-18 17:12:11,089.089] INFO [8641132032] - Application startup complete.
[2022-08-18 17:12:12,587.587] INFO [8641132032] - 127.0.0.1:58403 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:12:12,742.742] INFO [8641132032] - 127.0.0.1:58403 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:12:15,980.980] INFO [8641132032] - 127.0.0.1:58403 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:12:15,981.981] ERROR [8641132032] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:12:26,398.398] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:26,486.486] INFO [8641132032] - Shutting down
[2022-08-18 17:12:26,588.588] INFO [8641132032] - Waiting for application shutdown.
[2022-08-18 17:12:26,589.589] INFO [8641132032] - Application shutdown complete.
[2022-08-18 17:12:26,589.589] INFO [8641132032] - Finished server process [64385]
[2022-08-18 17:12:27,473.473] INFO [8594765312] - Started server process [64397]
[2022-08-18 17:12:27,473.473] INFO [8594765312] - Waiting for application startup.
[2022-08-18 17:12:27,473.473] INFO [8594765312] - Application startup complete.
[2022-08-18 17:12:32,111.111] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:32,132.132] INFO [8594765312] - Shutting down
[2022-08-18 17:12:32,233.233] INFO [8594765312] - Waiting for application shutdown.
[2022-08-18 17:12:32,234.234] INFO [8594765312] - Application shutdown complete.
[2022-08-18 17:12:32,234.234] INFO [8594765312] - Finished server process [64397]
[2022-08-18 17:12:32,869.869] INFO [8600700416] - Started server process [64403]
[2022-08-18 17:12:32,870.870] INFO [8600700416] - Waiting for application startup.
[2022-08-18 17:12:32,870.870] INFO [8600700416] - Application startup complete.
[2022-08-18 17:12:33,495.495] INFO [8600700416] - 127.0.0.1:58407 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:12:33,621.621] INFO [8600700416] - 127.0.0.1:58407 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:12:36,779.779] INFO [8600700416] - 127.0.0.1:58407 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:12:36,780.780] ERROR [8600700416] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 17:12:45,019.019] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:45,027.027] INFO [8600700416] - Shutting down
[2022-08-18 17:12:45,128.128] INFO [8600700416] - Waiting for application shutdown.
[2022-08-18 17:12:45,129.129] INFO [8600700416] - Application shutdown complete.
[2022-08-18 17:12:45,129.129] INFO [8600700416] - Finished server process [64403]
[2022-08-18 17:12:45,901.901] INFO [8636298752] - Started server process [64415]
[2022-08-18 17:12:45,901.901] INFO [8636298752] - Waiting for application startup.
[2022-08-18 17:12:45,901.901] INFO [8636298752] - Application startup complete.
[2022-08-18 17:12:46,426.426] INFO [8636298752] - 127.0.0.1:58409 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:12:46,567.567] INFO [8636298752] - 127.0.0.1:58409 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:12:51,120.120] INFO [8636298752] - 127.0.0.1:58409 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:12:51,121.121] ERROR [8636298752] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='xlsxwriter')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1351, in __init__
    raise ValueError(f"Unknown engine: {engine}")
ValueError: Unknown engine: xlsxwriter
[2022-08-18 17:13:03,670.670] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:03,721.721] INFO [8636298752] - Shutting down
[2022-08-18 17:13:03,823.823] INFO [8636298752] - Waiting for application shutdown.
[2022-08-18 17:13:03,823.823] INFO [8636298752] - Application shutdown complete.
[2022-08-18 17:13:03,823.823] INFO [8636298752] - Finished server process [64415]
[2022-08-18 17:13:04,598.598] INFO [8665765376] - Started server process [64433]
[2022-08-18 17:13:04,599.599] INFO [8665765376] - Waiting for application startup.
[2022-08-18 17:13:04,599.599] INFO [8665765376] - Application startup complete.
[2022-08-18 17:13:05,975.975] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:06,015.015] INFO [8665765376] - Shutting down
[2022-08-18 17:13:06,116.116] INFO [8665765376] - Waiting for application shutdown.
[2022-08-18 17:13:06,117.117] INFO [8665765376] - Application shutdown complete.
[2022-08-18 17:13:06,117.117] INFO [8665765376] - Finished server process [64433]
[2022-08-18 17:13:06,818.818] INFO [8601036288] - Started server process [64439]
[2022-08-18 17:13:06,819.819] INFO [8601036288] - Waiting for application startup.
[2022-08-18 17:13:06,819.819] INFO [8601036288] - Application startup complete.
[2022-08-18 17:13:07,010.010] INFO [8601036288] - 127.0.0.1:58411 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:13:07,143.143] INFO [8601036288] - 127.0.0.1:58411 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:13:10,355.355] INFO [8601036288] - 127.0.0.1:58411 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:13:10,355.355] ERROR [8601036288] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:13:31,431.431] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:31,444.444] INFO [8601036288] - Shutting down
[2022-08-18 17:13:31,545.545] INFO [8601036288] - Waiting for application shutdown.
[2022-08-18 17:13:31,546.546] INFO [8601036288] - Application shutdown complete.
[2022-08-18 17:13:31,546.546] INFO [8601036288] - Finished server process [64439]
[2022-08-18 17:13:32,380.380] INFO [8603596288] - Started server process [64449]
[2022-08-18 17:13:32,380.380] INFO [8603596288] - Waiting for application startup.
[2022-08-18 17:13:32,380.380] INFO [8603596288] - Application startup complete.
[2022-08-18 17:13:35,239.239] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:35,316.316] INFO [8603596288] - Shutting down
[2022-08-18 17:13:35,418.418] INFO [8603596288] - Waiting for application shutdown.
[2022-08-18 17:13:35,418.418] INFO [8603596288] - Application shutdown complete.
[2022-08-18 17:13:35,418.418] INFO [8603596288] - Finished server process [64449]
[2022-08-18 17:13:36,349.349] INFO [8606705152] - Started server process [64452]
[2022-08-18 17:13:36,350.350] INFO [8606705152] - Waiting for application startup.
[2022-08-18 17:13:36,350.350] INFO [8606705152] - Application startup complete.
[2022-08-18 17:13:36,351.351] INFO [8606705152] - 127.0.0.1:58413 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:13:36,519.519] INFO [8606705152] - 127.0.0.1:58413 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:13:39,964.964] INFO [8606705152] - 127.0.0.1:58413 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:13:39,964.964] ERROR [8606705152] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:13:59,758.758] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:59,859.859] INFO [8606705152] - Shutting down
[2022-08-18 17:13:59,960.960] INFO [8606705152] - Waiting for application shutdown.
[2022-08-18 17:13:59,961.961] INFO [8606705152] - Application shutdown complete.
[2022-08-18 17:13:59,961.961] INFO [8606705152] - Finished server process [64452]
[2022-08-18 17:14:00,800.800] INFO [8636384768] - Started server process [64476]
[2022-08-18 17:14:00,801.801] INFO [8636384768] - Waiting for application startup.
[2022-08-18 17:14:00,801.801] INFO [8636384768] - Application startup complete.
[2022-08-18 17:14:01,684.684] INFO [8636384768] - 127.0.0.1:58415 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:14:01,788.788] INFO [8636384768] - 127.0.0.1:58415 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:14:07,784.784] INFO [8636384768] - 127.0.0.1:58416 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:14:07,785.785] ERROR [8636384768] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:16:39,125.125] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:16:39,148.148] INFO [8636384768] - Shutting down
[2022-08-18 17:16:39,250.250] INFO [8636384768] - Waiting for application shutdown.
[2022-08-18 17:16:39,250.250] INFO [8636384768] - Application shutdown complete.
[2022-08-18 17:16:39,251.251] INFO [8636384768] - Finished server process [64476]
[2022-08-18 17:16:40,102.102] INFO [8671933952] - Started server process [64518]
[2022-08-18 17:16:40,103.103] INFO [8671933952] - Waiting for application startup.
[2022-08-18 17:16:40,103.103] INFO [8671933952] - Application startup complete.
[2022-08-18 17:16:54,975.975] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:16:54,997.997] INFO [8671933952] - Shutting down
[2022-08-18 17:16:55,099.099] INFO [8671933952] - Waiting for application shutdown.
[2022-08-18 17:16:55,099.099] INFO [8671933952] - Application shutdown complete.
[2022-08-18 17:16:55,100.100] INFO [8671933952] - Finished server process [64518]
[2022-08-18 17:16:55,963.963] INFO [8669738496] - Started server process [64530]
[2022-08-18 17:16:55,963.963] INFO [8669738496] - Waiting for application startup.
[2022-08-18 17:16:55,963.963] INFO [8669738496] - Application startup complete.
[2022-08-18 17:16:59,665.665] INFO [8669738496] - 127.0.0.1:58429 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:16:59,931.931] INFO [8669738496] - 127.0.0.1:58429 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:17:04,073.073] INFO [8669738496] - 127.0.0.1:58429 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:17:04,074.074] ERROR [8669738496] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 51, in upload
    with pd.ExcelFile(file_path) as xls:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:18:56,689.689] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:18:56,723.723] INFO [8669738496] - Shutting down
[2022-08-18 17:18:56,825.825] INFO [8669738496] - Waiting for application shutdown.
[2022-08-18 17:18:56,826.826] INFO [8669738496] - Application shutdown complete.
[2022-08-18 17:18:56,826.826] INFO [8669738496] - Finished server process [64530]
[2022-08-18 17:18:58,018.018] INFO [8637662720] - Started server process [64581]
[2022-08-18 17:18:58,018.018] INFO [8637662720] - Waiting for application startup.
[2022-08-18 17:18:58,018.018] INFO [8637662720] - Application startup complete.
[2022-08-18 17:19:06,797.797] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:19:06,830.830] INFO [8637662720] - Shutting down
[2022-08-18 17:19:06,931.931] INFO [8637662720] - Waiting for application shutdown.
[2022-08-18 17:19:06,932.932] INFO [8637662720] - Application shutdown complete.
[2022-08-18 17:19:06,932.932] INFO [8637662720] - Finished server process [64581]
[2022-08-18 17:19:07,787.787] INFO [8667395584] - Started server process [64633]
[2022-08-18 17:19:07,788.788] INFO [8667395584] - Waiting for application startup.
[2022-08-18 17:19:07,788.788] INFO [8667395584] - Application startup complete.
[2022-08-18 17:19:22,853.853] INFO [8667395584] - 127.0.0.1:58470 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:19:23,083.083] INFO [8667395584] - 127.0.0.1:58470 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:19:26,760.760] INFO [8667395584] - 127.0.0.1:58470 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:19:26,761.761] ERROR [8667395584] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 45, in upload
    async with open(file_path, 'w+') as out_pt:
AttributeError: __aenter__
[2022-08-18 17:20:09,407.407] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:20:09,491.491] INFO [8667395584] - Shutting down
[2022-08-18 17:20:09,593.593] INFO [8667395584] - Waiting for application shutdown.
[2022-08-18 17:20:09,594.594] INFO [8667395584] - Application shutdown complete.
[2022-08-18 17:20:09,594.594] INFO [8667395584] - Finished server process [64633]
[2022-08-18 17:20:10,509.509] INFO [8628979200] - Started server process [64685]
[2022-08-18 17:20:10,509.509] INFO [8628979200] - Waiting for application startup.
[2022-08-18 17:20:10,509.509] INFO [8628979200] - Application startup complete.
[2022-08-18 17:20:13,609.609] INFO [8628979200] - 127.0.0.1:58474 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:20:13,764.764] INFO [8628979200] - 127.0.0.1:58474 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:20:17,414.414] INFO [8628979200] - 127.0.0.1:58474 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 17:20:29,191.191] INFO [8628979200] - 127.0.0.1:58475 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:20:29,387.387] INFO [8628979200] - 127.0.0.1:58475 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:20:33,350.350] INFO [8628979200] - 127.0.0.1:58475 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 17:20:55,761.761] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:20:55,794.794] INFO [8628979200] - Shutting down
[2022-08-18 17:20:55,896.896] INFO [8628979200] - Waiting for application shutdown.
[2022-08-18 17:20:55,896.896] INFO [8628979200] - Application shutdown complete.
[2022-08-18 17:20:55,896.896] INFO [8628979200] - Finished server process [64685]
[2022-08-18 17:20:56,838.838] INFO [8674522624] - Started server process [64719]
[2022-08-18 17:20:56,838.838] INFO [8674522624] - Waiting for application startup.
[2022-08-18 17:20:56,838.838] INFO [8674522624] - Application startup complete.
[2022-08-18 17:20:57,606.606] INFO [8674522624] - 127.0.0.1:58495 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:20:57,755.755] INFO [8674522624] - 127.0.0.1:58495 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:21:04,277.277] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:04,331.331] INFO [8674522624] - Shutting down
[2022-08-18 17:21:04,432.432] INFO [8674522624] - Waiting for application shutdown.
[2022-08-18 17:21:04,432.432] INFO [8674522624] - Application shutdown complete.
[2022-08-18 17:21:04,432.432] INFO [8674522624] - Finished server process [64719]
[2022-08-18 17:21:05,460.460] INFO [8669791744] - Started server process [64745]
[2022-08-18 17:21:05,460.460] INFO [8669791744] - Waiting for application startup.
[2022-08-18 17:21:05,460.460] INFO [8669791744] - Application startup complete.
[2022-08-18 17:21:05,461.461] INFO [8669791744] - 127.0.0.1:58506 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:21:05,609.609] INFO [8669791744] - 127.0.0.1:58506 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:21:08,986.986] INFO [8669791744] - 127.0.0.1:58506 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:21:08,987.987] ERROR [8669791744] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:21:13,342.342] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:13,360.360] INFO [8669791744] - Shutting down
[2022-08-18 17:21:13,461.461] INFO [8669791744] - Waiting for application shutdown.
[2022-08-18 17:21:13,461.461] INFO [8669791744] - Application shutdown complete.
[2022-08-18 17:21:13,461.461] INFO [8669791744] - Finished server process [64745]
[2022-08-18 17:21:14,241.241] INFO [8601351680] - Started server process [64750]
[2022-08-18 17:21:14,242.242] INFO [8601351680] - Waiting for application startup.
[2022-08-18 17:21:14,242.242] INFO [8601351680] - Application startup complete.
[2022-08-18 17:21:39,735.735] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:39,775.775] INFO [8601351680] - Shutting down
[2022-08-18 17:21:39,877.877] INFO [8601351680] - Waiting for application shutdown.
[2022-08-18 17:21:39,878.878] INFO [8601351680] - Application shutdown complete.
[2022-08-18 17:21:39,878.878] INFO [8601351680] - Finished server process [64750]
[2022-08-18 17:21:54,808.808] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:55,614.614] INFO [8665671168] - Started server process [64772]
[2022-08-18 17:21:55,615.615] INFO [8665671168] - Waiting for application startup.
[2022-08-18 17:21:55,615.615] INFO [8665671168] - Application startup complete.
[2022-08-18 17:21:58,000.000] INFO [8665671168] - 127.0.0.1:58510 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:21:58,162.162] INFO [8665671168] - 127.0.0.1:58510 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:22:02,366.366] INFO [8665671168] - 127.0.0.1:58510 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:22:02,367.367] ERROR [8665671168] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path, engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 17:22:11,672.672] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:22:11,724.724] INFO [8665671168] - Shutting down
[2022-08-18 17:22:11,826.826] INFO [8665671168] - Waiting for application shutdown.
[2022-08-18 17:22:11,826.826] INFO [8665671168] - Application shutdown complete.
[2022-08-18 17:22:11,826.826] INFO [8665671168] - Finished server process [64772]
[2022-08-18 17:22:12,618.618] INFO [8610059776] - Started server process [64785]
[2022-08-18 17:22:12,619.619] INFO [8610059776] - Waiting for application startup.
[2022-08-18 17:22:12,619.619] INFO [8610059776] - Application startup complete.
[2022-08-18 17:22:13,195.195] INFO [8610059776] - 127.0.0.1:58513 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:22:13,311.311] INFO [8610059776] - 127.0.0.1:58513 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:53:14,268.268] INFO [8610059776] - 127.0.0.1:58580 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:53:14,508.508] INFO [8610059776] - 127.0.0.1:58580 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:53:22,299.299] INFO [8610059776] - 127.0.0.1:58581 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:53:22,312.312] ERROR [8610059776] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path, engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 21:49:01,253.253] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:49:01,311.311] INFO [8610059776] - Shutting down
[2022-08-18 21:49:01,416.416] INFO [8610059776] - Waiting for application shutdown.
[2022-08-18 21:49:01,418.418] INFO [8610059776] - Application shutdown complete.
[2022-08-18 21:49:01,419.419] INFO [8610059776] - Finished server process [64785]
[2022-08-18 21:49:02,497.497] INFO [8665482752] - Started server process [66769]
[2022-08-18 21:49:02,498.498] INFO [8665482752] - Waiting for application startup.
[2022-08-18 21:49:02,498.498] INFO [8665482752] - Application startup complete.
[2022-08-18 21:49:10,459.459] INFO [8665482752] - 127.0.0.1:59056 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:49:11,622.622] INFO [8665482752] - 127.0.0.1:59056 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:49:20,334.334] INFO [8665482752] - 127.0.0.1:59058 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:49:20,335.335] ERROR [8665482752] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 21:50:05,722.722] INFO [8665482752] - 127.0.0.1:59062 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:50:05,869.869] INFO [8665482752] - 127.0.0.1:59062 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:50:17,880.880] INFO [8665482752] - 127.0.0.1:59063 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:50:17,880.880] ERROR [8665482752] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    out_pt.write(content.decode('utf-8'))
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa2 in position 15: invalid start byte
[2022-08-18 21:50:41,994.994] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:50:42,012.012] INFO [8665482752] - Shutting down
[2022-08-18 21:50:42,114.114] INFO [8665482752] - Waiting for application shutdown.
[2022-08-18 21:50:42,114.114] INFO [8665482752] - Application shutdown complete.
[2022-08-18 21:50:42,115.115] INFO [8665482752] - Finished server process [66769]
[2022-08-18 21:50:43,021.021] INFO [8631088640] - Started server process [66908]
[2022-08-18 21:50:43,022.022] INFO [8631088640] - Waiting for application startup.
[2022-08-18 21:50:43,022.022] INFO [8631088640] - Application startup complete.
[2022-08-18 21:50:59,811.811] INFO [8631088640] - 127.0.0.1:59078 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:50:59,975.975] INFO [8631088640] - 127.0.0.1:59078 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:51:08,059.059] INFO [8631088640] - 127.0.0.1:59079 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:51:08,060.060] ERROR [8631088640] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    out_pt.write(content)
TypeError: write() argument must be str, not bytes
[2022-08-18 21:51:25,268.268] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:51:25,287.287] INFO [8631088640] - Shutting down
[2022-08-18 21:51:25,389.389] INFO [8631088640] - Waiting for application shutdown.
[2022-08-18 21:51:25,389.389] INFO [8631088640] - Application shutdown complete.
[2022-08-18 21:51:25,389.389] INFO [8631088640] - Finished server process [66908]
[2022-08-18 21:51:26,275.275] INFO [8660493824] - Started server process [66927]
[2022-08-18 21:51:26,275.275] INFO [8660493824] - Waiting for application startup.
[2022-08-18 21:51:26,275.275] INFO [8660493824] - Application startup complete.
[2022-08-18 21:51:29,408.408] INFO [8660493824] - 127.0.0.1:59084 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:51:29,518.518] INFO [8660493824] - 127.0.0.1:59084 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:51:34,278.278] INFO [8660493824] - 127.0.0.1:59084 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:51:34,279.279] ERROR [8660493824] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 21:51:45,761.761] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:51:45,840.840] INFO [8660493824] - Shutting down
[2022-08-18 21:51:45,941.941] INFO [8660493824] - Waiting for application shutdown.
[2022-08-18 21:51:45,942.942] INFO [8660493824] - Application shutdown complete.
[2022-08-18 21:51:45,942.942] INFO [8660493824] - Finished server process [66927]
[2022-08-18 21:51:46,889.889] INFO [8599594496] - Started server process [66942]
[2022-08-18 21:51:46,890.890] INFO [8599594496] - Waiting for application startup.
[2022-08-18 21:51:46,890.890] INFO [8599594496] - Application startup complete.
[2022-08-18 21:51:47,357.357] INFO [8599594496] - 127.0.0.1:59089 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:51:47,496.496] INFO [8599594496] - 127.0.0.1:59089 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:51:52,076.076] INFO [8599594496] - 127.0.0.1:59089 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:51:52,077.077] ERROR [8599594496] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 21:52:24,221.221] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:52:24,273.273] INFO [8599594496] - Shutting down
[2022-08-18 21:52:24,375.375] INFO [8599594496] - Waiting for application shutdown.
[2022-08-18 21:52:24,375.375] INFO [8599594496] - Application shutdown complete.
[2022-08-18 21:52:24,375.375] INFO [8599594496] - Finished server process [66942]
[2022-08-18 21:52:25,613.613] INFO [8601261568] - Started server process [66963]
[2022-08-18 21:52:25,614.614] INFO [8601261568] - Waiting for application startup.
[2022-08-18 21:52:25,614.614] INFO [8601261568] - Application startup complete.
[2022-08-18 21:54:14,668.668] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:54:14,680.680] INFO [8601261568] - Shutting down
[2022-08-18 21:54:14,782.782] INFO [8601261568] - Waiting for application shutdown.
[2022-08-18 21:54:14,784.784] INFO [8601261568] - Application shutdown complete.
[2022-08-18 21:54:14,784.784] INFO [8601261568] - Finished server process [66963]
[2022-08-18 21:54:15,615.615] INFO [8636110336] - Started server process [67013]
[2022-08-18 21:54:15,615.615] INFO [8636110336] - Waiting for application startup.
[2022-08-18 21:54:15,615.615] INFO [8636110336] - Application startup complete.
[2022-08-18 21:54:32,079.079] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:54:32,134.134] INFO [8636110336] - Shutting down
[2022-08-18 21:54:32,234.234] INFO [8636110336] - Waiting for application shutdown.
[2022-08-18 21:54:32,235.235] INFO [8636110336] - Application shutdown complete.
[2022-08-18 21:54:32,235.235] INFO [8636110336] - Finished server process [67013]
[2022-08-18 21:54:33,048.048] INFO [8597632512] - Started server process [67021]
[2022-08-18 21:54:33,049.049] INFO [8597632512] - Waiting for application startup.
[2022-08-18 21:54:33,049.049] INFO [8597632512] - Application startup complete.
[2022-08-18 21:54:51,383.383] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:54:51,395.395] INFO [8597632512] - Shutting down
[2022-08-18 21:54:51,497.497] INFO [8597632512] - Waiting for application shutdown.
[2022-08-18 21:54:51,498.498] INFO [8597632512] - Application shutdown complete.
[2022-08-18 21:54:51,498.498] INFO [8597632512] - Finished server process [67021]
[2022-08-18 21:54:52,409.409] INFO [8672531968] - Started server process [67025]
[2022-08-18 21:54:52,409.409] INFO [8672531968] - Waiting for application startup.
[2022-08-18 21:54:52,410.410] INFO [8672531968] - Application startup complete.
[2022-08-18 21:55:59,345.345] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:55:59,396.396] INFO [8672531968] - Shutting down
[2022-08-18 21:55:59,498.498] INFO [8672531968] - Waiting for application shutdown.
[2022-08-18 21:55:59,499.499] INFO [8672531968] - Application shutdown complete.
[2022-08-18 21:55:59,499.499] INFO [8672531968] - Finished server process [67025]
[2022-08-18 21:56:00,356.356] INFO [8633775616] - Started server process [67045]
[2022-08-18 21:56:00,357.357] INFO [8633775616] - Waiting for application startup.
[2022-08-18 21:56:00,357.357] INFO [8633775616] - Application startup complete.
[2022-08-18 21:56:02,916.916] INFO [8633775616] - 127.0.0.1:59329 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:56:03,147.147] INFO [8633775616] - 127.0.0.1:59329 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:56:08,348.348] INFO [8633775616] - 127.0.0.1:59330 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:56:08,349.349] ERROR [8633775616] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    out_pt.write(content)
TypeError: write() argument must be str, not bytes
[2022-08-18 21:58:30,316.316] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:58:30,352.352] INFO [8633775616] - Shutting down
[2022-08-18 21:58:30,455.455] INFO [8633775616] - Waiting for application shutdown.
[2022-08-18 21:58:30,458.458] INFO [8633775616] - Application shutdown complete.
[2022-08-18 21:58:30,459.459] INFO [8633775616] - Finished server process [67045]
[2022-08-18 21:58:31,623.623] INFO [8662050304] - Started server process [67094]
[2022-08-18 21:58:31,623.623] INFO [8662050304] - Waiting for application startup.
[2022-08-18 21:58:31,623.623] INFO [8662050304] - Application startup complete.
[2022-08-18 21:58:38,895.895] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:58:38,918.918] INFO [8662050304] - Shutting down
[2022-08-18 21:58:39,019.019] INFO [8662050304] - Waiting for application shutdown.
[2022-08-18 21:58:39,020.020] INFO [8662050304] - Application shutdown complete.
[2022-08-18 21:58:39,020.020] INFO [8662050304] - Finished server process [67094]
[2022-08-18 21:58:39,887.887] INFO [8633570816] - Started server process [67100]
[2022-08-18 21:58:39,887.887] INFO [8633570816] - Waiting for application startup.
[2022-08-18 21:58:39,887.887] INFO [8633570816] - Application startup complete.
[2022-08-18 21:58:42,008.008] INFO [8633570816] - 127.0.0.1:59350 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:58:42,218.218] INFO [8633570816] - 127.0.0.1:59350 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:59:55,453.453] INFO [8633570816] - 127.0.0.1:59364 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:59:55,576.576] INFO [8633570816] - 127.0.0.1:59364 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:00:04,471.471] INFO [8633570816] - 127.0.0.1:59365 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:00:04,589.589] INFO [8633570816] - 127.0.0.1:59365 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:00:10,706.706] INFO [8633570816] - 127.0.0.1:59368 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:00:10,707.707] ERROR [8633570816] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    out_pt.write(content)
TypeError: write() argument must be str, not bytes
[2022-08-18 22:01:26,906.906] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:01:26,998.998] INFO [8633570816] - Shutting down
[2022-08-18 22:01:27,100.100] INFO [8633570816] - Waiting for application shutdown.
[2022-08-18 22:01:27,101.101] INFO [8633570816] - Application shutdown complete.
[2022-08-18 22:01:27,101.101] INFO [8633570816] - Finished server process [67100]
[2022-08-18 22:01:28,210.210] INFO [8634721792] - Started server process [67140]
[2022-08-18 22:01:28,210.210] INFO [8634721792] - Waiting for application startup.
[2022-08-18 22:01:28,210.210] INFO [8634721792] - Application startup complete.
[2022-08-18 22:01:29,581.581] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:01:29,629.629] INFO [8634721792] - Shutting down
[2022-08-18 22:01:29,730.730] INFO [8634721792] - Waiting for application shutdown.
[2022-08-18 22:01:29,731.731] INFO [8634721792] - Application shutdown complete.
[2022-08-18 22:01:29,731.731] INFO [8634721792] - Finished server process [67140]
[2022-08-18 22:01:30,462.462] INFO [8600704512] - Started server process [67146]
[2022-08-18 22:01:30,462.462] INFO [8600704512] - Waiting for application startup.
[2022-08-18 22:01:30,462.462] INFO [8600704512] - Application startup complete.
[2022-08-18 22:01:31,359.359] INFO [8600704512] - 127.0.0.1:59373 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:01:31,525.525] INFO [8600704512] - 127.0.0.1:59373 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:01:35,895.895] INFO [8600704512] - 127.0.0.1:59373 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:01:35,895.895] ERROR [8600704512] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    print(content.decode('utf-8'))
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa2 in position 15: invalid start byte
[2022-08-18 22:01:45,791.791] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:01:45,869.869] INFO [8600704512] - Shutting down
[2022-08-18 22:01:45,970.970] INFO [8600704512] - Waiting for application shutdown.
[2022-08-18 22:01:45,971.971] INFO [8600704512] - Application shutdown complete.
[2022-08-18 22:01:45,971.971] INFO [8600704512] - Finished server process [67146]
[2022-08-18 22:01:46,902.902] INFO [8633136640] - Started server process [67154]
[2022-08-18 22:01:46,902.902] INFO [8633136640] - Waiting for application startup.
[2022-08-18 22:01:46,902.902] INFO [8633136640] - Application startup complete.
[2022-08-18 22:02:14,517.517] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:02:14,561.561] INFO [8633136640] - Shutting down
[2022-08-18 22:02:14,663.663] INFO [8633136640] - Waiting for application shutdown.
[2022-08-18 22:02:14,664.664] INFO [8633136640] - Application shutdown complete.
[2022-08-18 22:02:14,664.664] INFO [8633136640] - Finished server process [67154]
[2022-08-18 22:02:15,551.551] INFO [8663524864] - Started server process [67169]
[2022-08-18 22:02:15,551.551] INFO [8663524864] - Waiting for application startup.
[2022-08-18 22:02:15,552.552] INFO [8663524864] - Application startup complete.
[2022-08-18 22:02:52,775.775] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:02:52,844.844] INFO [8663524864] - Shutting down
[2022-08-18 22:02:52,949.949] INFO [8663524864] - Waiting for application shutdown.
[2022-08-18 22:02:52,950.950] INFO [8663524864] - Application shutdown complete.
[2022-08-18 22:02:52,950.950] INFO [8663524864] - Finished server process [67169]
[2022-08-18 22:03:17,960.960] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:03:18,739.739] INFO [8668173824] - Started server process [67189]
[2022-08-18 22:03:18,740.740] INFO [8668173824] - Waiting for application startup.
[2022-08-18 22:03:18,740.740] INFO [8668173824] - Application startup complete.
[2022-08-18 22:04:21,073.073] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:04:21,090.090] INFO [8668173824] - Shutting down
[2022-08-18 22:04:21,193.193] INFO [8668173824] - Waiting for application shutdown.
[2022-08-18 22:04:21,198.198] INFO [8668173824] - Application shutdown complete.
[2022-08-18 22:04:21,199.199] INFO [8668173824] - Finished server process [67189]
[2022-08-18 22:04:22,147.147] INFO [8663152128] - Started server process [67214]
[2022-08-18 22:04:22,147.147] INFO [8663152128] - Waiting for application startup.
[2022-08-18 22:04:22,147.147] INFO [8663152128] - Application startup complete.
[2022-08-18 22:04:23,720.720] INFO [8663152128] - 127.0.0.1:59569 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:04:24,143.143] INFO [8663152128] - 127.0.0.1:59569 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:04:28,276.276] INFO [8663152128] - 127.0.0.1:59569 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:04:28,277.277] ERROR [8663152128] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    out_pt.write(str(content, 'UTF-8'))
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa2 in position 15: invalid start byte
[2022-08-18 22:05:04,579.579] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:05:04,609.609] INFO [8663152128] - Shutting down
[2022-08-18 22:05:04,712.712] INFO [8663152128] - Waiting for application shutdown.
[2022-08-18 22:05:04,712.712] INFO [8663152128] - Application shutdown complete.
[2022-08-18 22:05:04,713.713] INFO [8663152128] - Finished server process [67214]
[2022-08-18 22:05:05,751.751] INFO [8632055296] - Started server process [67233]
[2022-08-18 22:05:05,751.751] INFO [8632055296] - Waiting for application startup.
[2022-08-18 22:05:05,751.751] INFO [8632055296] - Application startup complete.
[2022-08-18 22:05:06,860.860] INFO [8632055296] - 127.0.0.1:59578 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:05:07,060.060] INFO [8632055296] - 127.0.0.1:59578 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:05:10,752.752] INFO [8632055296] - 127.0.0.1:59578 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:05:10,754.754] ERROR [8632055296] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    out_pt.write(str(content, 'ASCII'))
UnicodeDecodeError: 'ascii' codec can't decode byte 0xa2 in position 15: ordinal not in range(128)
[2022-08-18 22:07:04,700.700] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:07:04,727.727] INFO [8632055296] - Shutting down
[2022-08-18 22:07:04,829.829] INFO [8632055296] - Waiting for application shutdown.
[2022-08-18 22:07:04,830.830] INFO [8632055296] - Application shutdown complete.
[2022-08-18 22:07:04,830.830] INFO [8632055296] - Finished server process [67233]
[2022-08-18 22:07:05,939.939] INFO [8642774528] - Started server process [67340]
[2022-08-18 22:07:05,940.940] INFO [8642774528] - Waiting for application startup.
[2022-08-18 22:07:05,940.940] INFO [8642774528] - Application startup complete.
[2022-08-18 22:07:36,055.055] INFO [8642774528] - 127.0.0.1:59664 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:07:36,246.246] INFO [8642774528] - 127.0.0.1:59664 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:07:40,076.076] INFO [8642774528] - 127.0.0.1:59664 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:07:40,077.077] ERROR [8642774528] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    print(content.decode())
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa2 in position 15: invalid start byte
[2022-08-18 22:08:18,001.001] INFO [8642774528] - 127.0.0.1:59665 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:08:18,103.103] INFO [8642774528] - 127.0.0.1:59665 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:17:52,128.128] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:17:52,181.181] INFO [8642774528] - Shutting down
[2022-08-18 22:17:52,283.283] INFO [8642774528] - Waiting for application shutdown.
[2022-08-18 22:17:52,283.283] INFO [8642774528] - Application shutdown complete.
[2022-08-18 22:17:52,283.283] INFO [8642774528] - Finished server process [67340]
[2022-08-18 22:17:53,176.176] INFO [8663512576] - Started server process [67458]
[2022-08-18 22:17:53,177.177] INFO [8663512576] - Waiting for application startup.
[2022-08-18 22:17:53,177.177] INFO [8663512576] - Application startup complete.
[2022-08-18 22:19:13,836.836] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:19:13,924.924] INFO [8663512576] - Shutting down
[2022-08-18 22:19:14,026.026] INFO [8663512576] - Waiting for application shutdown.
[2022-08-18 22:19:14,026.026] INFO [8663512576] - Application shutdown complete.
[2022-08-18 22:19:14,026.026] INFO [8663512576] - Finished server process [67458]
[2022-08-18 22:19:15,024.024] INFO [8636687872] - Started server process [67473]
[2022-08-18 22:19:15,025.025] INFO [8636687872] - Waiting for application startup.
[2022-08-18 22:19:15,025.025] INFO [8636687872] - Application startup complete.
[2022-08-18 22:19:23,229.229] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:19:23,233.233] INFO [8636687872] - Shutting down
[2022-08-18 22:19:23,335.335] INFO [8636687872] - Waiting for application shutdown.
[2022-08-18 22:19:23,335.335] INFO [8636687872] - Application shutdown complete.
[2022-08-18 22:19:23,335.335] INFO [8636687872] - Finished server process [67473]
[2022-08-18 22:19:24,118.118] INFO [8604706304] - Started server process [67482]
[2022-08-18 22:19:24,119.119] INFO [8604706304] - Waiting for application startup.
[2022-08-18 22:19:24,119.119] INFO [8604706304] - Application startup complete.
[2022-08-18 22:19:29,871.871] INFO [8604706304] - 127.0.0.1:59713 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:19:30,161.161] INFO [8604706304] - 127.0.0.1:59713 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:19:34,553.553] INFO [8604706304] - 127.0.0.1:59713 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:19:34,554.554] ERROR [8604706304] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 52, in upload
    ws = wb['SH']
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/workbook/workbook.py", line 288, in __getitem__
    raise KeyError("Worksheet {0} does not exist.".format(key))
KeyError: 'Worksheet SH does not exist.'
[2022-08-18 22:20:07,475.475] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:20:07,492.492] INFO [8604706304] - Shutting down
[2022-08-18 22:20:07,594.594] INFO [8604706304] - Waiting for application shutdown.
[2022-08-18 22:20:07,594.594] INFO [8604706304] - Application shutdown complete.
[2022-08-18 22:20:07,594.594] INFO [8604706304] - Finished server process [67482]
[2022-08-18 22:20:08,788.788] INFO [8600897024] - Started server process [67491]
[2022-08-18 22:20:08,789.789] INFO [8600897024] - Waiting for application startup.
[2022-08-18 22:20:08,789.789] INFO [8600897024] - Application startup complete.
[2022-08-18 22:20:08,790.790] INFO [8600897024] - 127.0.0.1:59718 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:20:08,976.976] INFO [8600897024] - 127.0.0.1:59718 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:20:13,631.631] INFO [8600897024] - 127.0.0.1:59718 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:20:13,631.631] ERROR [8600897024] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    out_pt.write(str(content, 'ASCII'))
UnicodeDecodeError: 'ascii' codec can't decode byte 0xa2 in position 15: ordinal not in range(128)
[2022-08-18 22:20:51,315.315] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:20:51,346.346] INFO [8600897024] - Shutting down
[2022-08-18 22:20:51,449.449] INFO [8600897024] - Waiting for application shutdown.
[2022-08-18 22:20:51,452.452] INFO [8600897024] - Application shutdown complete.
[2022-08-18 22:20:51,453.453] INFO [8600897024] - Finished server process [67491]
[2022-08-18 22:23:23,316.316] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:23:24,136.136] INFO [8665503232] - Started server process [67573]
[2022-08-18 22:23:24,136.136] INFO [8665503232] - Waiting for application startup.
[2022-08-18 22:23:24,136.136] INFO [8665503232] - Application startup complete.
[2022-08-18 22:23:39,171.171] INFO [8665503232] - 127.0.0.1:59779 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:23:39,173.173] ERROR [8665503232] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    out_pt.write(content)
TypeError: write() argument must be str, not bytes
[2022-08-18 22:25:23,533.533] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:25:23,608.608] INFO [8665503232] - Shutting down
[2022-08-18 22:25:23,710.710] INFO [8665503232] - Waiting for application shutdown.
[2022-08-18 22:25:23,710.710] INFO [8665503232] - Application shutdown complete.
[2022-08-18 22:25:23,710.710] INFO [8665503232] - Finished server process [67573]
[2022-08-18 22:25:24,548.548] INFO [8591951360] - Started server process [67668]
[2022-08-18 22:25:24,548.548] INFO [8591951360] - Waiting for application startup.
[2022-08-18 22:25:24,548.548] INFO [8591951360] - Application startup complete.
[2022-08-18 22:25:32,275.275] INFO [8591951360] - 127.0.0.1:59787 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 22:27:20,110.110] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:27:20,205.205] INFO [8591951360] - Shutting down
[2022-08-18 22:27:20,308.308] INFO [8591951360] - Waiting for application shutdown.
[2022-08-18 22:27:20,311.311] INFO [8591951360] - Application shutdown complete.
[2022-08-18 22:27:20,312.312] INFO [8591951360] - Finished server process [67668]
[2022-08-18 22:27:21,205.205] INFO [8660895232] - Started server process [67698]
[2022-08-18 22:27:21,205.205] INFO [8660895232] - Waiting for application startup.
[2022-08-18 22:27:21,206.206] INFO [8660895232] - Application startup complete.
[2022-08-18 22:31:13,250.250] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:31:13,288.288] INFO [8660895232] - Shutting down
[2022-08-18 22:31:13,390.390] INFO [8660895232] - Waiting for application shutdown.
[2022-08-18 22:31:13,390.390] INFO [8660895232] - Application shutdown complete.
[2022-08-18 22:31:13,391.391] INFO [8660895232] - Finished server process [67698]
[2022-08-18 22:31:14,287.287] INFO [8607684096] - Started server process [67742]
[2022-08-18 22:31:14,287.287] INFO [8607684096] - Waiting for application startup.
[2022-08-18 22:31:14,287.287] INFO [8607684096] - Application startup complete.
[2022-08-18 22:31:17,005.005] INFO [8607684096] - 127.0.0.1:59795 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:31:17,302.302] INFO [8607684096] - 127.0.0.1:59795 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:31:22,009.009] INFO [8607684096] - 127.0.0.1:59795 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:31:22,010.010] ERROR [8607684096] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1376, in __init__
    ext = inspect_excel_format(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1259, in inspect_excel_format
    assert isinstance(buf, bytes)
AssertionError
[2022-08-18 22:32:58,176.176] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:32:58,191.191] INFO [8607684096] - Shutting down
[2022-08-18 22:32:58,297.297] INFO [8607684096] - Waiting for application shutdown.
[2022-08-18 22:32:58,297.297] INFO [8607684096] - Application shutdown complete.
[2022-08-18 22:32:58,298.298] INFO [8607684096] - Finished server process [67742]
[2022-08-18 22:32:59,125.125] INFO [8625403392] - Started server process [67780]
[2022-08-18 22:32:59,125.125] INFO [8625403392] - Waiting for application startup.
[2022-08-18 22:32:59,125.125] INFO [8625403392] - Application startup complete.
[2022-08-18 22:33:00,754.754] INFO [8625403392] - 127.0.0.1:59816 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:33:00,984.984] INFO [8625403392] - 127.0.0.1:59816 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:33:05,157.157] INFO [8625403392] - 127.0.0.1:59816 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:33:05,158.158] ERROR [8625403392] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file.read())
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1376, in __init__
    ext = inspect_excel_format(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1250, in inspect_excel_format
    with get_handle(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/common.py", line 667, in get_handle
    ioargs = _get_filepath_or_buffer(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/common.py", line 424, in _get_filepath_or_buffer
    raise ValueError(msg)
ValueError: Invalid file path or buffer object type: <class 'coroutine'>
[2022-08-18 22:34:13,001.001] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:34:13,028.028] INFO [8625403392] - Shutting down
[2022-08-18 22:34:13,130.130] INFO [8625403392] - Waiting for application shutdown.
[2022-08-18 22:34:13,130.130] INFO [8625403392] - Application shutdown complete.
[2022-08-18 22:34:13,130.130] INFO [8625403392] - Finished server process [67780]
[2022-08-18 22:34:14,009.009] INFO [8629814784] - Started server process [67800]
[2022-08-18 22:34:14,010.010] INFO [8629814784] - Waiting for application startup.
[2022-08-18 22:34:14,010.010] INFO [8629814784] - Application startup complete.
[2022-08-18 22:34:15,986.986] INFO [8629814784] - 127.0.0.1:59822 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:34:16,163.163] INFO [8629814784] - 127.0.0.1:59822 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:34:16,336.336] INFO [8629814784] - 127.0.0.1:59822 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:34:16,411.411] INFO [8629814784] - 127.0.0.1:59822 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:34:20,060.060] INFO [8629814784] - 127.0.0.1:59822 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 23:27:41,610.610] INFO [8629814784] - 127.0.0.1:59977 - "GET /swagger HTTP/1.1" 200
[2022-08-18 23:27:41,806.806] INFO [8629814784] - 127.0.0.1:59977 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 23:27:47,325.325] INFO [8629814784] - 127.0.0.1:59978 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 23:28:17,016.016] INFO [8629814784] - 127.0.0.1:60005 - "GET /swagger HTTP/1.1" 200
[2022-08-18 23:28:17,169.169] INFO [8629814784] - 127.0.0.1:60005 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 23:28:33,257.257] INFO [8629814784] - 127.0.0.1:60006 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 23:31:25,758.758] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 23:31:25,851.851] INFO [8629814784] - Shutting down
[2022-08-18 23:31:25,953.953] INFO [8629814784] - Waiting for application shutdown.
[2022-08-18 23:31:25,954.954] INFO [8629814784] - Application shutdown complete.
[2022-08-18 23:31:25,954.954] INFO [8629814784] - Finished server process [67800]
[2022-08-18 23:31:26,818.818] INFO [8632301056] - Started server process [68414]
[2022-08-18 23:31:26,818.818] INFO [8632301056] - Waiting for application startup.
[2022-08-18 23:31:26,818.818] INFO [8632301056] - Application startup complete.
[2022-08-18 23:32:02,423.423] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 23:32:02,479.479] INFO [8632301056] - Shutting down
[2022-08-18 23:32:02,580.580] INFO [8632301056] - Waiting for application shutdown.
[2022-08-18 23:32:02,581.581] INFO [8632301056] - Application shutdown complete.
[2022-08-18 23:32:02,581.581] INFO [8632301056] - Finished server process [68414]
[2022-08-18 23:32:03,412.412] INFO [8598668800] - Started server process [68424]
[2022-08-18 23:32:03,413.413] INFO [8598668800] - Waiting for application startup.
[2022-08-18 23:32:03,413.413] INFO [8598668800] - Application startup complete.
[2022-08-18 23:32:05,714.714] INFO [8598668800] - 127.0.0.1:60044 - "GET /swagger HTTP/1.1" 200
[2022-08-18 23:32:05,984.984] INFO [8598668800] - 127.0.0.1:60044 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 23:32:13,122.122] INFO [8598668800] - 127.0.0.1:60045 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 23:32:31,762.762] INFO [8598668800] - 127.0.0.1:60056 - "GET /swagger HTTP/1.1" 200
[2022-08-18 23:32:31,886.886] INFO [8598668800] - 127.0.0.1:60056 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 23:32:37,326.326] INFO [8598668800] - 127.0.0.1:60057 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 23:34:47,869.869] INFO [8598668800] - 127.0.0.1:60075 - "GET /swagger HTTP/1.1" 200
[2022-08-18 23:34:48,726.726] INFO [8598668800] - 127.0.0.1:60075 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 23:50:57,125.125] INFO [8598668800] - 127.0.0.1:60265 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:21:33,238.238] WARNING [8675358208] - StatReload detected changes in 'database/models.py'. Reloading...
[2022-08-19 00:21:33,335.335] INFO [8598668800] - Shutting down
[2022-08-19 00:21:33,437.437] INFO [8598668800] - Waiting for application shutdown.
[2022-08-19 00:21:33,438.438] INFO [8598668800] - Application shutdown complete.
[2022-08-19 00:21:33,438.438] INFO [8598668800] - Finished server process [68424]
[2022-08-19 00:21:34,259.259] INFO [8673281536] - Started server process [69517]
[2022-08-19 00:21:34,259.259] INFO [8673281536] - Waiting for application startup.
[2022-08-19 00:21:34,259.259] INFO [8673281536] - Application startup complete.
[2022-08-19 00:21:44,762.762] WARNING [8675358208] - StatReload detected changes in 'database/models.py'. Reloading...
[2022-08-19 00:21:44,798.798] INFO [8673281536] - Shutting down
[2022-08-19 00:21:44,900.900] INFO [8673281536] - Waiting for application shutdown.
[2022-08-19 00:21:44,901.901] INFO [8673281536] - Application shutdown complete.
[2022-08-19 00:21:44,901.901] INFO [8673281536] - Finished server process [69517]
[2022-08-19 00:21:45,575.575] INFO [8609674752] - Started server process [69531]
[2022-08-19 00:21:45,575.575] INFO [8609674752] - Waiting for application startup.
[2022-08-19 00:21:45,576.576] INFO [8609674752] - Application startup complete.
[2022-08-19 00:22:55,560.560] WARNING [8675358208] - StatReload detected changes in 'database/models.py'. Reloading...
[2022-08-19 00:22:55,563.563] INFO [8609674752] - Shutting down
[2022-08-19 00:22:55,665.665] INFO [8609674752] - Waiting for application shutdown.
[2022-08-19 00:22:55,665.665] INFO [8609674752] - Application shutdown complete.
[2022-08-19 00:22:55,665.665] INFO [8609674752] - Finished server process [69531]
[2022-08-19 00:22:56,435.435] INFO [8626525696] - Started server process [69552]
[2022-08-19 00:22:56,435.435] INFO [8626525696] - Waiting for application startup.
[2022-08-19 00:22:56,435.435] INFO [8626525696] - Application startup complete.
[2022-08-19 00:23:33,947.947] INFO [8626525696] - 127.0.0.1:60427 - "GET /swagger HTTP/1.1" 200
[2022-08-19 00:23:33,970.970] INFO [8626525696] - 127.0.0.1:60427 - "GET /favicon.ico HTTP/1.1" 404
[2022-08-19 00:23:34,267.267] INFO [8626525696] - 127.0.0.1:60427 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:23:42,471.471] INFO [8626525696] - 127.0.0.1:60429 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 00:24:08,932.932] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:24:09,029.029] INFO [8626525696] - Shutting down
[2022-08-19 00:24:09,131.131] INFO [8626525696] - Waiting for application shutdown.
[2022-08-19 00:24:09,131.131] INFO [8626525696] - Application shutdown complete.
[2022-08-19 00:24:09,131.131] INFO [8626525696] - Finished server process [69552]
[2022-08-19 00:24:10,009.009] INFO [8634746368] - Started server process [69582]
[2022-08-19 00:24:10,010.010] INFO [8634746368] - Waiting for application startup.
[2022-08-19 00:24:10,010.010] INFO [8634746368] - Application startup complete.
[2022-08-19 00:26:21,821.821] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:26:21,909.909] INFO [8634746368] - Shutting down
[2022-08-19 00:26:22,011.011] INFO [8634746368] - Waiting for application shutdown.
[2022-08-19 00:26:22,011.011] INFO [8634746368] - Application shutdown complete.
[2022-08-19 00:26:22,012.012] INFO [8634746368] - Finished server process [69582]
[2022-08-19 00:27:00,453.453] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:27:22,629.629] WARNING [8675358208] - StatReload detected changes in 'database/database.py'. Reloading...
[2022-08-19 00:27:23,274.274] INFO [8635442688] - Started server process [69647]
[2022-08-19 00:27:23,275.275] INFO [8635442688] - Waiting for application startup.
[2022-08-19 00:27:23,275.275] INFO [8635442688] - Application startup complete.
[2022-08-19 00:27:28,923.923] INFO [8635442688] - 127.0.0.1:60438 - "GET /swagger HTTP/1.1" 200
[2022-08-19 00:27:29,079.079] INFO [8635442688] - 127.0.0.1:60438 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:30:16,380.380] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:30:16,447.447] INFO [8635442688] - Shutting down
[2022-08-19 00:30:16,548.548] INFO [8635442688] - Waiting for application shutdown.
[2022-08-19 00:30:16,548.548] INFO [8635442688] - Application shutdown complete.
[2022-08-19 00:30:16,549.549] INFO [8635442688] - Finished server process [69647]
[2022-08-19 00:31:23,610.610] WARNING [8675358208] - StatReload detected changes in 'database/database.py'. Reloading...
[2022-08-19 00:33:25,240.240] WARNING [8675358208] - StatReload detected changes in 'database/models.py'. Reloading...
[2022-08-19 00:36:18,401.401] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:36:46,078.078] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:37:12,979.979] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:37:26,786.786] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:38:02,610.610] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:38:20,572.572] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:38:30,994.994] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:38:54,997.997] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:39:10,396.396] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:39:36,469.469] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:40:01,850.850] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:40:50,905.905] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:41:09,170.170] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:43:17,411.411] WARNING [8675358208] - StatReload detected changes in 'db/models.py'. Reloading...
[2022-08-19 00:44:46,529.529] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:02,148.148] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:09,191.191] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:19,642.642] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:38,202.202] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:43,407.407] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:44,099.099] INFO [8636655104] - Started server process [70042]
[2022-08-19 00:45:44,099.099] INFO [8636655104] - Waiting for application startup.
[2022-08-19 00:45:44,099.099] INFO [8636655104] - Application startup complete.
[2022-08-19 00:46:02,671.671] INFO [8636655104] - 127.0.0.1:60479 - "GET /swagger HTTP/1.1" 200
[2022-08-19 00:46:02,793.793] INFO [8636655104] - 127.0.0.1:60479 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:46:08,110.110] INFO [8636655104] - 127.0.0.1:60479 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 00:50:17,898.898] INFO [8636655104] - 127.0.0.1:60493 - "GET /swagger HTTP/1.1" 200
[2022-08-19 00:50:17,994.994] INFO [8636655104] - 127.0.0.1:60493 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:50:31,257.257] INFO [8636655104] - 127.0.0.1:60494 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-19 00:50:31,257.257] ERROR [8636655104] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 61, in upload
    df.to_sql('data_2', engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/core/generic.py", line 2951, in to_sql
    return sql.to_sql(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 697, in to_sql
    return pandas_sql.to_sql(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1729, in to_sql
    table = self.prep_table(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1628, in prep_table
    table.create()
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 833, in create
    raise ValueError(f"Table '{self.name}' already exists.")
ValueError: Table 'data_2' already exists.
[2022-08-19 00:51:10,494.494] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:51:10,592.592] INFO [8636655104] - Shutting down
[2022-08-19 00:51:10,694.694] INFO [8636655104] - Waiting for application shutdown.
[2022-08-19 00:51:10,694.694] INFO [8636655104] - Application shutdown complete.
[2022-08-19 00:51:10,694.694] INFO [8636655104] - Finished server process [70042]
[2022-08-19 00:51:11,586.586] INFO [8606623232] - Started server process [70158]
[2022-08-19 00:51:11,586.586] INFO [8606623232] - Waiting for application startup.
[2022-08-19 00:51:11,586.586] INFO [8606623232] - Application startup complete.
[2022-08-19 00:51:14,659.659] INFO [8606623232] - 127.0.0.1:60501 - "GET /swagger HTTP/1.1" 200
[2022-08-19 00:51:14,764.764] INFO [8606623232] - 127.0.0.1:60501 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:51:19,094.094] INFO [8606623232] - 127.0.0.1:60501 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 09:47:35,814.814] INFO [8606623232] - 127.0.0.1:60959 - "GET /swagger HTTP/1.1" 200
[2022-08-19 09:47:36,006.006] INFO [8606623232] - 127.0.0.1:60959 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 09:47:54,173.173] INFO [8606623232] - 127.0.0.1:60960 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 11:21:53,273.273] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 11:21:53,313.313] INFO [8606623232] - Shutting down
[2022-08-19 11:21:53,415.415] INFO [8606623232] - Waiting for application shutdown.
[2022-08-19 11:21:53,416.416] INFO [8606623232] - Application shutdown complete.
[2022-08-19 11:21:53,417.417] INFO [8606623232] - Finished server process [70158]
[2022-08-19 11:21:58,808.808] INFO [8606209536] - Started server process [71852]
[2022-08-19 11:21:58,808.808] INFO [8606209536] - Waiting for application startup.
[2022-08-19 11:21:58,808.808] INFO [8606209536] - Application startup complete.
[2022-08-19 11:21:58,938.938] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 11:21:59,011.011] INFO [8606209536] - Shutting down
[2022-08-19 11:21:59,112.112] INFO [8606209536] - Waiting for application shutdown.
[2022-08-19 11:21:59,113.113] INFO [8606209536] - Application shutdown complete.
[2022-08-19 11:21:59,113.113] INFO [8606209536] - Finished server process [71852]
[2022-08-19 11:21:59,907.907] INFO [8635172352] - Started server process [71857]
[2022-08-19 11:21:59,908.908] INFO [8635172352] - Waiting for application startup.
[2022-08-19 11:21:59,908.908] INFO [8635172352] - Application startup complete.
[2022-08-19 11:25:01,370.370] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 11:25:01,428.428] INFO [8635172352] - Shutting down
[2022-08-19 11:25:01,530.530] INFO [8635172352] - Waiting for application shutdown.
[2022-08-19 11:25:01,530.530] INFO [8635172352] - Application shutdown complete.
[2022-08-19 11:25:01,530.530] INFO [8635172352] - Finished server process [71857]
[2022-08-19 11:25:02,475.475] INFO [8669017600] - Started server process [71999]
[2022-08-19 11:25:02,475.475] INFO [8669017600] - Waiting for application startup.
[2022-08-19 11:25:02,476.476] INFO [8669017600] - Application startup complete.
[2022-08-19 11:26:04,004.004] INFO [8669017600] - 127.0.0.1:61569 - "GET /swagger HTTP/1.1" 200
[2022-08-19 11:26:04,228.228] INFO [8669017600] - 127.0.0.1:61569 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 11:26:13,977.977] INFO [8669017600] - 127.0.0.1:61570 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 11:32:03,941.941] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 11:32:03,983.983] INFO [8669017600] - Shutting down
[2022-08-19 11:32:04,089.089] INFO [8669017600] - Waiting for application shutdown.
[2022-08-19 11:32:04,094.094] INFO [8669017600] - Application shutdown complete.
[2022-08-19 11:32:04,094.094] INFO [8669017600] - Finished server process [71999]
[2022-08-19 11:32:04,991.991] INFO [8601310720] - Started server process [72112]
[2022-08-19 11:32:04,992.992] INFO [8601310720] - Waiting for application startup.
[2022-08-19 11:32:04,992.992] INFO [8601310720] - Application startup complete.
[2022-08-19 11:47:28,808.808] WARNING [8675358208] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-19 11:47:28,871.871] INFO [8601310720] - Shutting down
[2022-08-19 11:47:28,974.974] INFO [8601310720] - Waiting for application shutdown.
[2022-08-19 11:47:28,975.975] INFO [8601310720] - Application shutdown complete.
[2022-08-19 11:47:28,975.975] INFO [8601310720] - Finished server process [72112]
[2022-08-19 11:47:29,843.843] INFO [8607663616] - Started server process [72259]
[2022-08-19 11:47:29,843.843] INFO [8607663616] - Waiting for application startup.
[2022-08-19 11:47:29,843.843] INFO [8607663616] - Application startup complete.
[2022-08-19 11:47:57,277.277] WARNING [8675358208] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-19 11:47:57,281.281] INFO [8607663616] - Shutting down
[2022-08-19 11:47:57,383.383] INFO [8607663616] - Waiting for application shutdown.
[2022-08-19 11:47:57,383.383] INFO [8607663616] - Application shutdown complete.
[2022-08-19 11:47:57,383.383] INFO [8607663616] - Finished server process [72259]
[2022-08-19 11:47:58,257.257] INFO [8627766784] - Started server process [72279]
[2022-08-19 11:47:58,258.258] INFO [8627766784] - Waiting for application startup.
[2022-08-19 11:47:58,258.258] INFO [8627766784] - Application startup complete.
[2022-08-19 11:48:26,255.255] WARNING [8675358208] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-19 11:48:26,333.333] INFO [8627766784] - Shutting down
[2022-08-19 11:48:26,446.446] INFO [8627766784] - Waiting for application shutdown.
[2022-08-19 11:48:26,461.461] INFO [8627766784] - Application shutdown complete.
[2022-08-19 11:48:26,461.461] INFO [8627766784] - Finished server process [72279]
[2022-08-19 11:48:27,352.352] INFO [8610395648] - Started server process [72361]
[2022-08-19 11:48:27,352.352] INFO [8610395648] - Waiting for application startup.
[2022-08-19 11:48:27,353.353] INFO [8610395648] - Application startup complete.
[2022-08-19 12:15:34,568.568] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:15:34,641.641] INFO [8610395648] - Shutting down
[2022-08-19 12:15:34,743.743] INFO [8610395648] - Waiting for application shutdown.
[2022-08-19 12:15:34,744.744] INFO [8610395648] - Application shutdown complete.
[2022-08-19 12:15:34,744.744] INFO [8610395648] - Finished server process [72361]
[2022-08-19 12:15:35,842.842] INFO [8594941440] - Started server process [72603]
[2022-08-19 12:15:35,842.842] INFO [8594941440] - Waiting for application startup.
[2022-08-19 12:15:35,843.843] INFO [8594941440] - Application startup complete.
[2022-08-19 12:15:42,955.955] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:15:43,040.040] INFO [8594941440] - Shutting down
[2022-08-19 12:15:43,141.141] INFO [8594941440] - Waiting for application shutdown.
[2022-08-19 12:15:43,142.142] INFO [8594941440] - Application shutdown complete.
[2022-08-19 12:15:43,142.142] INFO [8594941440] - Finished server process [72603]
[2022-08-19 12:15:43,981.981] INFO [8640210432] - Started server process [72615]
[2022-08-19 12:15:43,981.981] INFO [8640210432] - Waiting for application startup.
[2022-08-19 12:15:43,981.981] INFO [8640210432] - Application startup complete.
[2022-08-19 12:16:05,588.588] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:16:05,655.655] INFO [8640210432] - Shutting down
[2022-08-19 12:16:05,757.757] INFO [8640210432] - Waiting for application shutdown.
[2022-08-19 12:16:05,758.758] INFO [8640210432] - Application shutdown complete.
[2022-08-19 12:16:05,758.758] INFO [8640210432] - Finished server process [72615]
[2022-08-19 12:18:44,518.518] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:18:45,336.336] INFO [8595334656] - Started server process [72727]
[2022-08-19 12:18:45,336.336] INFO [8595334656] - Waiting for application startup.
[2022-08-19 12:18:45,336.336] INFO [8595334656] - Application startup complete.
[2022-08-19 12:18:45,337.337] INFO [8595334656] - 127.0.0.1:61758 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:18:45,515.515] INFO [8595334656] - 127.0.0.1:61758 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:19:09,313.313] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:19:09,345.345] INFO [8595334656] - Shutting down
[2022-08-19 12:19:09,446.446] INFO [8595334656] - Waiting for application shutdown.
[2022-08-19 12:19:09,446.446] INFO [8595334656] - Application shutdown complete.
[2022-08-19 12:19:09,446.446] INFO [8595334656] - Finished server process [72727]
[2022-08-19 12:19:10,421.421] INFO [8626206208] - Started server process [72737]
[2022-08-19 12:19:10,422.422] INFO [8626206208] - Waiting for application startup.
[2022-08-19 12:19:10,422.422] INFO [8626206208] - Application startup complete.
[2022-08-19 12:19:23,824.824] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:19:23,911.911] INFO [8626206208] - Shutting down
[2022-08-19 12:19:24,012.012] INFO [8626206208] - Waiting for application shutdown.
[2022-08-19 12:19:24,013.013] INFO [8626206208] - Application shutdown complete.
[2022-08-19 12:19:24,013.013] INFO [8626206208] - Finished server process [72737]
[2022-08-19 12:19:24,949.949] INFO [8590792192] - Started server process [72746]
[2022-08-19 12:19:24,950.950] INFO [8590792192] - Waiting for application startup.
[2022-08-19 12:19:24,950.950] INFO [8590792192] - Application startup complete.
[2022-08-19 12:20:11,030.030] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:20:11,062.062] INFO [8590792192] - Shutting down
[2022-08-19 12:20:11,163.163] INFO [8590792192] - Waiting for application shutdown.
[2022-08-19 12:20:11,164.164] INFO [8590792192] - Application shutdown complete.
[2022-08-19 12:20:11,164.164] INFO [8590792192] - Finished server process [72746]
[2022-08-19 12:20:12,148.148] INFO [8665622016] - Started server process [72761]
[2022-08-19 12:20:12,149.149] INFO [8665622016] - Waiting for application startup.
[2022-08-19 12:20:12,149.149] INFO [8665622016] - Application startup complete.
[2022-08-19 12:20:15,938.938] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:20:15,994.994] INFO [8665622016] - Shutting down
[2022-08-19 12:20:16,096.096] INFO [8665622016] - Waiting for application shutdown.
[2022-08-19 12:20:16,096.096] INFO [8665622016] - Application shutdown complete.
[2022-08-19 12:20:16,096.096] INFO [8665622016] - Finished server process [72761]
[2022-08-19 12:20:17,105.105] INFO [8673867264] - Started server process [72770]
[2022-08-19 12:20:17,105.105] INFO [8673867264] - Waiting for application startup.
[2022-08-19 12:20:17,105.105] INFO [8673867264] - Application startup complete.
[2022-08-19 12:20:17,989.989] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:20:18,017.017] INFO [8673867264] - Shutting down
[2022-08-19 12:20:18,118.118] INFO [8673867264] - Waiting for application shutdown.
[2022-08-19 12:20:18,118.118] INFO [8673867264] - Application shutdown complete.
[2022-08-19 12:20:18,118.118] INFO [8673867264] - Finished server process [72770]
[2022-08-19 12:20:18,921.921] INFO [8598808064] - Started server process [72774]
[2022-08-19 12:20:18,922.922] INFO [8598808064] - Waiting for application startup.
[2022-08-19 12:20:18,922.922] INFO [8598808064] - Application startup complete.
[2022-08-19 12:20:21,771.771] INFO [8598808064] - 127.0.0.1:61780 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:20:21,959.959] INFO [8598808064] - 127.0.0.1:61780 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:20:28,903.903] INFO [8598808064] - 127.0.0.1:61781 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 12:20:52,385.385] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:20:52,412.412] INFO [8598808064] - Shutting down
[2022-08-19 12:20:52,513.513] INFO [8598808064] - Waiting for application shutdown.
[2022-08-19 12:20:52,513.513] INFO [8598808064] - Application shutdown complete.
[2022-08-19 12:20:52,513.513] INFO [8598808064] - Finished server process [72774]
[2022-08-19 12:20:53,500.500] INFO [8596219392] - Started server process [72782]
[2022-08-19 12:20:53,501.501] INFO [8596219392] - Waiting for application startup.
[2022-08-19 12:20:53,501.501] INFO [8596219392] - Application startup complete.
[2022-08-19 12:21:34,303.303] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:21:34,306.306] INFO [8596219392] - Shutting down
[2022-08-19 12:21:34,407.407] INFO [8596219392] - Waiting for application shutdown.
[2022-08-19 12:21:34,408.408] INFO [8596219392] - Application shutdown complete.
[2022-08-19 12:21:34,408.408] INFO [8596219392] - Finished server process [72782]
[2022-08-19 12:21:35,358.358] INFO [8669873664] - Started server process [72809]
[2022-08-19 12:21:35,359.359] INFO [8669873664] - Waiting for application startup.
[2022-08-19 12:21:35,359.359] INFO [8669873664] - Application startup complete.
[2022-08-19 12:22:14,671.671] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:22:14,769.769] INFO [8669873664] - Shutting down
[2022-08-19 12:22:14,871.871] INFO [8669873664] - Waiting for application shutdown.
[2022-08-19 12:22:14,871.871] INFO [8669873664] - Application shutdown complete.
[2022-08-19 12:22:14,871.871] INFO [8669873664] - Finished server process [72809]
[2022-08-19 12:22:15,784.784] INFO [8674711040] - Started server process [72824]
[2022-08-19 12:22:15,784.784] INFO [8674711040] - Waiting for application startup.
[2022-08-19 12:22:15,784.784] INFO [8674711040] - Application startup complete.
[2022-08-19 12:22:22,082.082] INFO [8674711040] - 127.0.0.1:61793 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:22:22,210.210] INFO [8674711040] - 127.0.0.1:61793 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:22:26,600.600] INFO [8674711040] - 127.0.0.1:61793 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-19 12:22:26,600.600] ERROR [8674711040] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "example_data.xlsx" does not exist
LINE 1: SELECT * FROM example_data.xlsx
                      ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 68, in upload
    df = pd.read_sql(f"SELECT * FROM {f'{str(file.filename)}'}", conn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 592, in read_sql
    return pandas_sql.read_query(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1557, in read_query
    result = self.execute(*args)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1402, in execute
    return self.connectable.execution_options().execute(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "example_data.xlsx" does not exist
LINE 1: SELECT * FROM example_data.xlsx
                      ^

[SQL: SELECT * FROM example_data.xlsx]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-19 12:23:01,166.166] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:23:01,214.214] INFO [8674711040] - Shutting down
[2022-08-19 12:23:01,316.316] INFO [8674711040] - Waiting for application shutdown.
[2022-08-19 12:23:01,316.316] INFO [8674711040] - Application shutdown complete.
[2022-08-19 12:23:01,316.316] INFO [8674711040] - Finished server process [72824]
[2022-08-19 12:23:02,293.293] INFO [8663332352] - Started server process [72837]
[2022-08-19 12:23:02,293.293] INFO [8663332352] - Waiting for application startup.
[2022-08-19 12:23:02,293.293] INFO [8663332352] - Application startup complete.
[2022-08-19 12:23:03,028.028] INFO [8663332352] - 127.0.0.1:61803 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:23:03,130.130] INFO [8663332352] - 127.0.0.1:61803 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:23:08,405.405] INFO [8663332352] - 127.0.0.1:61803 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-19 12:23:08,405.405] ERROR [8663332352] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "example_data.xlsx" does not exist
LINE 1: SELECT * FROM example_data.xlsx;
                      ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 68, in upload
    df = pd.read_sql(f"SELECT * FROM {str(file.filename)};", conn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 592, in read_sql
    return pandas_sql.read_query(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1557, in read_query
    result = self.execute(*args)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1402, in execute
    return self.connectable.execution_options().execute(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "example_data.xlsx" does not exist
LINE 1: SELECT * FROM example_data.xlsx;
                      ^

[SQL: SELECT * FROM example_data.xlsx;]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-19 12:23:47,602.602] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:23:47,658.658] INFO [8663332352] - Shutting down
[2022-08-19 12:23:47,759.759] INFO [8663332352] - Waiting for application shutdown.
[2022-08-19 12:23:47,759.759] INFO [8663332352] - Application shutdown complete.
[2022-08-19 12:23:47,759.759] INFO [8663332352] - Finished server process [72837]
[2022-08-19 12:23:48,726.726] INFO [8665728512] - Started server process [72854]
[2022-08-19 12:23:48,727.727] INFO [8665728512] - Waiting for application startup.
[2022-08-19 12:23:48,727.727] INFO [8665728512] - Application startup complete.
[2022-08-19 12:24:22,535.535] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:24:22,574.574] INFO [8665728512] - Shutting down
[2022-08-19 12:24:22,675.675] INFO [8665728512] - Waiting for application shutdown.
[2022-08-19 12:24:22,676.676] INFO [8665728512] - Application shutdown complete.
[2022-08-19 12:24:22,676.676] INFO [8665728512] - Finished server process [72854]
[2022-08-19 12:24:23,658.658] INFO [8668489216] - Started server process [72870]
[2022-08-19 12:24:23,659.659] INFO [8668489216] - Waiting for application startup.
[2022-08-19 12:24:23,659.659] INFO [8668489216] - Application startup complete.
[2022-08-19 12:24:31,376.376] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:24:31,455.455] INFO [8668489216] - Shutting down
[2022-08-19 12:24:31,556.556] INFO [8668489216] - Waiting for application shutdown.
[2022-08-19 12:24:31,557.557] INFO [8668489216] - Application shutdown complete.
[2022-08-19 12:24:31,557.557] INFO [8668489216] - Finished server process [72870]
[2022-08-19 12:24:32,398.398] INFO [8604444160] - Started server process [72878]
[2022-08-19 12:24:32,399.399] INFO [8604444160] - Waiting for application startup.
[2022-08-19 12:24:32,399.399] INFO [8604444160] - Application startup complete.
[2022-08-19 12:25:13,149.149] INFO [8604444160] - 127.0.0.1:61816 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:25:13,281.281] INFO [8604444160] - 127.0.0.1:61816 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:25:17,474.474] INFO [8604444160] - 127.0.0.1:61816 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 12:25:29,450.450] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:25:29,549.549] INFO [8604444160] - Shutting down
[2022-08-19 12:25:29,650.650] INFO [8604444160] - Waiting for application shutdown.
[2022-08-19 12:25:29,651.651] INFO [8604444160] - Application shutdown complete.
[2022-08-19 12:25:29,651.651] INFO [8604444160] - Finished server process [72878]
[2022-08-19 12:25:30,554.554] INFO [8667084288] - Started server process [72900]
[2022-08-19 12:25:30,555.555] INFO [8667084288] - Waiting for application startup.
[2022-08-19 12:25:30,555.555] INFO [8667084288] - Application startup complete.
[2022-08-19 12:25:30,931.931] INFO [8667084288] - 127.0.0.1:61824 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:25:31,035.035] INFO [8667084288] - 127.0.0.1:61824 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:25:35,783.783] INFO [8667084288] - 127.0.0.1:61824 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-19 12:25:35,783.783] ERROR [8667084288] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 70, in upload
    df = pd.read_sql(f"SELECT * FROM {file_name_str};", conn, index_col=False)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 592, in read_sql
    return pandas_sql.read_query(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1572, in read_query
    frame = _wrap_result(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 158, in _wrap_result
    frame.set_index(index_col, inplace=True)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/core/frame.py", line 5500, in set_index
    raise KeyError(f"None of {missing} are in the columns")
KeyError: 'None of [False] are in the columns'
[2022-08-19 12:26:20,556.556] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:26:20,655.655] INFO [8667084288] - Shutting down
[2022-08-19 12:26:20,757.757] INFO [8667084288] - Waiting for application shutdown.
[2022-08-19 12:26:20,757.757] INFO [8667084288] - Application shutdown complete.
[2022-08-19 12:26:20,757.757] INFO [8667084288] - Finished server process [72900]
[2022-08-19 12:26:21,736.736] INFO [8640652800] - Started server process [72916]
[2022-08-19 12:26:21,736.736] INFO [8640652800] - Waiting for application startup.
[2022-08-19 12:26:21,736.736] INFO [8640652800] - Application startup complete.
[2022-08-19 12:26:41,997.997] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:26:42,020.020] INFO [8640652800] - Shutting down
[2022-08-19 12:26:42,122.122] INFO [8640652800] - Waiting for application shutdown.
[2022-08-19 12:26:42,122.122] INFO [8640652800] - Application shutdown complete.
[2022-08-19 12:26:42,122.122] INFO [8640652800] - Finished server process [72916]
[2022-08-19 12:26:43,029.029] INFO [8600479232] - Started server process [72923]
[2022-08-19 12:26:43,029.029] INFO [8600479232] - Waiting for application startup.
[2022-08-19 12:26:43,030.030] INFO [8600479232] - Application startup complete.
[2022-08-19 12:27:56,791.791] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:27:56,798.798] INFO [8600479232] - Shutting down
[2022-08-19 12:27:56,900.900] INFO [8600479232] - Waiting for application shutdown.
[2022-08-19 12:27:56,900.900] INFO [8600479232] - Application shutdown complete.
[2022-08-19 12:27:56,900.900] INFO [8600479232] - Finished server process [72923]
[2022-08-19 12:27:59,869.869] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:28:00,881.881] INFO [8602547712] - Started server process [72936]
[2022-08-19 12:28:00,881.881] INFO [8602547712] - Waiting for application startup.
[2022-08-19 12:28:00,882.882] INFO [8602547712] - Application startup complete.
[2022-08-19 12:28:08,736.736] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:28:08,782.782] INFO [8602547712] - Shutting down
[2022-08-19 12:28:08,884.884] INFO [8602547712] - Waiting for application shutdown.
[2022-08-19 12:28:08,884.884] INFO [8602547712] - Application shutdown complete.
[2022-08-19 12:28:08,884.884] INFO [8602547712] - Finished server process [72936]
[2022-08-19 12:28:10,030.030] INFO [8662066688] - Started server process [72945]
[2022-08-19 12:28:10,030.030] INFO [8662066688] - Waiting for application startup.
[2022-08-19 12:28:10,030.030] INFO [8662066688] - Application startup complete.
[2022-08-19 12:32:35,081.081] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:32:35,131.131] INFO [8662066688] - Shutting down
[2022-08-19 12:32:35,232.232] INFO [8662066688] - Waiting for application shutdown.
[2022-08-19 12:32:35,233.233] INFO [8662066688] - Application shutdown complete.
[2022-08-19 12:32:35,233.233] INFO [8662066688] - Finished server process [72945]
[2022-08-19 12:32:38,937.937] WARNING [8675358208] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-19 12:32:39,684.684] INFO [8663262720] - Started server process [73071]
[2022-08-19 12:32:39,684.684] INFO [8663262720] - Waiting for application startup.
[2022-08-19 12:32:39,684.684] INFO [8663262720] - Application startup complete.
[2022-08-19 12:32:48,267.267] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:32:48,298.298] INFO [8663262720] - Shutting down
[2022-08-19 12:32:48,400.400] INFO [8663262720] - Waiting for application shutdown.
[2022-08-19 12:32:48,400.400] INFO [8663262720] - Application shutdown complete.
[2022-08-19 12:32:48,401.401] INFO [8663262720] - Finished server process [73071]
[2022-08-19 12:32:49,310.310] INFO [8625468928] - Started server process [73079]
[2022-08-19 12:32:49,311.311] INFO [8625468928] - Waiting for application startup.
[2022-08-19 12:32:49,311.311] INFO [8625468928] - Application startup complete.
[2022-08-19 12:34:09,641.641] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:34:09,690.690] INFO [8625468928] - Shutting down
[2022-08-19 12:34:09,792.792] INFO [8625468928] - Waiting for application shutdown.
[2022-08-19 12:34:09,792.792] INFO [8625468928] - Application shutdown complete.
[2022-08-19 12:34:09,792.792] INFO [8625468928] - Finished server process [73079]
[2022-08-19 12:34:10,823.823] INFO [8639600128] - Started server process [73093]
[2022-08-19 12:34:10,823.823] INFO [8639600128] - Waiting for application startup.
[2022-08-19 12:34:10,824.824] INFO [8639600128] - Application startup complete.
[2022-08-19 12:37:43,140.140] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:37:43,159.159] INFO [8639600128] - Shutting down
[2022-08-19 12:37:43,260.260] INFO [8639600128] - Waiting for application shutdown.
[2022-08-19 12:37:43,261.261] INFO [8639600128] - Application shutdown complete.
[2022-08-19 12:37:43,261.261] INFO [8639600128] - Finished server process [73093]
[2022-08-19 12:37:44,303.303] INFO [8597104128] - Started server process [73137]
[2022-08-19 12:37:44,304.304] INFO [8597104128] - Waiting for application startup.
[2022-08-19 12:37:44,304.304] INFO [8597104128] - Application startup complete.
[2022-08-19 12:42:20,614.614] WARNING [8675358208] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-19 12:42:20,642.642] INFO [8597104128] - Shutting down
[2022-08-19 12:42:20,744.744] INFO [8597104128] - Waiting for application shutdown.
[2022-08-19 12:42:20,744.744] INFO [8597104128] - Application shutdown complete.
[2022-08-19 12:42:20,745.745] INFO [8597104128] - Finished server process [73137]
[2022-08-19 12:42:21,756.756] INFO [8595699200] - Started server process [73185]
[2022-08-19 12:42:21,756.756] INFO [8595699200] - Waiting for application startup.
[2022-08-19 12:42:21,756.756] INFO [8595699200] - Application startup complete.
[2022-08-19 12:43:07,059.059] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:07,131.131] INFO [8595699200] - Shutting down
[2022-08-19 12:43:07,232.232] INFO [8595699200] - Waiting for application shutdown.
[2022-08-19 12:43:07,233.233] INFO [8595699200] - Application shutdown complete.
[2022-08-19 12:43:07,233.233] INFO [8595699200] - Finished server process [73185]
[2022-08-19 12:43:08,307.307] INFO [8639538688] - Started server process [73206]
[2022-08-19 12:43:08,307.307] INFO [8639538688] - Waiting for application startup.
[2022-08-19 12:43:08,308.308] INFO [8639538688] - Application startup complete.
[2022-08-19 12:43:09,148.148] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:09,219.219] INFO [8639538688] - Shutting down
[2022-08-19 12:43:09,321.321] INFO [8639538688] - Waiting for application shutdown.
[2022-08-19 12:43:09,321.321] INFO [8639538688] - Application shutdown complete.
[2022-08-19 12:43:09,321.321] INFO [8639538688] - Finished server process [73206]
[2022-08-19 12:43:10,133.133] INFO [8591083008] - Started server process [73213]
[2022-08-19 12:43:10,134.134] INFO [8591083008] - Waiting for application startup.
[2022-08-19 12:43:10,134.134] INFO [8591083008] - Application startup complete.
[2022-08-19 12:43:19,021.021] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:19,041.041] INFO [8591083008] - Shutting down
[2022-08-19 12:43:19,143.143] INFO [8591083008] - Waiting for application shutdown.
[2022-08-19 12:43:19,143.143] INFO [8591083008] - Application shutdown complete.
[2022-08-19 12:43:19,143.143] INFO [8591083008] - Finished server process [73213]
[2022-08-19 12:43:20,008.008] INFO [8607163904] - Started server process [73219]
[2022-08-19 12:43:20,009.009] INFO [8607163904] - Waiting for application startup.
[2022-08-19 12:43:20,009.009] INFO [8607163904] - Application startup complete.
[2022-08-19 12:43:24,921.921] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:24,983.983] INFO [8607163904] - Shutting down
[2022-08-19 12:43:25,084.084] INFO [8607163904] - Waiting for application shutdown.
[2022-08-19 12:43:25,084.084] INFO [8607163904] - Application shutdown complete.
[2022-08-19 12:43:25,085.085] INFO [8607163904] - Finished server process [73219]
[2022-08-19 12:43:28,832.832] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:32,216.216] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:52,523.523] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:44:15,698.698] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:48:52,138.138] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:50:17,676.676] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:50:18,621.621] INFO [8604907008] - Started server process [73350]
[2022-08-19 12:50:18,622.622] INFO [8604907008] - Waiting for application startup.
[2022-08-19 12:50:18,622.622] INFO [8604907008] - Application startup complete.
[2022-08-19 12:50:25,660.660] INFO [8604907008] - 127.0.0.1:61956 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:50:25,826.826] INFO [8604907008] - 127.0.0.1:61956 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:51:03,936.936] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:51:03,939.939] INFO [8604907008] - Shutting down
[2022-08-19 12:51:04,041.041] INFO [8604907008] - Waiting for application shutdown.
[2022-08-19 12:51:04,041.041] INFO [8604907008] - Application shutdown complete.
[2022-08-19 12:51:04,042.042] INFO [8604907008] - Finished server process [73350]
[2022-08-19 12:51:05,083.083] INFO [8673269248] - Started server process [73371]
[2022-08-19 12:51:05,083.083] INFO [8673269248] - Waiting for application startup.
[2022-08-19 12:51:05,083.083] INFO [8673269248] - Application startup complete.
[2022-08-19 12:51:42,971.971] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:51:42,978.978] INFO [8673269248] - Shutting down
[2022-08-19 12:51:43,080.080] INFO [8673269248] - Waiting for application shutdown.
[2022-08-19 12:51:43,080.080] INFO [8673269248] - Application shutdown complete.
[2022-08-19 12:51:43,080.080] INFO [8673269248] - Finished server process [73371]
[2022-08-19 12:51:44,067.067] INFO [8603170304] - Started server process [73392]
[2022-08-19 12:51:44,068.068] INFO [8603170304] - Waiting for application startup.
[2022-08-19 12:51:44,068.068] INFO [8603170304] - Application startup complete.
[2022-08-19 12:51:46,190.190] INFO [8603170304] - 127.0.0.1:61968 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:51:46,386.386] INFO [8603170304] - 127.0.0.1:61968 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:52:03,509.509] INFO [8603170304] - 127.0.0.1:61969 - "GET /SendReport/GET?type=4&start_date=234.3&end_date=324.1&acceptor_email=awd%40mail.ru HTTP/1.1" 200
[2022-08-19 12:54:07,893.893] INFO [8603170304] - 127.0.0.1:61985 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:54:08,060.060] INFO [8603170304] - 127.0.0.1:61985 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 13:12:34,073.073] WARNING [8675358208] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-19 13:12:34,129.129] INFO [8603170304] - Shutting down
[2022-08-19 13:12:34,235.235] INFO [8603170304] - Waiting for application shutdown.
[2022-08-19 13:12:34,235.235] INFO [8603170304] - Application shutdown complete.
[2022-08-19 13:12:34,235.235] INFO [8603170304] - Finished server process [73392]
[2022-08-19 13:12:35,265.265] INFO [8626357760] - Started server process [73513]
[2022-08-19 13:12:35,265.265] INFO [8626357760] - Waiting for application startup.
[2022-08-19 13:12:35,266.266] INFO [8626357760] - Application startup complete.
[2022-08-19 13:13:06,381.381] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 13:13:06,470.470] INFO [8626357760] - Shutting down
[2022-08-19 13:13:06,571.571] INFO [8626357760] - Waiting for application shutdown.
[2022-08-19 13:13:06,572.572] INFO [8626357760] - Application shutdown complete.
[2022-08-19 13:13:06,572.572] INFO [8626357760] - Finished server process [73513]
[2022-08-19 13:13:24,668.668] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
