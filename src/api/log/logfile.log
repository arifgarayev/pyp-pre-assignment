[2022-08-17 15:23:40,552.552] INFO [8595088896] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-17 15:23:40,553.553] INFO [8595088896] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-17 15:23:40,553.553] INFO [8595088896] - Started reloader process [40496] using StatReload
[2022-08-17 15:23:40,798.798] INFO [8670742016] - Started server process [40498]
[2022-08-17 15:23:40,798.798] INFO [8670742016] - Waiting for application startup.
[2022-08-17 15:23:40,798.798] INFO [8670742016] - Application startup complete.
[2022-08-17 15:23:44,952.952] INFO [8670742016] - 127.0.0.1:57690 - "GET /swagger HTTP/1.1" 200
[2022-08-17 15:23:45,087.087] INFO [8670742016] - 127.0.0.1:57690 - "GET /openapi.json HTTP/1.1" 200
[2022-08-17 15:23:50,805.805] INFO [8670742016] - Shutting down
[2022-08-17 15:23:50,906.906] INFO [8670742016] - Waiting for application shutdown.
[2022-08-17 15:23:50,907.907] INFO [8670742016] - Application shutdown complete.
[2022-08-17 15:23:50,907.907] INFO [8670742016] - Finished server process [40498]
[2022-08-17 15:23:50,929.929] INFO [8595088896] - Stopping reloader process [40496]
[2022-08-18 09:37:50,703.703] INFO [8604050944] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 09:37:50,703.703] INFO [8604050944] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 09:37:50,703.703] INFO [8604050944] - Started reloader process [53620] using StatReload
[2022-08-18 09:37:51,033.033] INFO [8672294400] - Started server process [53622]
[2022-08-18 09:37:51,033.033] INFO [8672294400] - Waiting for application startup.
[2022-08-18 09:37:51,033.033] INFO [8672294400] - Application startup complete.
[2022-08-18 09:37:53,384.384] INFO [8672294400] - 127.0.0.1:60887 - "GET / HTTP/1.1" 404
[2022-08-18 09:37:56,083.083] INFO [8672294400] - 127.0.0.1:60887 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:37:57,448.448] INFO [8672294400] - 127.0.0.1:60887 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:38:08,352.352] INFO [8672294400] - 127.0.0.1:60888 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:38:08,352.352] ERROR [8672294400] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open('/pyp-pre-assignment/uploaded_files', 'wb') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:40:43,203.203] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:40:43,276.276] INFO [8672294400] - Shutting down
[2022-08-18 09:40:43,384.384] INFO [8672294400] - Waiting for application shutdown.
[2022-08-18 09:40:43,388.388] INFO [8672294400] - Application shutdown complete.
[2022-08-18 09:40:43,389.389] INFO [8672294400] - Finished server process [53622]
[2022-08-18 09:40:43,859.859] INFO [8634791424] - Started server process [53662]
[2022-08-18 09:40:43,859.859] INFO [8634791424] - Waiting for application startup.
[2022-08-18 09:40:43,859.859] INFO [8634791424] - Application startup complete.
[2022-08-18 09:40:48,225.225] INFO [8634791424] - 127.0.0.1:60893 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:40:48,394.394] INFO [8634791424] - 127.0.0.1:60893 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:40:54,295.295] INFO [8634791424] - 127.0.0.1:60894 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:40:54,296.296] ERROR [8634791424] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open('/pyp-pre-assignment/uploaded_files', 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:42:01,319.319] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:42:01,387.387] INFO [8634791424] - Shutting down
[2022-08-18 09:42:01,490.490] INFO [8634791424] - Waiting for application shutdown.
[2022-08-18 09:42:01,494.494] INFO [8634791424] - Application shutdown complete.
[2022-08-18 09:42:01,494.494] INFO [8634791424] - Finished server process [53662]
[2022-08-18 09:42:01,926.926] INFO [8634729984] - Started server process [53682]
[2022-08-18 09:42:01,927.927] INFO [8634729984] - Waiting for application startup.
[2022-08-18 09:42:01,927.927] INFO [8634729984] - Application startup complete.
[2022-08-18 09:46:32,200.200] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:46:32,290.290] INFO [8634729984] - Shutting down
[2022-08-18 09:46:32,394.394] INFO [8634729984] - Waiting for application shutdown.
[2022-08-18 09:46:32,397.397] INFO [8634729984] - Application shutdown complete.
[2022-08-18 09:46:32,398.398] INFO [8634729984] - Finished server process [53682]
[2022-08-18 09:46:34,269.269] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:46:34,660.660] INFO [8633484800] - Started server process [53754]
[2022-08-18 09:46:34,661.661] INFO [8633484800] - Waiting for application startup.
[2022-08-18 09:46:34,661.661] INFO [8633484800] - Application startup complete.
[2022-08-18 09:46:58,735.735] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:46:58,765.765] INFO [8633484800] - Shutting down
[2022-08-18 09:46:58,867.867] INFO [8633484800] - Waiting for application shutdown.
[2022-08-18 09:46:58,868.868] INFO [8633484800] - Application shutdown complete.
[2022-08-18 09:46:58,868.868] INFO [8633484800] - Finished server process [53754]
[2022-08-18 09:46:59,522.522] INFO [8609043968] - Started server process [53762]
[2022-08-18 09:46:59,523.523] INFO [8609043968] - Waiting for application startup.
[2022-08-18 09:46:59,523.523] INFO [8609043968] - Application startup complete.
[2022-08-18 09:47:12,850.850] INFO [8609043968] - 127.0.0.1:61276 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:47:13,110.110] INFO [8609043968] - 127.0.0.1:61276 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:47:21,029.029] INFO [8609043968] - 127.0.0.1:61277 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:47:21,030.030] ERROR [8609043968] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open(os.path.abspath(os.path.join(os.getcwd(), '../uploaded_files')), 'wb') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
IsADirectoryError: [Errno 21] Is a directory: '/Users/garayev/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:47:44,812.812] WARNING [8604050944] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 09:47:44,836.836] INFO [8609043968] - Shutting down
[2022-08-18 09:47:44,938.938] INFO [8609043968] - Waiting for application shutdown.
[2022-08-18 09:47:44,939.939] INFO [8609043968] - Application shutdown complete.
[2022-08-18 09:47:44,942.942] INFO [8609043968] - Finished server process [53762]
[2022-08-18 09:47:45,379.379] INFO [8605632000] - Started server process [53775]
[2022-08-18 09:47:45,380.380] INFO [8605632000] - Waiting for application startup.
[2022-08-18 09:47:45,380.380] INFO [8605632000] - Application startup complete.
[2022-08-18 09:47:47,711.711] INFO [8605632000] - 127.0.0.1:61279 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:47:47,941.941] INFO [8605632000] - 127.0.0.1:61279 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:47:48,023.023] INFO [8605632000] - 127.0.0.1:61279 - "GET /swagger HTTP/1.1" 200
[2022-08-18 09:47:48,171.171] INFO [8605632000] - 127.0.0.1:61279 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 09:47:53,458.458] INFO [8605632000] - 127.0.0.1:61280 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 09:47:53,459.459] ERROR [8605632000] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open(os.path.abspath(os.path.join(os.getcwd(), '../uploaded_files')), 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
IsADirectoryError: [Errno 21] Is a directory: '/Users/garayev/pyp-pre-assignment/uploaded_files'
[2022-08-18 09:50:42,395.395] INFO [8641136128] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 09:50:42,395.395] ERROR [8641136128] - [Errno 48] Address already in use
[2022-08-18 10:10:02,332.332] INFO [8662980096] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 10:10:02,333.333] INFO [8662980096] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:10:02,333.333] INFO [8662980096] - Started reloader process [54274] using StatReload
[2022-08-18 10:10:02,670.670] INFO [8677111296] - Started server process [54276]
[2022-08-18 10:10:02,670.670] INFO [8677111296] - Waiting for application startup.
[2022-08-18 10:10:02,670.670] INFO [8677111296] - Application startup complete.
[2022-08-18 10:10:07,000.000] INFO [8677111296] - 127.0.0.1:61753 - "GET /swagger HTTP/1.1" 200
[2022-08-18 10:10:07,264.264] INFO [8677111296] - 127.0.0.1:61753 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 10:27:36,902.902] INFO [8604743168] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:27:36,902.902] INFO [8604743168] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:27:36,903.903] INFO [8604743168] - Started reloader process [54490] using StatReload
[2022-08-18 10:27:37,250.250] INFO [8605263360] - Started server process [54493]
[2022-08-18 10:27:37,250.250] INFO [8605263360] - Waiting for application startup.
[2022-08-18 10:27:37,250.250] INFO [8605263360] - Application startup complete.
[2022-08-18 10:27:43,076.076] INFO [8605263360] - 127.0.0.1:61774 - "GET /swagger HTTP/1.1" 200
[2022-08-18 10:27:43,260.260] INFO [8605263360] - 127.0.0.1:61774 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 10:27:49,208.208] INFO [8605263360] - Shutting down
[2022-08-18 10:27:49,310.310] INFO [8605263360] - Waiting for application shutdown.
[2022-08-18 10:27:49,311.311] INFO [8605263360] - Application shutdown complete.
[2022-08-18 10:27:49,311.311] INFO [8605263360] - Finished server process [54493]
[2022-08-18 10:27:49,363.363] INFO [8604743168] - Stopping reloader process [54490]
[2022-08-18 10:28:30,985.985] INFO [8606348800] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 10:28:30,986.986] INFO [8606348800] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:28:30,986.986] INFO [8606348800] - Started reloader process [54566] using StatReload
[2022-08-18 10:28:31,313.313] INFO [8629237248] - Started server process [54568]
[2022-08-18 10:28:31,313.313] INFO [8629237248] - Waiting for application startup.
[2022-08-18 10:28:31,313.313] INFO [8629237248] - Application startup complete.
[2022-08-18 10:50:45,261.261] INFO [8665167360] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:50:45,262.262] ERROR [8665167360] - [Errno 48] Address already in use
[2022-08-18 10:50:50,156.156] INFO [8596227584] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:50:50,157.157] ERROR [8596227584] - [Errno 48] Address already in use
[2022-08-18 10:51:16,892.892] INFO [8594232832] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:51:16,892.892] INFO [8594232832] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:51:16,892.892] INFO [8594232832] - Started reloader process [54934] using StatReload
[2022-08-18 10:51:17,487.487] INFO [8604694016] - Started server process [54937]
[2022-08-18 10:51:17,487.487] INFO [8604694016] - Waiting for application startup.
[2022-08-18 10:51:17,488.488] INFO [8604694016] - Application startup complete.
[2022-08-18 10:51:22,813.813] INFO [8604694016] - 127.0.0.1:61851 - "GET / HTTP/1.1" 404
[2022-08-18 10:51:30,674.674] INFO [8604694016] - Shutting down
[2022-08-18 10:51:30,775.775] INFO [8604694016] - Waiting for application shutdown.
[2022-08-18 10:51:30,775.775] INFO [8604694016] - Application shutdown complete.
[2022-08-18 10:51:30,775.775] INFO [8604694016] - Finished server process [54937]
[2022-08-18 10:51:30,812.812] INFO [8594232832] - Stopping reloader process [54934]
[2022-08-18 10:54:00,542.542] INFO [8676439552] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 10:54:00,543.543] INFO [8676439552] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:54:00,543.543] INFO [8676439552] - Started reloader process [55033] using StatReload
[2022-08-18 10:54:00,880.880] INFO [8637531648] - Started server process [55035]
[2022-08-18 10:54:00,880.880] INFO [8637531648] - Waiting for application startup.
[2022-08-18 10:54:00,880.880] INFO [8637531648] - Application startup complete.
[2022-08-18 10:54:02,902.902] INFO [8637531648] - Shutting down
[2022-08-18 10:54:03,003.003] INFO [8637531648] - Waiting for application shutdown.
[2022-08-18 10:54:03,004.004] INFO [8637531648] - Application shutdown complete.
[2022-08-18 10:54:03,004.004] INFO [8637531648] - Finished server process [55035]
[2022-08-18 10:54:03,042.042] INFO [8676439552] - Stopping reloader process [55033]
[2022-08-18 10:54:12,539.539] INFO [8628016640] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 10:54:12,539.539] INFO [8628016640] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 10:54:12,539.539] INFO [8628016640] - Started reloader process [55043] using StatReload
[2022-08-18 10:54:12,861.861] INFO [8671995392] - Started server process [55045]
[2022-08-18 10:54:12,861.861] INFO [8671995392] - Waiting for application startup.
[2022-08-18 10:54:12,861.861] INFO [8671995392] - Application startup complete.
[2022-08-18 10:54:14,730.730] INFO [8671995392] - 127.0.0.1:61873 - "GET / HTTP/1.1" 404
[2022-08-18 10:54:17,302.302] INFO [8671995392] - 127.0.0.1:61873 - "GET /swagger HTTP/1.1" 200
[2022-08-18 10:54:18,208.208] INFO [8671995392] - 127.0.0.1:61873 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 10:55:46,176.176] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 10:55:46,253.253] INFO [8671995392] - Shutting down
[2022-08-18 10:55:46,355.355] INFO [8671995392] - Waiting for application shutdown.
[2022-08-18 10:55:46,355.355] INFO [8671995392] - Application shutdown complete.
[2022-08-18 10:55:46,356.356] INFO [8671995392] - Finished server process [55045]
[2022-08-18 10:55:46,785.785] INFO [8605214208] - Started server process [55061]
[2022-08-18 10:55:46,785.785] INFO [8605214208] - Waiting for application startup.
[2022-08-18 10:55:46,786.786] INFO [8605214208] - Application startup complete.
[2022-08-18 10:56:10,787.787] INFO [8605214208] - 127.0.0.1:61881 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 10:56:10,788.788] ERROR [8605214208] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 38, in upload
    async with aiofiles.open(os.path.abspath(os.path.join(os.getcwd(), '../uploaded_files')), 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
IsADirectoryError: [Errno 21] Is a directory: '/Users/garayev/pyp-pre-assignment/uploaded_files'
[2022-08-18 11:09:34,185.185] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:09:34,215.215] INFO [8605214208] - Shutting down
[2022-08-18 11:09:34,317.317] INFO [8605214208] - Waiting for application shutdown.
[2022-08-18 11:09:34,318.318] INFO [8605214208] - Application shutdown complete.
[2022-08-18 11:09:34,318.318] INFO [8605214208] - Finished server process [55061]
[2022-08-18 11:09:34,781.781] INFO [8639346176] - Started server process [55330]
[2022-08-18 11:09:34,782.782] INFO [8639346176] - Waiting for application startup.
[2022-08-18 11:09:34,782.782] INFO [8639346176] - Application startup complete.
[2022-08-18 11:09:37,658.658] INFO [8639346176] - 127.0.0.1:61919 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:09:37,879.879] INFO [8639346176] - 127.0.0.1:61919 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:09:43,905.905] INFO [8639346176] - 127.0.0.1:61920 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:10:55,298.298] INFO [8639346176] - 127.0.0.1:61957 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:10:55,485.485] INFO [8639346176] - 127.0.0.1:61957 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:11:02,713.713] INFO [8639346176] - 127.0.0.1:61958 - "POST /UploadData/POST HTTP/1.1" 400
[2022-08-18 11:11:19,605.605] INFO [8639346176] - 127.0.0.1:61960 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:11:19,717.717] INFO [8639346176] - 127.0.0.1:61960 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:11:28,649.649] INFO [8639346176] - 127.0.0.1:61961 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:12:15,674.674] INFO [8639346176] - 127.0.0.1:61980 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:12:15,825.825] INFO [8639346176] - 127.0.0.1:61980 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:12:21,510.510] INFO [8639346176] - 127.0.0.1:61981 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:18:13,507.507] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:18:13,559.559] INFO [8639346176] - Shutting down
[2022-08-18 11:18:13,661.661] INFO [8639346176] - Waiting for application shutdown.
[2022-08-18 11:18:13,663.663] INFO [8639346176] - Application shutdown complete.
[2022-08-18 11:18:13,663.663] INFO [8639346176] - Finished server process [55330]
[2022-08-18 11:18:41,429.429] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:18:41,817.817] INFO [8668800512] - Started server process [55571]
[2022-08-18 11:18:41,817.817] INFO [8668800512] - Waiting for application startup.
[2022-08-18 11:18:41,817.817] INFO [8668800512] - Application startup complete.
[2022-08-18 11:18:46,369.369] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:18:46,374.374] INFO [8668800512] - Shutting down
[2022-08-18 11:18:46,476.476] INFO [8668800512] - Waiting for application shutdown.
[2022-08-18 11:18:46,476.476] INFO [8668800512] - Application shutdown complete.
[2022-08-18 11:18:46,476.476] INFO [8668800512] - Finished server process [55571]
[2022-08-18 11:18:46,844.844] INFO [8626603520] - Started server process [55574]
[2022-08-18 11:18:46,845.845] INFO [8626603520] - Waiting for application startup.
[2022-08-18 11:18:46,845.845] INFO [8626603520] - Application startup complete.
[2022-08-18 11:32:48,880.880] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:32:48,994.994] INFO [8626603520] - Shutting down
[2022-08-18 11:32:49,098.098] INFO [8626603520] - Waiting for application shutdown.
[2022-08-18 11:32:49,100.100] INFO [8626603520] - Application shutdown complete.
[2022-08-18 11:32:49,100.100] INFO [8626603520] - Finished server process [55574]
[2022-08-18 11:32:49,540.540] INFO [8610637312] - Started server process [55825]
[2022-08-18 11:32:49,541.541] INFO [8610637312] - Waiting for application startup.
[2022-08-18 11:32:49,541.541] INFO [8610637312] - Application startup complete.
[2022-08-18 11:32:54,343.343] INFO [8610637312] - 127.0.0.1:62088 - "GET /swagger HTTP/1.1" 200
[2022-08-18 11:32:54,598.598] INFO [8610637312] - 127.0.0.1:62088 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 11:33:02,616.616] INFO [8610637312] - 127.0.0.1:62089 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:33:11,942.942] INFO [8610637312] - 127.0.0.1:62092 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 11:43:01,351.351] WARNING [8628016640] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 11:43:01,371.371] INFO [8610637312] - Shutting down
[2022-08-18 11:43:01,480.480] INFO [8610637312] - Waiting for application shutdown.
[2022-08-18 11:43:01,484.484] INFO [8610637312] - Application shutdown complete.
[2022-08-18 11:43:01,485.485] INFO [8610637312] - Finished server process [55825]
[2022-08-18 11:46:25,133.133] INFO [8641144320] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 11:46:25,134.134] ERROR [8641144320] - [Errno 48] Address already in use
[2022-08-18 12:15:47,492.492] INFO [8672503296] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:15:47,493.493] INFO [8672503296] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 12:15:47,493.493] INFO [8672503296] - Started reloader process [57405] using StatReload
[2022-08-18 12:15:48,020.020] INFO [8638408192] - Started server process [57410]
[2022-08-18 12:15:48,021.021] INFO [8638408192] - Waiting for application startup.
[2022-08-18 12:15:48,021.021] INFO [8638408192] - Application startup complete.
[2022-08-18 12:15:49,760.760] INFO [8638408192] - 127.0.0.1:62822 - "GET / HTTP/1.1" 404
[2022-08-18 12:15:52,907.907] INFO [8638408192] - 127.0.0.1:62822 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:15:53,801.801] INFO [8638408192] - 127.0.0.1:62822 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:16:01,878.878] INFO [8638408192] - 127.0.0.1:62823 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:16:01,879.879] ERROR [8638408192] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = pd.read_excel(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}')))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:16:41,737.737] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:16:41,805.805] INFO [8638408192] - Shutting down
[2022-08-18 12:16:41,907.907] INFO [8638408192] - Waiting for application shutdown.
[2022-08-18 12:16:41,908.908] INFO [8638408192] - Application shutdown complete.
[2022-08-18 12:16:41,908.908] INFO [8638408192] - Finished server process [57410]
[2022-08-18 12:16:42,701.701] INFO [8637199872] - Started server process [57423]
[2022-08-18 12:16:42,701.701] INFO [8637199872] - Waiting for application startup.
[2022-08-18 12:16:42,701.701] INFO [8637199872] - Application startup complete.
[2022-08-18 12:16:44,556.556] INFO [8637199872] - 127.0.0.1:62826 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:16:44,792.792] INFO [8637199872] - 127.0.0.1:62826 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:16:52,462.462] INFO [8637199872] - 127.0.0.1:62827 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:16:52,463.463] ERROR [8637199872] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:16:55,475.475] INFO [8637199872] - 127.0.0.1:62832 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:16:55,476.476] ERROR [8637199872] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:17:08,149.149] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:17:08,249.249] INFO [8637199872] - Shutting down
[2022-08-18 12:17:08,350.350] INFO [8637199872] - Waiting for application shutdown.
[2022-08-18 12:17:08,351.351] INFO [8637199872] - Application shutdown complete.
[2022-08-18 12:17:08,351.351] INFO [8637199872] - Finished server process [57423]
[2022-08-18 12:17:16,512.512] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:17:17,116.116] INFO [8673252864] - Started server process [57442]
[2022-08-18 12:17:17,117.117] INFO [8673252864] - Waiting for application startup.
[2022-08-18 12:17:17,117.117] INFO [8673252864] - Application startup complete.
[2022-08-18 12:17:19,058.058] INFO [8673252864] - 127.0.0.1:62833 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:17:19,238.238] INFO [8673252864] - 127.0.0.1:62833 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:17:24,458.458] INFO [8673252864] - 127.0.0.1:62834 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:17:24,459.459] ERROR [8673252864] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    df = await pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:33:36,164.164] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:33:36,180.180] INFO [8673252864] - Shutting down
[2022-08-18 12:33:36,282.282] INFO [8673252864] - Waiting for application shutdown.
[2022-08-18 12:33:36,283.283] INFO [8673252864] - Application shutdown complete.
[2022-08-18 12:33:36,283.283] INFO [8673252864] - Finished server process [57442]
[2022-08-18 12:33:37,062.062] INFO [8639993344] - Started server process [57811]
[2022-08-18 12:33:37,062.062] INFO [8639993344] - Waiting for application startup.
[2022-08-18 12:33:37,062.062] INFO [8639993344] - Application startup complete.
[2022-08-18 12:34:15,592.592] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:34:15,662.662] INFO [8639993344] - Shutting down
[2022-08-18 12:34:15,764.764] INFO [8639993344] - Waiting for application shutdown.
[2022-08-18 12:34:15,764.764] INFO [8639993344] - Application shutdown complete.
[2022-08-18 12:34:15,764.764] INFO [8639993344] - Finished server process [57811]
[2022-08-18 12:34:16,538.538] INFO [8629642752] - Started server process [57831]
[2022-08-18 12:34:16,538.538] INFO [8629642752] - Waiting for application startup.
[2022-08-18 12:34:16,539.539] INFO [8629642752] - Application startup complete.
[2022-08-18 12:34:45,961.961] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:34:46,013.013] INFO [8629642752] - Shutting down
[2022-08-18 12:34:46,115.115] INFO [8629642752] - Waiting for application shutdown.
[2022-08-18 12:34:46,116.116] INFO [8629642752] - Application shutdown complete.
[2022-08-18 12:34:46,116.116] INFO [8629642752] - Finished server process [57831]
[2022-08-18 12:34:46,803.803] INFO [8641172992] - Started server process [57844]
[2022-08-18 12:34:46,803.803] INFO [8641172992] - Waiting for application startup.
[2022-08-18 12:34:46,803.803] INFO [8641172992] - Application startup complete.
[2022-08-18 12:34:49,297.297] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:34:49,335.335] INFO [8641172992] - Shutting down
[2022-08-18 12:34:49,436.436] INFO [8641172992] - Waiting for application shutdown.
[2022-08-18 12:34:49,437.437] INFO [8641172992] - Application shutdown complete.
[2022-08-18 12:34:49,437.437] INFO [8641172992] - Finished server process [57844]
[2022-08-18 12:34:50,122.122] INFO [8602584576] - Started server process [57851]
[2022-08-18 12:34:50,122.122] INFO [8602584576] - Waiting for application startup.
[2022-08-18 12:34:50,122.122] INFO [8602584576] - Application startup complete.
[2022-08-18 12:34:52,345.345] INFO [8602584576] - 127.0.0.1:62942 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:34:52,578.578] INFO [8602584576] - 127.0.0.1:62942 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:35:00,766.766] INFO [8602584576] - 127.0.0.1:62943 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:35:00,767.767] ERROR [8602584576] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    df = await pd.read_excel(uploaded_file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:36:07,360.360] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:36:07,420.420] INFO [8602584576] - Shutting down
[2022-08-18 12:36:07,522.522] INFO [8602584576] - Waiting for application shutdown.
[2022-08-18 12:36:07,523.523] INFO [8602584576] - Application shutdown complete.
[2022-08-18 12:36:07,523.523] INFO [8602584576] - Finished server process [57851]
[2022-08-18 12:36:08,353.353] INFO [8660276736] - Started server process [57880]
[2022-08-18 12:36:08,354.354] INFO [8660276736] - Waiting for application startup.
[2022-08-18 12:36:08,354.354] INFO [8660276736] - Application startup complete.
[2022-08-18 12:36:19,526.526] INFO [8660276736] - 127.0.0.1:62958 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:36:19,724.724] INFO [8660276736] - 127.0.0.1:62958 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:36:25,277.277] INFO [8660276736] - 127.0.0.1:62959 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:36:25,278.278] ERROR [8660276736] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    df = await pd.read_excel(uploaded_file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:36:34,211.211] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:36:34,272.272] INFO [8660276736] - Shutting down
[2022-08-18 12:36:34,374.374] INFO [8660276736] - Waiting for application shutdown.
[2022-08-18 12:36:34,374.374] INFO [8660276736] - Application shutdown complete.
[2022-08-18 12:36:34,374.374] INFO [8660276736] - Finished server process [57880]
[2022-08-18 12:36:35,151.151] INFO [8671098368] - Started server process [57912]
[2022-08-18 12:36:35,151.151] INFO [8671098368] - Waiting for application startup.
[2022-08-18 12:36:35,151.151] INFO [8671098368] - Application startup complete.
[2022-08-18 12:36:35,299.299] INFO [8671098368] - 127.0.0.1:62961 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:36:35,455.455] INFO [8671098368] - 127.0.0.1:62961 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:36:40,265.265] INFO [8671098368] - 127.0.0.1:62961 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:36:40,266.266] ERROR [8671098368] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    df = pd.read_excel(uploaded_file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 12:37:39,994.994] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:37:40,013.013] INFO [8671098368] - Shutting down
[2022-08-18 12:37:40,115.115] INFO [8671098368] - Waiting for application shutdown.
[2022-08-18 12:37:40,116.116] INFO [8671098368] - Application shutdown complete.
[2022-08-18 12:37:40,116.116] INFO [8671098368] - Finished server process [57912]
[2022-08-18 12:37:40,863.863] INFO [8593368576] - Started server process [57928]
[2022-08-18 12:37:40,864.864] INFO [8593368576] - Waiting for application startup.
[2022-08-18 12:37:40,864.864] INFO [8593368576] - Application startup complete.
[2022-08-18 12:37:46,165.165] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:37:46,231.231] INFO [8593368576] - Shutting down
[2022-08-18 12:37:46,332.332] INFO [8593368576] - Waiting for application shutdown.
[2022-08-18 12:37:46,333.333] INFO [8593368576] - Application shutdown complete.
[2022-08-18 12:37:46,333.333] INFO [8593368576] - Finished server process [57928]
[2022-08-18 12:37:47,063.063] INFO [8592725504] - Started server process [57937]
[2022-08-18 12:37:47,063.063] INFO [8592725504] - Waiting for application startup.
[2022-08-18 12:37:47,064.064] INFO [8592725504] - Application startup complete.
[2022-08-18 12:37:50,055.055] WARNING [8672503296] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:37:50,103.103] INFO [8592725504] - Shutting down
[2022-08-18 12:37:50,204.204] INFO [8592725504] - Waiting for application shutdown.
[2022-08-18 12:37:50,204.204] INFO [8592725504] - Application shutdown complete.
[2022-08-18 12:37:50,204.204] INFO [8592725504] - Finished server process [57937]
[2022-08-18 12:37:50,885.885] INFO [8594798080] - Started server process [57941]
[2022-08-18 12:37:50,885.885] INFO [8594798080] - Waiting for application startup.
[2022-08-18 12:37:50,885.885] INFO [8594798080] - Application startup complete.
[2022-08-18 12:37:53,071.071] INFO [8594798080] - 127.0.0.1:62963 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:37:53,231.231] INFO [8594798080] - 127.0.0.1:62963 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:38:03,502.502] INFO [8594798080] - 127.0.0.1:62964 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:38:03,503.503] ERROR [8594798080] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 138, in import_optional_dependency
    module = importlib.import_module(name)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 984, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'openpyxl'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 524, in __init__
    import_optional_dependency("openpyxl")
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 141, in import_optional_dependency
    raise ImportError(msg)
ImportError: Missing optional dependency 'openpyxl'.  Use pip or conda to install openpyxl.
[2022-08-18 12:38:41,583.583] INFO [8669566464] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:38:41,584.584] ERROR [8669566464] - [Errno 48] Address already in use
[2022-08-18 12:39:00,661.661] INFO [8641246720] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:39:00,662.662] INFO [8641246720] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 12:39:00,662.662] INFO [8641246720] - Started reloader process [58013] using StatReload
[2022-08-18 12:39:01,274.274] INFO [8629011968] - Started server process [58017]
[2022-08-18 12:39:01,274.274] INFO [8629011968] - Waiting for application startup.
[2022-08-18 12:39:01,275.275] INFO [8629011968] - Application startup complete.
[2022-08-18 12:39:02,205.205] INFO [8629011968] - 127.0.0.1:62978 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:39:02,441.441] INFO [8629011968] - 127.0.0.1:62978 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:39:06,223.223] INFO [8629011968] - 127.0.0.1:62978 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:39:06,370.370] INFO [8629011968] - 127.0.0.1:62978 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:39:10,967.967] INFO [8629011968] - 127.0.0.1:62978 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:39:10,968.968] ERROR [8629011968] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 50, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 12:42:27,133.133] INFO [8660588032] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 12:42:27,133.133] INFO [8660588032] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 12:42:27,133.133] INFO [8660588032] - Started reloader process [58179] using StatReload
[2022-08-18 12:42:27,652.652] INFO [8666088960] - Started server process [58183]
[2022-08-18 12:42:27,653.653] INFO [8666088960] - Waiting for application startup.
[2022-08-18 12:42:27,653.653] INFO [8666088960] - Application startup complete.
[2022-08-18 12:42:30,598.598] INFO [8666088960] - 127.0.0.1:63046 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:42:30,832.832] INFO [8666088960] - 127.0.0.1:63046 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:42:36,407.407] INFO [8666088960] - 127.0.0.1:63047 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:42:36,407.407] ERROR [8666088960] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 50, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 12:43:06,722.722] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:43:06,798.798] INFO [8666088960] - Shutting down
[2022-08-18 12:43:06,899.899] INFO [8666088960] - Waiting for application shutdown.
[2022-08-18 12:43:06,899.899] INFO [8666088960] - Application shutdown complete.
[2022-08-18 12:43:06,900.900] INFO [8666088960] - Finished server process [58183]
[2022-08-18 12:43:07,692.692] INFO [8599078400] - Started server process [58195]
[2022-08-18 12:43:07,692.692] INFO [8599078400] - Waiting for application startup.
[2022-08-18 12:43:07,692.692] INFO [8599078400] - Application startup complete.
[2022-08-18 12:43:08,414.414] INFO [8599078400] - 127.0.0.1:63049 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:43:08,558.558] INFO [8599078400] - 127.0.0.1:63049 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:43:13,498.498] INFO [8599078400] - 127.0.0.1:63049 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:43:13,499.499] ERROR [8599078400] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 50, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 12:45:10,911.911] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:45:10,948.948] INFO [8599078400] - Shutting down
[2022-08-18 12:45:11,050.050] INFO [8599078400] - Waiting for application shutdown.
[2022-08-18 12:45:11,050.050] INFO [8599078400] - Application shutdown complete.
[2022-08-18 12:45:11,050.050] INFO [8599078400] - Finished server process [58195]
[2022-08-18 12:45:12,037.037] INFO [8608908800] - Started server process [58237]
[2022-08-18 12:45:12,038.038] INFO [8608908800] - Waiting for application startup.
[2022-08-18 12:45:12,038.038] INFO [8608908800] - Application startup complete.
[2022-08-18 12:45:24,161.161] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:45:24,198.198] INFO [8608908800] - Shutting down
[2022-08-18 12:45:24,299.299] INFO [8608908800] - Waiting for application shutdown.
[2022-08-18 12:45:24,300.300] INFO [8608908800] - Application shutdown complete.
[2022-08-18 12:45:24,300.300] INFO [8608908800] - Finished server process [58237]
[2022-08-18 12:45:25,229.229] INFO [8628344320] - Started server process [58241]
[2022-08-18 12:45:25,230.230] INFO [8628344320] - Waiting for application startup.
[2022-08-18 12:45:25,230.230] INFO [8628344320] - Application startup complete.
[2022-08-18 12:46:23,910.910] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:46:23,913.913] INFO [8628344320] - Shutting down
[2022-08-18 12:46:24,015.015] INFO [8628344320] - Waiting for application shutdown.
[2022-08-18 12:46:24,015.015] INFO [8628344320] - Application shutdown complete.
[2022-08-18 12:46:24,015.015] INFO [8628344320] - Finished server process [58241]
[2022-08-18 12:46:25,046.046] INFO [8667518464] - Started server process [58249]
[2022-08-18 12:46:25,047.047] INFO [8667518464] - Waiting for application startup.
[2022-08-18 12:46:25,047.047] INFO [8667518464] - Application startup complete.
[2022-08-18 12:46:28,995.995] INFO [8667518464] - 127.0.0.1:63068 - "GET /swagger HTTP/1.1" 200
[2022-08-18 12:46:29,222.222] INFO [8667518464] - 127.0.0.1:63068 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 12:46:33,700.700] INFO [8667518464] - 127.0.0.1:63068 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 12:46:33,702.702] ERROR [8667518464] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 51, in upload
    df = pd.read_excel(str(os.path.abspath(os.path.join(os.getcwd(), f'../uploaded_files/{file.filename}'))), engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 12:59:12,781.781] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:59:12,816.816] INFO [8667518464] - Shutting down
[2022-08-18 12:59:12,919.919] INFO [8667518464] - Waiting for application shutdown.
[2022-08-18 12:59:12,920.920] INFO [8667518464] - Application shutdown complete.
[2022-08-18 12:59:12,920.920] INFO [8667518464] - Finished server process [58249]
[2022-08-18 12:59:13,643.643] INFO [8671491584] - Started server process [58585]
[2022-08-18 12:59:13,644.644] INFO [8671491584] - Waiting for application startup.
[2022-08-18 12:59:13,644.644] INFO [8671491584] - Application startup complete.
[2022-08-18 12:59:57,920.920] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 12:59:57,928.928] INFO [8671491584] - Shutting down
[2022-08-18 12:59:58,029.029] INFO [8671491584] - Waiting for application shutdown.
[2022-08-18 12:59:58,029.029] INFO [8671491584] - Application shutdown complete.
[2022-08-18 12:59:58,030.030] INFO [8671491584] - Finished server process [58585]
[2022-08-18 12:59:58,835.835] INFO [8627406336] - Started server process [58598]
[2022-08-18 12:59:58,836.836] INFO [8627406336] - Waiting for application startup.
[2022-08-18 12:59:58,836.836] INFO [8627406336] - Application startup complete.
[2022-08-18 13:00:40,967.967] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:00:40,978.978] INFO [8627406336] - Shutting down
[2022-08-18 13:00:41,080.080] INFO [8627406336] - Waiting for application shutdown.
[2022-08-18 13:00:41,080.080] INFO [8627406336] - Application shutdown complete.
[2022-08-18 13:00:41,081.081] INFO [8627406336] - Finished server process [58598]
[2022-08-18 13:00:41,802.802] INFO [8606844416] - Started server process [58612]
[2022-08-18 13:00:41,802.802] INFO [8606844416] - Waiting for application startup.
[2022-08-18 13:00:41,802.802] INFO [8606844416] - Application startup complete.
[2022-08-18 13:01:17,318.318] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:01:17,381.381] INFO [8606844416] - Shutting down
[2022-08-18 13:01:17,483.483] INFO [8606844416] - Waiting for application shutdown.
[2022-08-18 13:01:17,484.484] INFO [8606844416] - Application shutdown complete.
[2022-08-18 13:01:17,484.484] INFO [8606844416] - Finished server process [58612]
[2022-08-18 13:01:18,303.303] INFO [8603235840] - Started server process [58623]
[2022-08-18 13:01:18,304.304] INFO [8603235840] - Waiting for application startup.
[2022-08-18 13:01:18,304.304] INFO [8603235840] - Application startup complete.
[2022-08-18 13:01:28,519.519] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:01:28,542.542] INFO [8603235840] - Shutting down
[2022-08-18 13:01:28,644.644] INFO [8603235840] - Waiting for application shutdown.
[2022-08-18 13:01:28,644.644] INFO [8603235840] - Application shutdown complete.
[2022-08-18 13:01:28,644.644] INFO [8603235840] - Finished server process [58623]
[2022-08-18 13:01:29,348.348] INFO [8663225856] - Started server process [58636]
[2022-08-18 13:01:29,349.349] INFO [8663225856] - Waiting for application startup.
[2022-08-18 13:01:29,349.349] INFO [8663225856] - Application startup complete.
[2022-08-18 13:02:01,747.747] WARNING [8660588032] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 13:02:01,774.774] INFO [8663225856] - Shutting down
[2022-08-18 13:02:01,876.876] INFO [8663225856] - Waiting for application shutdown.
[2022-08-18 13:02:01,876.876] INFO [8663225856] - Application shutdown complete.
[2022-08-18 13:02:01,876.876] INFO [8663225856] - Finished server process [58636]
[2022-08-18 13:02:02,686.686] INFO [8606377472] - Started server process [58649]
[2022-08-18 13:02:02,686.686] INFO [8606377472] - Waiting for application startup.
[2022-08-18 13:02:02,686.686] INFO [8606377472] - Application startup complete.
[2022-08-18 13:02:04,910.910] INFO [8606377472] - 127.0.0.1:63186 - "GET /swagger HTTP/1.1" 200
[2022-08-18 13:02:05,173.173] INFO [8606377472] - 127.0.0.1:63186 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 13:02:09,486.486] INFO [8606377472] - 127.0.0.1:63186 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 13:02:09,487.487] ERROR [8606377472] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 16:41:39,396.396] INFO [8605533696] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 16:41:39,397.397] INFO [8605533696] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 16:41:39,397.397] INFO [8605533696] - Started reloader process [63436] using StatReload
[2022-08-18 16:41:39,965.965] INFO [8661730816] - Started server process [63441]
[2022-08-18 16:41:39,966.966] INFO [8661730816] - Waiting for application startup.
[2022-08-18 16:41:39,966.966] INFO [8661730816] - Application startup complete.
[2022-08-18 16:41:52,744.744] INFO [8661730816] - 127.0.0.1:57939 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:41:53,567.567] INFO [8661730816] - 127.0.0.1:57939 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:42:03,616.616] INFO [8661730816] - 127.0.0.1:57940 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:42:03,617.617] ERROR [8661730816] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 16:42:21,845.845] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:42:21,927.927] INFO [8661730816] - Shutting down
[2022-08-18 16:42:22,028.028] INFO [8661730816] - Waiting for application shutdown.
[2022-08-18 16:42:22,029.029] INFO [8661730816] - Application shutdown complete.
[2022-08-18 16:42:22,029.029] INFO [8661730816] - Finished server process [63441]
[2022-08-18 16:42:22,779.779] INFO [8600155648] - Started server process [63475]
[2022-08-18 16:42:22,779.779] INFO [8600155648] - Waiting for application startup.
[2022-08-18 16:42:22,780.780] INFO [8600155648] - Application startup complete.
[2022-08-18 16:42:24,024.024] INFO [8600155648] - 127.0.0.1:57943 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:42:24,234.234] INFO [8600155648] - 127.0.0.1:57943 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:42:33,527.527] INFO [8600155648] - 127.0.0.1:57944 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:42:33,527.527] ERROR [8600155648] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 16:44:04,980.980] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:05,033.033] INFO [8600155648] - Shutting down
[2022-08-18 16:44:05,141.141] INFO [8600155648] - Waiting for application shutdown.
[2022-08-18 16:44:05,142.142] INFO [8600155648] - Application shutdown complete.
[2022-08-18 16:44:05,142.142] INFO [8600155648] - Finished server process [63475]
[2022-08-18 16:44:06,814.814] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:07,591.591] INFO [8630228480] - Started server process [63543]
[2022-08-18 16:44:07,591.591] INFO [8630228480] - Waiting for application startup.
[2022-08-18 16:44:07,591.591] INFO [8630228480] - Application startup complete.
[2022-08-18 16:44:09,912.912] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:09,916.916] INFO [8630228480] - Shutting down
[2022-08-18 16:44:10,018.018] INFO [8630228480] - Waiting for application shutdown.
[2022-08-18 16:44:10,018.018] INFO [8630228480] - Application shutdown complete.
[2022-08-18 16:44:10,018.018] INFO [8630228480] - Finished server process [63543]
[2022-08-18 16:44:10,666.666] INFO [8633759232] - Started server process [63548]
[2022-08-18 16:44:10,666.666] INFO [8633759232] - Waiting for application startup.
[2022-08-18 16:44:10,666.666] INFO [8633759232] - Application startup complete.
[2022-08-18 16:44:21,568.568] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:21,618.618] INFO [8633759232] - Shutting down
[2022-08-18 16:44:21,719.719] INFO [8633759232] - Waiting for application shutdown.
[2022-08-18 16:44:21,719.719] INFO [8633759232] - Application shutdown complete.
[2022-08-18 16:44:21,719.719] INFO [8633759232] - Finished server process [63548]
[2022-08-18 16:44:22,421.421] INFO [8660784640] - Started server process [63612]
[2022-08-18 16:44:22,421.421] INFO [8660784640] - Waiting for application startup.
[2022-08-18 16:44:22,421.421] INFO [8660784640] - Application startup complete.
[2022-08-18 16:44:26,981.981] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:27,081.081] INFO [8660784640] - Shutting down
[2022-08-18 16:44:27,183.183] INFO [8660784640] - Waiting for application shutdown.
[2022-08-18 16:44:27,186.186] INFO [8660784640] - Application shutdown complete.
[2022-08-18 16:44:27,187.187] INFO [8660784640] - Finished server process [63612]
[2022-08-18 16:44:28,038.038] INFO [8635528704] - Started server process [63633]
[2022-08-18 16:44:28,039.039] INFO [8635528704] - Waiting for application startup.
[2022-08-18 16:44:28,039.039] INFO [8635528704] - Application startup complete.
[2022-08-18 16:44:30,893.893] INFO [8635528704] - 127.0.0.1:57995 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:44:31,120.120] INFO [8635528704] - 127.0.0.1:57995 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:44:36,723.723] INFO [8635528704] - 127.0.0.1:57996 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:44:36,730.730] ERROR [8635528704] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 138, in import_optional_dependency
    module = importlib.import_module(name)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 984, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'pyxlsb'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 31, in __init__
    import_optional_dependency("pyxlsb")
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/compat/_optional.py", line 141, in import_optional_dependency
    raise ImportError(msg)
ImportError: Missing optional dependency 'pyxlsb'.  Use pip or conda to install pyxlsb.
[2022-08-18 16:44:53,854.854] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:44:53,876.876] INFO [8635528704] - Shutting down
[2022-08-18 16:44:53,977.977] INFO [8635528704] - Waiting for application shutdown.
[2022-08-18 16:44:53,978.978] INFO [8635528704] - Application shutdown complete.
[2022-08-18 16:44:53,978.978] INFO [8635528704] - Finished server process [63633]
[2022-08-18 16:44:54,923.923] INFO [8605435392] - Started server process [63678]
[2022-08-18 16:44:54,923.923] INFO [8605435392] - Waiting for application startup.
[2022-08-18 16:44:54,923.923] INFO [8605435392] - Application startup complete.
[2022-08-18 16:44:56,855.855] INFO [8605435392] - 127.0.0.1:58002 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:44:57,000.000] INFO [8605435392] - 127.0.0.1:58002 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:45:01,689.689] INFO [8605435392] - 127.0.0.1:58002 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:45:01,690.690] ERROR [8605435392] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 16:45:45,134.134] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:45:45,173.173] INFO [8605435392] - Shutting down
[2022-08-18 16:45:45,275.275] INFO [8605435392] - Waiting for application shutdown.
[2022-08-18 16:45:45,275.275] INFO [8605435392] - Application shutdown complete.
[2022-08-18 16:45:45,275.275] INFO [8605435392] - Finished server process [63678]
[2022-08-18 16:45:46,023.023] INFO [8671872512] - Started server process [63695]
[2022-08-18 16:45:46,024.024] INFO [8671872512] - Waiting for application startup.
[2022-08-18 16:45:46,024.024] INFO [8671872512] - Application startup complete.
[2022-08-18 16:45:55,801.801] INFO [8671872512] - 127.0.0.1:58022 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:45:55,956.956] INFO [8671872512] - 127.0.0.1:58022 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:46:02,545.545] INFO [8671872512] - 127.0.0.1:58023 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:46:02,546.546] ERROR [8671872512] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    await out_pt.write(content.decode('base64'))
LookupError: 'base64' is not a text encoding; use codecs.decode() to handle arbitrary codecs
[2022-08-18 16:46:32,156.156] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:46:32,226.226] INFO [8671872512] - Shutting down
[2022-08-18 16:46:32,327.327] INFO [8671872512] - Waiting for application shutdown.
[2022-08-18 16:46:32,328.328] INFO [8671872512] - Application shutdown complete.
[2022-08-18 16:46:32,328.328] INFO [8671872512] - Finished server process [63695]
[2022-08-18 16:46:33,278.278] INFO [8609961472] - Started server process [63706]
[2022-08-18 16:46:33,278.278] INFO [8609961472] - Waiting for application startup.
[2022-08-18 16:46:33,278.278] INFO [8609961472] - Application startup complete.
[2022-08-18 16:46:37,638.638] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:46:37,642.642] INFO [8609961472] - Shutting down
[2022-08-18 16:46:37,743.743] INFO [8609961472] - Waiting for application shutdown.
[2022-08-18 16:46:37,743.743] INFO [8609961472] - Application shutdown complete.
[2022-08-18 16:46:37,743.743] INFO [8609961472] - Finished server process [63706]
[2022-08-18 16:46:38,585.585] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:46:39,222.222] INFO [8636577280] - Started server process [63718]
[2022-08-18 16:46:39,223.223] INFO [8636577280] - Waiting for application startup.
[2022-08-18 16:46:39,223.223] INFO [8636577280] - Application startup complete.
[2022-08-18 16:46:42,714.714] INFO [8636577280] - 127.0.0.1:58027 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:46:42,851.851] INFO [8636577280] - 127.0.0.1:58027 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:46:46,838.838] INFO [8636577280] - 127.0.0.1:58027 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:46:46,839.839] ERROR [8636577280] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 16:47:21,129.129] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:47:21,149.149] INFO [8636577280] - Shutting down
[2022-08-18 16:47:21,251.251] INFO [8636577280] - Waiting for application shutdown.
[2022-08-18 16:47:21,251.251] INFO [8636577280] - Application shutdown complete.
[2022-08-18 16:47:21,251.251] INFO [8636577280] - Finished server process [63718]
[2022-08-18 16:47:22,058.058] INFO [8603055616] - Started server process [63744]
[2022-08-18 16:47:22,059.059] INFO [8603055616] - Waiting for application startup.
[2022-08-18 16:47:22,059.059] INFO [8603055616] - Application startup complete.
[2022-08-18 16:47:25,834.834] INFO [8603055616] - 127.0.0.1:58032 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:47:25,967.967] INFO [8603055616] - 127.0.0.1:58032 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:47:30,403.403] INFO [8603055616] - 127.0.0.1:58032 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:47:30,404.404] ERROR [8603055616] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 16:48:48,203.203] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:48:48,269.269] INFO [8603055616] - Shutting down
[2022-08-18 16:48:48,371.371] INFO [8603055616] - Waiting for application shutdown.
[2022-08-18 16:48:48,372.372] INFO [8603055616] - Application shutdown complete.
[2022-08-18 16:48:48,372.372] INFO [8603055616] - Finished server process [63744]
[2022-08-18 16:48:49,238.238] INFO [8630568448] - Started server process [63779]
[2022-08-18 16:48:49,239.239] INFO [8630568448] - Waiting for application startup.
[2022-08-18 16:48:49,239.239] INFO [8630568448] - Application startup complete.
[2022-08-18 16:48:50,912.912] INFO [8630568448] - 127.0.0.1:58041 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:48:51,050.050] INFO [8630568448] - 127.0.0.1:58041 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:48:55,227.227] INFO [8630568448] - 127.0.0.1:58041 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:48:55,228.228] ERROR [8630568448] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 16:49:01,496.496] WARNING [8605533696] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 16:49:01,524.524] INFO [8630568448] - Shutting down
[2022-08-18 16:49:01,625.625] INFO [8630568448] - Waiting for application shutdown.
[2022-08-18 16:49:01,626.626] INFO [8630568448] - Application shutdown complete.
[2022-08-18 16:49:01,626.626] INFO [8630568448] - Finished server process [63779]
[2022-08-18 16:49:02,444.444] INFO [8605226496] - Started server process [63794]
[2022-08-18 16:49:02,444.444] INFO [8605226496] - Waiting for application startup.
[2022-08-18 16:49:02,445.445] INFO [8605226496] - Application startup complete.
[2022-08-18 16:49:02,673.673] INFO [8605226496] - 127.0.0.1:58044 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:49:02,799.799] INFO [8605226496] - 127.0.0.1:58044 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:49:06,320.320] INFO [8605226496] - 127.0.0.1:58044 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:49:06,321.321] ERROR [8605226496] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 16:49:51,595.595] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:49:51,690.690] INFO [8605226496] - Shutting down
[2022-08-18 16:49:51,792.792] INFO [8605226496] - Waiting for application shutdown.
[2022-08-18 16:49:51,793.793] INFO [8605226496] - Application shutdown complete.
[2022-08-18 16:49:51,793.793] INFO [8605226496] - Finished server process [63794]
[2022-08-18 16:50:16,676.676] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:50:48,951.951] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:51:23,341.341] WARNING [8605533696] - StatReload detected changes in 'api/validation.py'. Reloading...
[2022-08-18 16:52:56,910.910] INFO [8663070208] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 16:52:56,910.910] ERROR [8663070208] - [Errno 48] Address already in use
[2022-08-18 16:53:24,799.799] INFO [8665957888] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment']
[2022-08-18 16:53:24,800.800] INFO [8665957888] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 16:53:24,800.800] INFO [8665957888] - Started reloader process [63885] using StatReload
[2022-08-18 16:53:25,356.356] INFO [8608785920] - Started server process [63887]
[2022-08-18 16:53:25,357.357] INFO [8608785920] - Waiting for application startup.
[2022-08-18 16:53:25,357.357] INFO [8608785920] - Application startup complete.
[2022-08-18 16:53:26,908.908] INFO [8608785920] - 127.0.0.1:58066 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:53:27,220.220] INFO [8608785920] - 127.0.0.1:58066 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:53:40,132.132] INFO [8608785920] - 127.0.0.1:58067 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:53:40,132.132] ERROR [8608785920] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'w', encoding='utf-8') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 16:55:42,953.953] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:55:43,075.075] INFO [8608785920] - Shutting down
[2022-08-18 16:55:43,177.177] INFO [8608785920] - Waiting for application shutdown.
[2022-08-18 16:55:43,177.177] INFO [8608785920] - Application shutdown complete.
[2022-08-18 16:55:43,178.178] INFO [8608785920] - Finished server process [63887]
[2022-08-18 16:55:44,007.007] INFO [8634574336] - Started server process [63912]
[2022-08-18 16:55:44,008.008] INFO [8634574336] - Waiting for application startup.
[2022-08-18 16:55:44,008.008] INFO [8634574336] - Application startup complete.
[2022-08-18 16:55:44,009.009] INFO [8634574336] - 127.0.0.1:58073 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:55:44,172.172] INFO [8634574336] - 127.0.0.1:58073 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:55:48,955.955] INFO [8634574336] - 127.0.0.1:58073 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:55:48,955.955] ERROR [8634574336] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb', encoding='utf-8') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
ValueError: binary mode doesn't take an encoding argument
[2022-08-18 16:56:01,159.159] INFO [8634574336] - 127.0.0.1:58074 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:56:01,305.305] INFO [8634574336] - 127.0.0.1:58074 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:56:06,124.124] INFO [8634574336] - 127.0.0.1:58074 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:56:06,124.124] ERROR [8634574336] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb', encoding='utf-8') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
ValueError: binary mode doesn't take an encoding argument
[2022-08-18 16:56:24,844.844] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:56:24,865.865] INFO [8634574336] - Shutting down
[2022-08-18 16:56:24,967.967] INFO [8634574336] - Waiting for application shutdown.
[2022-08-18 16:56:24,967.967] INFO [8634574336] - Application shutdown complete.
[2022-08-18 16:56:24,968.968] INFO [8634574336] - Finished server process [63912]
[2022-08-18 16:56:25,706.706] INFO [8600413696] - Started server process [63925]
[2022-08-18 16:56:25,706.706] INFO [8600413696] - Waiting for application startup.
[2022-08-18 16:56:25,707.707] INFO [8600413696] - Application startup complete.
[2022-08-18 16:56:27,255.255] INFO [8600413696] - 127.0.0.1:58078 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:56:27,403.403] INFO [8600413696] - 127.0.0.1:58078 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:56:31,716.716] INFO [8600413696] - 127.0.0.1:58078 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:56:31,717.717] ERROR [8600413696] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 16:57:13,452.452] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:57:13,536.536] INFO [8600413696] - Shutting down
[2022-08-18 16:57:13,643.643] INFO [8600413696] - Waiting for application shutdown.
[2022-08-18 16:57:13,643.643] INFO [8600413696] - Application shutdown complete.
[2022-08-18 16:57:13,644.644] INFO [8600413696] - Finished server process [63925]
[2022-08-18 16:57:14,419.419] INFO [8637486592] - Started server process [63954]
[2022-08-18 16:57:14,420.420] INFO [8637486592] - Waiting for application startup.
[2022-08-18 16:57:14,420.420] INFO [8637486592] - Application startup complete.
[2022-08-18 16:57:16,342.342] INFO [8637486592] - 127.0.0.1:58087 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:57:16,480.480] INFO [8637486592] - 127.0.0.1:58087 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:57:20,272.272] INFO [8637486592] - 127.0.0.1:58087 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:57:20,273.273] ERROR [8637486592] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'wb+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 16:59:38,697.697] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 16:59:38,849.849] INFO [8637486592] - Shutting down
[2022-08-18 16:59:38,968.968] INFO [8637486592] - Waiting for application shutdown.
[2022-08-18 16:59:38,980.980] INFO [8637486592] - Application shutdown complete.
[2022-08-18 16:59:38,980.980] INFO [8637486592] - Finished server process [63954]
[2022-08-18 16:59:40,116.116] INFO [8596022784] - Started server process [64026]
[2022-08-18 16:59:40,117.117] INFO [8596022784] - Waiting for application startup.
[2022-08-18 16:59:40,117.117] INFO [8596022784] - Application startup complete.
[2022-08-18 16:59:42,105.105] INFO [8596022784] - 127.0.0.1:58337 - "GET /swagger HTTP/1.1" 200
[2022-08-18 16:59:42,425.425] INFO [8596022784] - 127.0.0.1:58337 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 16:59:47,078.078] INFO [8596022784] - 127.0.0.1:58337 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 16:59:47,079.079] ERROR [8596022784] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'w+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 17:03:46,831.831] INFO [8596022784] - 127.0.0.1:58343 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:03:46,958.958] INFO [8596022784] - 127.0.0.1:58343 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:03:53,289.289] INFO [8596022784] - 127.0.0.1:58344 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:03:53,290.290] ERROR [8596022784] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 46, in upload
    async with aiofiles.open(file_path, 'w+') as out_pt:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/base.py", line 78, in __aenter__
    self._obj = await self._coro
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py", line 80, in _open
    f = yield from loop.run_in_executor(executor, cb)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
FileNotFoundError: [Errno 2] No such file or directory: '/Users/garayev/uploaded_files/tt.xls'
[2022-08-18 17:04:58,103.103] WARNING [8665957888] - StatReload detected changes in 'src/main.py'. Reloading...
[2022-08-18 17:04:58,115.115] INFO [8596022784] - Shutting down
[2022-08-18 17:04:58,217.217] INFO [8596022784] - Waiting for application shutdown.
[2022-08-18 17:04:58,217.217] INFO [8596022784] - Application shutdown complete.
[2022-08-18 17:04:58,217.217] INFO [8596022784] - Finished server process [64026]
[2022-08-18 17:04:58,990.990] INFO [8592479744] - Started server process [64143]
[2022-08-18 17:04:58,990.990] INFO [8592479744] - Waiting for application startup.
[2022-08-18 17:04:58,991.991] INFO [8592479744] - Application startup complete.
[2022-08-18 17:05:05,226.226] INFO [8592479744] - 127.0.0.1:58350 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:05:05,419.419] INFO [8592479744] - 127.0.0.1:58350 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:05:09,588.588] INFO [8592479744] - 127.0.0.1:58350 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:05:09,588.588] ERROR [8592479744] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 44, in upload
    pd.ExcelWriter(file_path, engine='xlsxwriter')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlsxwriter.py", line 191, in __init__
    super().__init__(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1106, in __init__
    self.handles = get_handle(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/common.py", line 694, in get_handle
    check_parent_directory(str(handle))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/common.py", line 568, in check_parent_directory
    raise OSError(rf"Cannot save file into a non-existent directory: '{parent}'")
OSError: Cannot save file into a non-existent directory: '/Users/garayev/uploaded_files'
[2022-08-18 17:05:41,442.442] INFO [8592479744] - Shutting down
[2022-08-18 17:05:41,544.544] INFO [8592479744] - Waiting for application shutdown.
[2022-08-18 17:05:41,545.545] INFO [8592479744] - Application shutdown complete.
[2022-08-18 17:05:41,545.545] INFO [8592479744] - Finished server process [64143]
[2022-08-18 17:05:41,631.631] INFO [8665957888] - Stopping reloader process [63885]
[2022-08-18 17:06:25,394.394] INFO [8675358208] - Will watch for changes in these directories: ['/Users/garayev/pyp-pre-assignment/src']
[2022-08-18 17:06:25,395.395] INFO [8675358208] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-18 17:06:25,395.395] INFO [8675358208] - Started reloader process [64183] using StatReload
[2022-08-18 17:06:25,930.930] INFO [8599426560] - Started server process [64187]
[2022-08-18 17:06:25,931.931] INFO [8599426560] - Waiting for application startup.
[2022-08-18 17:06:25,931.931] INFO [8599426560] - Application startup complete.
[2022-08-18 17:06:28,151.151] INFO [8599426560] - 127.0.0.1:58353 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:06:28,297.297] INFO [8599426560] - 127.0.0.1:58353 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:06:33,343.343] INFO [8599426560] - 127.0.0.1:58354 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:06:33,344.344] ERROR [8599426560] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:07:09,695.695] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:09,733.733] INFO [8599426560] - Shutting down
[2022-08-18 17:07:09,835.835] INFO [8599426560] - Waiting for application shutdown.
[2022-08-18 17:07:09,836.836] INFO [8599426560] - Application shutdown complete.
[2022-08-18 17:07:09,836.836] INFO [8599426560] - Finished server process [64187]
[2022-08-18 17:07:10,673.673] INFO [8664311296] - Started server process [64229]
[2022-08-18 17:07:10,674.674] INFO [8664311296] - Waiting for application startup.
[2022-08-18 17:07:10,674.674] INFO [8664311296] - Application startup complete.
[2022-08-18 17:07:13,354.354] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:13,414.414] INFO [8664311296] - Shutting down
[2022-08-18 17:07:13,516.516] INFO [8664311296] - Waiting for application shutdown.
[2022-08-18 17:07:13,516.516] INFO [8664311296] - Application shutdown complete.
[2022-08-18 17:07:13,516.516] INFO [8664311296] - Finished server process [64229]
[2022-08-18 17:07:14,155.155] INFO [8670275072] - Started server process [64239]
[2022-08-18 17:07:14,155.155] INFO [8670275072] - Waiting for application startup.
[2022-08-18 17:07:14,155.155] INFO [8670275072] - Application startup complete.
[2022-08-18 17:07:27,936.936] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:27,938.938] INFO [8670275072] - Shutting down
[2022-08-18 17:07:28,039.039] INFO [8670275072] - Waiting for application shutdown.
[2022-08-18 17:07:28,040.040] INFO [8670275072] - Application shutdown complete.
[2022-08-18 17:07:28,040.040] INFO [8670275072] - Finished server process [64239]
[2022-08-18 17:07:28,974.974] INFO [8601658880] - Started server process [64246]
[2022-08-18 17:07:28,974.974] INFO [8601658880] - Waiting for application startup.
[2022-08-18 17:07:28,974.974] INFO [8601658880] - Application startup complete.
[2022-08-18 17:07:28,975.975] INFO [8601658880] - 127.0.0.1:58360 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:07:29,135.135] INFO [8601658880] - 127.0.0.1:58360 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:07:33,709.709] INFO [8601658880] - 127.0.0.1:58360 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:07:33,710.710] ERROR [8601658880] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:07:44,811.811] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:07:44,877.877] INFO [8601658880] - Shutting down
[2022-08-18 17:07:44,979.979] INFO [8601658880] - Waiting for application shutdown.
[2022-08-18 17:07:44,979.979] INFO [8601658880] - Application shutdown complete.
[2022-08-18 17:07:44,979.979] INFO [8601658880] - Finished server process [64246]
[2022-08-18 17:07:45,674.674] INFO [8640783872] - Started server process [64261]
[2022-08-18 17:07:45,675.675] INFO [8640783872] - Waiting for application startup.
[2022-08-18 17:07:45,675.675] INFO [8640783872] - Application startup complete.
[2022-08-18 17:08:37,325.325] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:08:37,356.356] INFO [8640783872] - Shutting down
[2022-08-18 17:08:37,458.458] INFO [8640783872] - Waiting for application shutdown.
[2022-08-18 17:08:37,459.459] INFO [8640783872] - Application shutdown complete.
[2022-08-18 17:08:37,459.459] INFO [8640783872] - Finished server process [64261]
[2022-08-18 17:08:38,661.661] INFO [8632051200] - Started server process [64274]
[2022-08-18 17:08:38,662.662] INFO [8632051200] - Waiting for application startup.
[2022-08-18 17:08:38,662.662] INFO [8632051200] - Application startup complete.
[2022-08-18 17:08:57,601.601] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:08:57,618.618] INFO [8632051200] - Shutting down
[2022-08-18 17:08:57,719.719] INFO [8632051200] - Waiting for application shutdown.
[2022-08-18 17:08:57,720.720] INFO [8632051200] - Application shutdown complete.
[2022-08-18 17:08:57,720.720] INFO [8632051200] - Finished server process [64274]
[2022-08-18 17:08:58,527.527] INFO [8598771200] - Started server process [64293]
[2022-08-18 17:08:58,528.528] INFO [8598771200] - Waiting for application startup.
[2022-08-18 17:08:58,528.528] INFO [8598771200] - Application startup complete.
[2022-08-18 17:09:01,321.321] INFO [8598771200] - 127.0.0.1:58376 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:09:01,532.532] INFO [8598771200] - 127.0.0.1:58376 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:09:05,539.539] INFO [8598771200] - 127.0.0.1:58376 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:09:05,540.540] ERROR [8598771200] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content.decode('base64'))
LookupError: 'base64' is not a text encoding; use codecs.decode() to handle arbitrary codecs
[2022-08-18 17:09:36,022.022] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:09:36,089.089] INFO [8598771200] - Shutting down
[2022-08-18 17:09:36,191.191] INFO [8598771200] - Waiting for application shutdown.
[2022-08-18 17:09:36,192.192] INFO [8598771200] - Application shutdown complete.
[2022-08-18 17:09:36,192.192] INFO [8598771200] - Finished server process [64293]
[2022-08-18 17:09:36,970.970] INFO [8658867712] - Started server process [64318]
[2022-08-18 17:09:36,971.971] INFO [8658867712] - Waiting for application startup.
[2022-08-18 17:09:36,971.971] INFO [8658867712] - Application startup complete.
[2022-08-18 17:09:48,157.157] INFO [8658867712] - 127.0.0.1:58380 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:09:48,304.304] INFO [8658867712] - 127.0.0.1:58380 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:09:51,874.874] INFO [8658867712] - 127.0.0.1:58380 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:09:51,875.875] ERROR [8658867712] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content.decode('utf-8'))
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: a bytes-like object is required, not 'str'
[2022-08-18 17:10:58,546.546] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:10:58,642.642] INFO [8658867712] - Shutting down
[2022-08-18 17:10:58,744.744] INFO [8658867712] - Waiting for application shutdown.
[2022-08-18 17:10:58,746.746] INFO [8658867712] - Application shutdown complete.
[2022-08-18 17:10:58,746.746] INFO [8658867712] - Finished server process [64318]
[2022-08-18 17:10:59,500.500] INFO [8631232000] - Started server process [64346]
[2022-08-18 17:10:59,500.500] INFO [8631232000] - Waiting for application startup.
[2022-08-18 17:10:59,501.501] INFO [8631232000] - Application startup complete.
[2022-08-18 17:11:14,984.984] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:11:15,005.005] INFO [8631232000] - Shutting down
[2022-08-18 17:11:15,107.107] INFO [8631232000] - Waiting for application shutdown.
[2022-08-18 17:11:15,107.107] INFO [8631232000] - Application shutdown complete.
[2022-08-18 17:11:15,107.107] INFO [8631232000] - Finished server process [64346]
[2022-08-18 17:11:15,796.796] INFO [8643147264] - Started server process [64354]
[2022-08-18 17:11:15,796.796] INFO [8643147264] - Waiting for application startup.
[2022-08-18 17:11:15,796.796] INFO [8643147264] - Application startup complete.
[2022-08-18 17:11:26,768.768] INFO [8643147264] - 127.0.0.1:58396 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:11:26,984.984] INFO [8643147264] - 127.0.0.1:58396 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:11:30,993.993] INFO [8643147264] - 127.0.0.1:58396 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:11:30,994.994] ERROR [8643147264] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    await out_pt.write(content)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/aiofiles/threadpool/utils.py", line 45, in method
    return (yield from self._loop.run_in_executor(self._executor, cb))
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
TypeError: write() argument must be str, not bytes
[2022-08-18 17:12:10,052.052] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:10,086.086] INFO [8643147264] - Shutting down
[2022-08-18 17:12:10,189.189] INFO [8643147264] - Waiting for application shutdown.
[2022-08-18 17:12:10,190.190] INFO [8643147264] - Application shutdown complete.
[2022-08-18 17:12:10,190.190] INFO [8643147264] - Finished server process [64354]
[2022-08-18 17:12:11,089.089] INFO [8641132032] - Started server process [64385]
[2022-08-18 17:12:11,089.089] INFO [8641132032] - Waiting for application startup.
[2022-08-18 17:12:11,089.089] INFO [8641132032] - Application startup complete.
[2022-08-18 17:12:12,587.587] INFO [8641132032] - 127.0.0.1:58403 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:12:12,742.742] INFO [8641132032] - 127.0.0.1:58403 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:12:15,980.980] INFO [8641132032] - 127.0.0.1:58403 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:12:15,981.981] ERROR [8641132032] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:12:26,398.398] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:26,486.486] INFO [8641132032] - Shutting down
[2022-08-18 17:12:26,588.588] INFO [8641132032] - Waiting for application shutdown.
[2022-08-18 17:12:26,589.589] INFO [8641132032] - Application shutdown complete.
[2022-08-18 17:12:26,589.589] INFO [8641132032] - Finished server process [64385]
[2022-08-18 17:12:27,473.473] INFO [8594765312] - Started server process [64397]
[2022-08-18 17:12:27,473.473] INFO [8594765312] - Waiting for application startup.
[2022-08-18 17:12:27,473.473] INFO [8594765312] - Application startup complete.
[2022-08-18 17:12:32,111.111] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:32,132.132] INFO [8594765312] - Shutting down
[2022-08-18 17:12:32,233.233] INFO [8594765312] - Waiting for application shutdown.
[2022-08-18 17:12:32,234.234] INFO [8594765312] - Application shutdown complete.
[2022-08-18 17:12:32,234.234] INFO [8594765312] - Finished server process [64397]
[2022-08-18 17:12:32,869.869] INFO [8600700416] - Started server process [64403]
[2022-08-18 17:12:32,870.870] INFO [8600700416] - Waiting for application startup.
[2022-08-18 17:12:32,870.870] INFO [8600700416] - Application startup complete.
[2022-08-18 17:12:33,495.495] INFO [8600700416] - 127.0.0.1:58407 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:12:33,621.621] INFO [8600700416] - 127.0.0.1:58407 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:12:36,779.779] INFO [8600700416] - 127.0.0.1:58407 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:12:36,780.780] ERROR [8600700416] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 17:12:45,019.019] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:12:45,027.027] INFO [8600700416] - Shutting down
[2022-08-18 17:12:45,128.128] INFO [8600700416] - Waiting for application shutdown.
[2022-08-18 17:12:45,129.129] INFO [8600700416] - Application shutdown complete.
[2022-08-18 17:12:45,129.129] INFO [8600700416] - Finished server process [64403]
[2022-08-18 17:12:45,901.901] INFO [8636298752] - Started server process [64415]
[2022-08-18 17:12:45,901.901] INFO [8636298752] - Waiting for application startup.
[2022-08-18 17:12:45,901.901] INFO [8636298752] - Application startup complete.
[2022-08-18 17:12:46,426.426] INFO [8636298752] - 127.0.0.1:58409 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:12:46,567.567] INFO [8636298752] - 127.0.0.1:58409 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:12:51,120.120] INFO [8636298752] - 127.0.0.1:58409 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:12:51,121.121] ERROR [8636298752] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='xlsxwriter')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1351, in __init__
    raise ValueError(f"Unknown engine: {engine}")
ValueError: Unknown engine: xlsxwriter
[2022-08-18 17:13:03,670.670] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:03,721.721] INFO [8636298752] - Shutting down
[2022-08-18 17:13:03,823.823] INFO [8636298752] - Waiting for application shutdown.
[2022-08-18 17:13:03,823.823] INFO [8636298752] - Application shutdown complete.
[2022-08-18 17:13:03,823.823] INFO [8636298752] - Finished server process [64415]
[2022-08-18 17:13:04,598.598] INFO [8665765376] - Started server process [64433]
[2022-08-18 17:13:04,599.599] INFO [8665765376] - Waiting for application startup.
[2022-08-18 17:13:04,599.599] INFO [8665765376] - Application startup complete.
[2022-08-18 17:13:05,975.975] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:06,015.015] INFO [8665765376] - Shutting down
[2022-08-18 17:13:06,116.116] INFO [8665765376] - Waiting for application shutdown.
[2022-08-18 17:13:06,117.117] INFO [8665765376] - Application shutdown complete.
[2022-08-18 17:13:06,117.117] INFO [8665765376] - Finished server process [64433]
[2022-08-18 17:13:06,818.818] INFO [8601036288] - Started server process [64439]
[2022-08-18 17:13:06,819.819] INFO [8601036288] - Waiting for application startup.
[2022-08-18 17:13:06,819.819] INFO [8601036288] - Application startup complete.
[2022-08-18 17:13:07,010.010] INFO [8601036288] - 127.0.0.1:58411 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:13:07,143.143] INFO [8601036288] - 127.0.0.1:58411 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:13:10,355.355] INFO [8601036288] - 127.0.0.1:58411 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:13:10,355.355] ERROR [8601036288] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:13:31,431.431] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:31,444.444] INFO [8601036288] - Shutting down
[2022-08-18 17:13:31,545.545] INFO [8601036288] - Waiting for application shutdown.
[2022-08-18 17:13:31,546.546] INFO [8601036288] - Application shutdown complete.
[2022-08-18 17:13:31,546.546] INFO [8601036288] - Finished server process [64439]
[2022-08-18 17:13:32,380.380] INFO [8603596288] - Started server process [64449]
[2022-08-18 17:13:32,380.380] INFO [8603596288] - Waiting for application startup.
[2022-08-18 17:13:32,380.380] INFO [8603596288] - Application startup complete.
[2022-08-18 17:13:35,239.239] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:35,316.316] INFO [8603596288] - Shutting down
[2022-08-18 17:13:35,418.418] INFO [8603596288] - Waiting for application shutdown.
[2022-08-18 17:13:35,418.418] INFO [8603596288] - Application shutdown complete.
[2022-08-18 17:13:35,418.418] INFO [8603596288] - Finished server process [64449]
[2022-08-18 17:13:36,349.349] INFO [8606705152] - Started server process [64452]
[2022-08-18 17:13:36,350.350] INFO [8606705152] - Waiting for application startup.
[2022-08-18 17:13:36,350.350] INFO [8606705152] - Application startup complete.
[2022-08-18 17:13:36,351.351] INFO [8606705152] - 127.0.0.1:58413 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:13:36,519.519] INFO [8606705152] - 127.0.0.1:58413 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:13:39,964.964] INFO [8606705152] - 127.0.0.1:58413 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:13:39,964.964] ERROR [8606705152] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path, engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 17:13:59,758.758] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:13:59,859.859] INFO [8606705152] - Shutting down
[2022-08-18 17:13:59,960.960] INFO [8606705152] - Waiting for application shutdown.
[2022-08-18 17:13:59,961.961] INFO [8606705152] - Application shutdown complete.
[2022-08-18 17:13:59,961.961] INFO [8606705152] - Finished server process [64452]
[2022-08-18 17:14:00,800.800] INFO [8636384768] - Started server process [64476]
[2022-08-18 17:14:00,801.801] INFO [8636384768] - Waiting for application startup.
[2022-08-18 17:14:00,801.801] INFO [8636384768] - Application startup complete.
[2022-08-18 17:14:01,684.684] INFO [8636384768] - 127.0.0.1:58415 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:14:01,788.788] INFO [8636384768] - 127.0.0.1:58415 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:14:07,784.784] INFO [8636384768] - 127.0.0.1:58416 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:14:07,785.785] ERROR [8636384768] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 53, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:16:39,125.125] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:16:39,148.148] INFO [8636384768] - Shutting down
[2022-08-18 17:16:39,250.250] INFO [8636384768] - Waiting for application shutdown.
[2022-08-18 17:16:39,250.250] INFO [8636384768] - Application shutdown complete.
[2022-08-18 17:16:39,251.251] INFO [8636384768] - Finished server process [64476]
[2022-08-18 17:16:40,102.102] INFO [8671933952] - Started server process [64518]
[2022-08-18 17:16:40,103.103] INFO [8671933952] - Waiting for application startup.
[2022-08-18 17:16:40,103.103] INFO [8671933952] - Application startup complete.
[2022-08-18 17:16:54,975.975] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:16:54,997.997] INFO [8671933952] - Shutting down
[2022-08-18 17:16:55,099.099] INFO [8671933952] - Waiting for application shutdown.
[2022-08-18 17:16:55,099.099] INFO [8671933952] - Application shutdown complete.
[2022-08-18 17:16:55,100.100] INFO [8671933952] - Finished server process [64518]
[2022-08-18 17:16:55,963.963] INFO [8669738496] - Started server process [64530]
[2022-08-18 17:16:55,963.963] INFO [8669738496] - Waiting for application startup.
[2022-08-18 17:16:55,963.963] INFO [8669738496] - Application startup complete.
[2022-08-18 17:16:59,665.665] INFO [8669738496] - 127.0.0.1:58429 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:16:59,931.931] INFO [8669738496] - 127.0.0.1:58429 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:17:04,073.073] INFO [8669738496] - 127.0.0.1:58429 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:17:04,074.074] ERROR [8669738496] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 51, in upload
    with pd.ExcelFile(file_path) as xls:
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:18:56,689.689] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:18:56,723.723] INFO [8669738496] - Shutting down
[2022-08-18 17:18:56,825.825] INFO [8669738496] - Waiting for application shutdown.
[2022-08-18 17:18:56,826.826] INFO [8669738496] - Application shutdown complete.
[2022-08-18 17:18:56,826.826] INFO [8669738496] - Finished server process [64530]
[2022-08-18 17:18:58,018.018] INFO [8637662720] - Started server process [64581]
[2022-08-18 17:18:58,018.018] INFO [8637662720] - Waiting for application startup.
[2022-08-18 17:18:58,018.018] INFO [8637662720] - Application startup complete.
[2022-08-18 17:19:06,797.797] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:19:06,830.830] INFO [8637662720] - Shutting down
[2022-08-18 17:19:06,931.931] INFO [8637662720] - Waiting for application shutdown.
[2022-08-18 17:19:06,932.932] INFO [8637662720] - Application shutdown complete.
[2022-08-18 17:19:06,932.932] INFO [8637662720] - Finished server process [64581]
[2022-08-18 17:19:07,787.787] INFO [8667395584] - Started server process [64633]
[2022-08-18 17:19:07,788.788] INFO [8667395584] - Waiting for application startup.
[2022-08-18 17:19:07,788.788] INFO [8667395584] - Application startup complete.
[2022-08-18 17:19:22,853.853] INFO [8667395584] - 127.0.0.1:58470 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:19:23,083.083] INFO [8667395584] - 127.0.0.1:58470 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:19:26,760.760] INFO [8667395584] - 127.0.0.1:58470 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:19:26,761.761] ERROR [8667395584] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 45, in upload
    async with open(file_path, 'w+') as out_pt:
AttributeError: __aenter__
[2022-08-18 17:20:09,407.407] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:20:09,491.491] INFO [8667395584] - Shutting down
[2022-08-18 17:20:09,593.593] INFO [8667395584] - Waiting for application shutdown.
[2022-08-18 17:20:09,594.594] INFO [8667395584] - Application shutdown complete.
[2022-08-18 17:20:09,594.594] INFO [8667395584] - Finished server process [64633]
[2022-08-18 17:20:10,509.509] INFO [8628979200] - Started server process [64685]
[2022-08-18 17:20:10,509.509] INFO [8628979200] - Waiting for application startup.
[2022-08-18 17:20:10,509.509] INFO [8628979200] - Application startup complete.
[2022-08-18 17:20:13,609.609] INFO [8628979200] - 127.0.0.1:58474 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:20:13,764.764] INFO [8628979200] - 127.0.0.1:58474 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:20:17,414.414] INFO [8628979200] - 127.0.0.1:58474 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 17:20:29,191.191] INFO [8628979200] - 127.0.0.1:58475 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:20:29,387.387] INFO [8628979200] - 127.0.0.1:58475 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:20:33,350.350] INFO [8628979200] - 127.0.0.1:58475 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 17:20:55,761.761] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:20:55,794.794] INFO [8628979200] - Shutting down
[2022-08-18 17:20:55,896.896] INFO [8628979200] - Waiting for application shutdown.
[2022-08-18 17:20:55,896.896] INFO [8628979200] - Application shutdown complete.
[2022-08-18 17:20:55,896.896] INFO [8628979200] - Finished server process [64685]
[2022-08-18 17:20:56,838.838] INFO [8674522624] - Started server process [64719]
[2022-08-18 17:20:56,838.838] INFO [8674522624] - Waiting for application startup.
[2022-08-18 17:20:56,838.838] INFO [8674522624] - Application startup complete.
[2022-08-18 17:20:57,606.606] INFO [8674522624] - 127.0.0.1:58495 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:20:57,755.755] INFO [8674522624] - 127.0.0.1:58495 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:21:04,277.277] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:04,331.331] INFO [8674522624] - Shutting down
[2022-08-18 17:21:04,432.432] INFO [8674522624] - Waiting for application shutdown.
[2022-08-18 17:21:04,432.432] INFO [8674522624] - Application shutdown complete.
[2022-08-18 17:21:04,432.432] INFO [8674522624] - Finished server process [64719]
[2022-08-18 17:21:05,460.460] INFO [8669791744] - Started server process [64745]
[2022-08-18 17:21:05,460.460] INFO [8669791744] - Waiting for application startup.
[2022-08-18 17:21:05,460.460] INFO [8669791744] - Application startup complete.
[2022-08-18 17:21:05,461.461] INFO [8669791744] - 127.0.0.1:58506 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:21:05,609.609] INFO [8669791744] - 127.0.0.1:58506 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:21:08,986.986] INFO [8669791744] - 127.0.0.1:58506 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:21:08,987.987] ERROR [8669791744] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 17:21:13,342.342] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:13,360.360] INFO [8669791744] - Shutting down
[2022-08-18 17:21:13,461.461] INFO [8669791744] - Waiting for application shutdown.
[2022-08-18 17:21:13,461.461] INFO [8669791744] - Application shutdown complete.
[2022-08-18 17:21:13,461.461] INFO [8669791744] - Finished server process [64745]
[2022-08-18 17:21:14,241.241] INFO [8601351680] - Started server process [64750]
[2022-08-18 17:21:14,242.242] INFO [8601351680] - Waiting for application startup.
[2022-08-18 17:21:14,242.242] INFO [8601351680] - Application startup complete.
[2022-08-18 17:21:39,735.735] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:39,775.775] INFO [8601351680] - Shutting down
[2022-08-18 17:21:39,877.877] INFO [8601351680] - Waiting for application shutdown.
[2022-08-18 17:21:39,878.878] INFO [8601351680] - Application shutdown complete.
[2022-08-18 17:21:39,878.878] INFO [8601351680] - Finished server process [64750]
[2022-08-18 17:21:54,808.808] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:21:55,614.614] INFO [8665671168] - Started server process [64772]
[2022-08-18 17:21:55,615.615] INFO [8665671168] - Waiting for application startup.
[2022-08-18 17:21:55,615.615] INFO [8665671168] - Application startup complete.
[2022-08-18 17:21:58,000.000] INFO [8665671168] - 127.0.0.1:58510 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:21:58,162.162] INFO [8665671168] - 127.0.0.1:58510 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:22:02,366.366] INFO [8665671168] - 127.0.0.1:58510 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:22:02,367.367] ERROR [8665671168] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path, engine='xlrd')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 25, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_xlrd.py", line 38, in load_workbook
    return open_workbook(file_contents=data)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/__init__.py", line 172, in open_workbook
    bk = open_workbook_xls(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 79, in open_workbook_xls
    biff_version = bk.getbof(XL_WORKBOOK_GLOBALS)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1284, in getbof
    bof_error('Expected BOF record; found %r' % self.mem[savpos:savpos+8])
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/xlrd/book.py", line 1278, in bof_error
    raise XLRDError('Unsupported format, or corrupt file: ' + msg)
xlrd.biffh.XLRDError: Unsupported format, or corrupt file: Expected BOF record; found b'awd\\\t\t\t\r'
[2022-08-18 17:22:11,672.672] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 17:22:11,724.724] INFO [8665671168] - Shutting down
[2022-08-18 17:22:11,826.826] INFO [8665671168] - Waiting for application shutdown.
[2022-08-18 17:22:11,826.826] INFO [8665671168] - Application shutdown complete.
[2022-08-18 17:22:11,826.826] INFO [8665671168] - Finished server process [64772]
[2022-08-18 17:22:12,618.618] INFO [8610059776] - Started server process [64785]
[2022-08-18 17:22:12,619.619] INFO [8610059776] - Waiting for application startup.
[2022-08-18 17:22:12,619.619] INFO [8610059776] - Application startup complete.
[2022-08-18 17:22:13,195.195] INFO [8610059776] - 127.0.0.1:58513 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:22:13,311.311] INFO [8610059776] - 127.0.0.1:58513 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:53:14,268.268] INFO [8610059776] - 127.0.0.1:58580 - "GET /swagger HTTP/1.1" 200
[2022-08-18 17:53:14,508.508] INFO [8610059776] - 127.0.0.1:58580 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 17:53:22,299.299] INFO [8610059776] - 127.0.0.1:58581 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 17:53:22,312.312] ERROR [8610059776] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path, engine='openpyxl')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 525, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py", line 536, in load_workbook
    return load_workbook(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 315, in load_workbook
    reader = ExcelReader(filename, read_only, keep_vba,
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 124, in __init__
    self.archive = _validate_archive(fn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/reader/excel.py", line 96, in _validate_archive
    archive = ZipFile(filename, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 21:49:01,253.253] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:49:01,311.311] INFO [8610059776] - Shutting down
[2022-08-18 21:49:01,416.416] INFO [8610059776] - Waiting for application shutdown.
[2022-08-18 21:49:01,418.418] INFO [8610059776] - Application shutdown complete.
[2022-08-18 21:49:01,419.419] INFO [8610059776] - Finished server process [64785]
[2022-08-18 21:49:02,497.497] INFO [8665482752] - Started server process [66769]
[2022-08-18 21:49:02,498.498] INFO [8665482752] - Waiting for application startup.
[2022-08-18 21:49:02,498.498] INFO [8665482752] - Application startup complete.
[2022-08-18 21:49:10,459.459] INFO [8665482752] - 127.0.0.1:59056 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:49:11,622.622] INFO [8665482752] - 127.0.0.1:59056 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:49:20,334.334] INFO [8665482752] - 127.0.0.1:59058 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:49:20,335.335] ERROR [8665482752] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 21:50:05,722.722] INFO [8665482752] - 127.0.0.1:59062 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:50:05,869.869] INFO [8665482752] - 127.0.0.1:59062 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:50:17,880.880] INFO [8665482752] - 127.0.0.1:59063 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:50:17,880.880] ERROR [8665482752] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    out_pt.write(content.decode('utf-8'))
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa2 in position 15: invalid start byte
[2022-08-18 21:50:41,994.994] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:50:42,012.012] INFO [8665482752] - Shutting down
[2022-08-18 21:50:42,114.114] INFO [8665482752] - Waiting for application shutdown.
[2022-08-18 21:50:42,114.114] INFO [8665482752] - Application shutdown complete.
[2022-08-18 21:50:42,115.115] INFO [8665482752] - Finished server process [66769]
[2022-08-18 21:50:43,021.021] INFO [8631088640] - Started server process [66908]
[2022-08-18 21:50:43,022.022] INFO [8631088640] - Waiting for application startup.
[2022-08-18 21:50:43,022.022] INFO [8631088640] - Application startup complete.
[2022-08-18 21:50:59,811.811] INFO [8631088640] - 127.0.0.1:59078 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:50:59,975.975] INFO [8631088640] - 127.0.0.1:59078 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:51:08,059.059] INFO [8631088640] - 127.0.0.1:59079 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:51:08,060.060] ERROR [8631088640] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    out_pt.write(content)
TypeError: write() argument must be str, not bytes
[2022-08-18 21:51:25,268.268] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:51:25,287.287] INFO [8631088640] - Shutting down
[2022-08-18 21:51:25,389.389] INFO [8631088640] - Waiting for application shutdown.
[2022-08-18 21:51:25,389.389] INFO [8631088640] - Application shutdown complete.
[2022-08-18 21:51:25,389.389] INFO [8631088640] - Finished server process [66908]
[2022-08-18 21:51:26,275.275] INFO [8660493824] - Started server process [66927]
[2022-08-18 21:51:26,275.275] INFO [8660493824] - Waiting for application startup.
[2022-08-18 21:51:26,275.275] INFO [8660493824] - Application startup complete.
[2022-08-18 21:51:29,408.408] INFO [8660493824] - 127.0.0.1:59084 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:51:29,518.518] INFO [8660493824] - 127.0.0.1:59084 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:51:34,278.278] INFO [8660493824] - 127.0.0.1:59084 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:51:34,279.279] ERROR [8660493824] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path, engine='pyxlsb')
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 34, in __init__
    super().__init__(filepath_or_buffer, storage_options=storage_options)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 518, in __init__
    self.book = self.load_workbook(self.handles.handle)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_pyxlsb.py", line 49, in load_workbook
    return open_workbook(filepath_or_buffer)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pyxlsb/__init__.py", line 10, in open_workbook
    zf = ZipFile(name, 'r')
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1257, in __init__
    self._RealGetContents()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/zipfile.py", line 1324, in _RealGetContents
    raise BadZipFile("File is not a zip file")
zipfile.BadZipFile: File is not a zip file
[2022-08-18 21:51:45,761.761] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:51:45,840.840] INFO [8660493824] - Shutting down
[2022-08-18 21:51:45,941.941] INFO [8660493824] - Waiting for application shutdown.
[2022-08-18 21:51:45,942.942] INFO [8660493824] - Application shutdown complete.
[2022-08-18 21:51:45,942.942] INFO [8660493824] - Finished server process [66927]
[2022-08-18 21:51:46,889.889] INFO [8599594496] - Started server process [66942]
[2022-08-18 21:51:46,890.890] INFO [8599594496] - Waiting for application startup.
[2022-08-18 21:51:46,890.890] INFO [8599594496] - Application startup complete.
[2022-08-18 21:51:47,357.357] INFO [8599594496] - 127.0.0.1:59089 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:51:47,496.496] INFO [8599594496] - 127.0.0.1:59089 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:51:52,076.076] INFO [8599594496] - 127.0.0.1:59089 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:51:52,077.077] ERROR [8599594496] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 56, in upload
    df = pd.read_excel(file_path)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1380, in __init__
    raise ValueError(
ValueError: Excel file format cannot be determined, you must specify an engine manually.
[2022-08-18 21:52:24,221.221] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:52:24,273.273] INFO [8599594496] - Shutting down
[2022-08-18 21:52:24,375.375] INFO [8599594496] - Waiting for application shutdown.
[2022-08-18 21:52:24,375.375] INFO [8599594496] - Application shutdown complete.
[2022-08-18 21:52:24,375.375] INFO [8599594496] - Finished server process [66942]
[2022-08-18 21:52:25,613.613] INFO [8601261568] - Started server process [66963]
[2022-08-18 21:52:25,614.614] INFO [8601261568] - Waiting for application startup.
[2022-08-18 21:52:25,614.614] INFO [8601261568] - Application startup complete.
[2022-08-18 21:54:14,668.668] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:54:14,680.680] INFO [8601261568] - Shutting down
[2022-08-18 21:54:14,782.782] INFO [8601261568] - Waiting for application shutdown.
[2022-08-18 21:54:14,784.784] INFO [8601261568] - Application shutdown complete.
[2022-08-18 21:54:14,784.784] INFO [8601261568] - Finished server process [66963]
[2022-08-18 21:54:15,615.615] INFO [8636110336] - Started server process [67013]
[2022-08-18 21:54:15,615.615] INFO [8636110336] - Waiting for application startup.
[2022-08-18 21:54:15,615.615] INFO [8636110336] - Application startup complete.
[2022-08-18 21:54:32,079.079] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:54:32,134.134] INFO [8636110336] - Shutting down
[2022-08-18 21:54:32,234.234] INFO [8636110336] - Waiting for application shutdown.
[2022-08-18 21:54:32,235.235] INFO [8636110336] - Application shutdown complete.
[2022-08-18 21:54:32,235.235] INFO [8636110336] - Finished server process [67013]
[2022-08-18 21:54:33,048.048] INFO [8597632512] - Started server process [67021]
[2022-08-18 21:54:33,049.049] INFO [8597632512] - Waiting for application startup.
[2022-08-18 21:54:33,049.049] INFO [8597632512] - Application startup complete.
[2022-08-18 21:54:51,383.383] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:54:51,395.395] INFO [8597632512] - Shutting down
[2022-08-18 21:54:51,497.497] INFO [8597632512] - Waiting for application shutdown.
[2022-08-18 21:54:51,498.498] INFO [8597632512] - Application shutdown complete.
[2022-08-18 21:54:51,498.498] INFO [8597632512] - Finished server process [67021]
[2022-08-18 21:54:52,409.409] INFO [8672531968] - Started server process [67025]
[2022-08-18 21:54:52,409.409] INFO [8672531968] - Waiting for application startup.
[2022-08-18 21:54:52,410.410] INFO [8672531968] - Application startup complete.
[2022-08-18 21:55:59,345.345] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:55:59,396.396] INFO [8672531968] - Shutting down
[2022-08-18 21:55:59,498.498] INFO [8672531968] - Waiting for application shutdown.
[2022-08-18 21:55:59,499.499] INFO [8672531968] - Application shutdown complete.
[2022-08-18 21:55:59,499.499] INFO [8672531968] - Finished server process [67025]
[2022-08-18 21:56:00,356.356] INFO [8633775616] - Started server process [67045]
[2022-08-18 21:56:00,357.357] INFO [8633775616] - Waiting for application startup.
[2022-08-18 21:56:00,357.357] INFO [8633775616] - Application startup complete.
[2022-08-18 21:56:02,916.916] INFO [8633775616] - 127.0.0.1:59329 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:56:03,147.147] INFO [8633775616] - 127.0.0.1:59329 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:56:08,348.348] INFO [8633775616] - 127.0.0.1:59330 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 21:56:08,349.349] ERROR [8633775616] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    out_pt.write(content)
TypeError: write() argument must be str, not bytes
[2022-08-18 21:58:30,316.316] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:58:30,352.352] INFO [8633775616] - Shutting down
[2022-08-18 21:58:30,455.455] INFO [8633775616] - Waiting for application shutdown.
[2022-08-18 21:58:30,458.458] INFO [8633775616] - Application shutdown complete.
[2022-08-18 21:58:30,459.459] INFO [8633775616] - Finished server process [67045]
[2022-08-18 21:58:31,623.623] INFO [8662050304] - Started server process [67094]
[2022-08-18 21:58:31,623.623] INFO [8662050304] - Waiting for application startup.
[2022-08-18 21:58:31,623.623] INFO [8662050304] - Application startup complete.
[2022-08-18 21:58:38,895.895] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 21:58:38,918.918] INFO [8662050304] - Shutting down
[2022-08-18 21:58:39,019.019] INFO [8662050304] - Waiting for application shutdown.
[2022-08-18 21:58:39,020.020] INFO [8662050304] - Application shutdown complete.
[2022-08-18 21:58:39,020.020] INFO [8662050304] - Finished server process [67094]
[2022-08-18 21:58:39,887.887] INFO [8633570816] - Started server process [67100]
[2022-08-18 21:58:39,887.887] INFO [8633570816] - Waiting for application startup.
[2022-08-18 21:58:39,887.887] INFO [8633570816] - Application startup complete.
[2022-08-18 21:58:42,008.008] INFO [8633570816] - 127.0.0.1:59350 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:58:42,218.218] INFO [8633570816] - 127.0.0.1:59350 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 21:59:55,453.453] INFO [8633570816] - 127.0.0.1:59364 - "GET /swagger HTTP/1.1" 200
[2022-08-18 21:59:55,576.576] INFO [8633570816] - 127.0.0.1:59364 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:00:04,471.471] INFO [8633570816] - 127.0.0.1:59365 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:00:04,589.589] INFO [8633570816] - 127.0.0.1:59365 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:00:10,706.706] INFO [8633570816] - 127.0.0.1:59368 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:00:10,707.707] ERROR [8633570816] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    out_pt.write(content)
TypeError: write() argument must be str, not bytes
[2022-08-18 22:01:26,906.906] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:01:26,998.998] INFO [8633570816] - Shutting down
[2022-08-18 22:01:27,100.100] INFO [8633570816] - Waiting for application shutdown.
[2022-08-18 22:01:27,101.101] INFO [8633570816] - Application shutdown complete.
[2022-08-18 22:01:27,101.101] INFO [8633570816] - Finished server process [67100]
[2022-08-18 22:01:28,210.210] INFO [8634721792] - Started server process [67140]
[2022-08-18 22:01:28,210.210] INFO [8634721792] - Waiting for application startup.
[2022-08-18 22:01:28,210.210] INFO [8634721792] - Application startup complete.
[2022-08-18 22:01:29,581.581] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:01:29,629.629] INFO [8634721792] - Shutting down
[2022-08-18 22:01:29,730.730] INFO [8634721792] - Waiting for application shutdown.
[2022-08-18 22:01:29,731.731] INFO [8634721792] - Application shutdown complete.
[2022-08-18 22:01:29,731.731] INFO [8634721792] - Finished server process [67140]
[2022-08-18 22:01:30,462.462] INFO [8600704512] - Started server process [67146]
[2022-08-18 22:01:30,462.462] INFO [8600704512] - Waiting for application startup.
[2022-08-18 22:01:30,462.462] INFO [8600704512] - Application startup complete.
[2022-08-18 22:01:31,359.359] INFO [8600704512] - 127.0.0.1:59373 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:01:31,525.525] INFO [8600704512] - 127.0.0.1:59373 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:01:35,895.895] INFO [8600704512] - 127.0.0.1:59373 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:01:35,895.895] ERROR [8600704512] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 47, in upload
    print(content.decode('utf-8'))
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa2 in position 15: invalid start byte
[2022-08-18 22:01:45,791.791] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:01:45,869.869] INFO [8600704512] - Shutting down
[2022-08-18 22:01:45,970.970] INFO [8600704512] - Waiting for application shutdown.
[2022-08-18 22:01:45,971.971] INFO [8600704512] - Application shutdown complete.
[2022-08-18 22:01:45,971.971] INFO [8600704512] - Finished server process [67146]
[2022-08-18 22:01:46,902.902] INFO [8633136640] - Started server process [67154]
[2022-08-18 22:01:46,902.902] INFO [8633136640] - Waiting for application startup.
[2022-08-18 22:01:46,902.902] INFO [8633136640] - Application startup complete.
[2022-08-18 22:02:14,517.517] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:02:14,561.561] INFO [8633136640] - Shutting down
[2022-08-18 22:02:14,663.663] INFO [8633136640] - Waiting for application shutdown.
[2022-08-18 22:02:14,664.664] INFO [8633136640] - Application shutdown complete.
[2022-08-18 22:02:14,664.664] INFO [8633136640] - Finished server process [67154]
[2022-08-18 22:02:15,551.551] INFO [8663524864] - Started server process [67169]
[2022-08-18 22:02:15,551.551] INFO [8663524864] - Waiting for application startup.
[2022-08-18 22:02:15,552.552] INFO [8663524864] - Application startup complete.
[2022-08-18 22:02:52,775.775] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:02:52,844.844] INFO [8663524864] - Shutting down
[2022-08-18 22:02:52,949.949] INFO [8663524864] - Waiting for application shutdown.
[2022-08-18 22:02:52,950.950] INFO [8663524864] - Application shutdown complete.
[2022-08-18 22:02:52,950.950] INFO [8663524864] - Finished server process [67169]
[2022-08-18 22:03:17,960.960] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:03:18,739.739] INFO [8668173824] - Started server process [67189]
[2022-08-18 22:03:18,740.740] INFO [8668173824] - Waiting for application startup.
[2022-08-18 22:03:18,740.740] INFO [8668173824] - Application startup complete.
[2022-08-18 22:04:21,073.073] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:04:21,090.090] INFO [8668173824] - Shutting down
[2022-08-18 22:04:21,193.193] INFO [8668173824] - Waiting for application shutdown.
[2022-08-18 22:04:21,198.198] INFO [8668173824] - Application shutdown complete.
[2022-08-18 22:04:21,199.199] INFO [8668173824] - Finished server process [67189]
[2022-08-18 22:04:22,147.147] INFO [8663152128] - Started server process [67214]
[2022-08-18 22:04:22,147.147] INFO [8663152128] - Waiting for application startup.
[2022-08-18 22:04:22,147.147] INFO [8663152128] - Application startup complete.
[2022-08-18 22:04:23,720.720] INFO [8663152128] - 127.0.0.1:59569 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:04:24,143.143] INFO [8663152128] - 127.0.0.1:59569 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:04:28,276.276] INFO [8663152128] - 127.0.0.1:59569 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:04:28,277.277] ERROR [8663152128] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    out_pt.write(str(content, 'UTF-8'))
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa2 in position 15: invalid start byte
[2022-08-18 22:05:04,579.579] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:05:04,609.609] INFO [8663152128] - Shutting down
[2022-08-18 22:05:04,712.712] INFO [8663152128] - Waiting for application shutdown.
[2022-08-18 22:05:04,712.712] INFO [8663152128] - Application shutdown complete.
[2022-08-18 22:05:04,713.713] INFO [8663152128] - Finished server process [67214]
[2022-08-18 22:05:05,751.751] INFO [8632055296] - Started server process [67233]
[2022-08-18 22:05:05,751.751] INFO [8632055296] - Waiting for application startup.
[2022-08-18 22:05:05,751.751] INFO [8632055296] - Application startup complete.
[2022-08-18 22:05:06,860.860] INFO [8632055296] - 127.0.0.1:59578 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:05:07,060.060] INFO [8632055296] - 127.0.0.1:59578 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:05:10,752.752] INFO [8632055296] - 127.0.0.1:59578 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:05:10,754.754] ERROR [8632055296] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 49, in upload
    out_pt.write(str(content, 'ASCII'))
UnicodeDecodeError: 'ascii' codec can't decode byte 0xa2 in position 15: ordinal not in range(128)
[2022-08-18 22:07:04,700.700] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:07:04,727.727] INFO [8632055296] - Shutting down
[2022-08-18 22:07:04,829.829] INFO [8632055296] - Waiting for application shutdown.
[2022-08-18 22:07:04,830.830] INFO [8632055296] - Application shutdown complete.
[2022-08-18 22:07:04,830.830] INFO [8632055296] - Finished server process [67233]
[2022-08-18 22:07:05,939.939] INFO [8642774528] - Started server process [67340]
[2022-08-18 22:07:05,940.940] INFO [8642774528] - Waiting for application startup.
[2022-08-18 22:07:05,940.940] INFO [8642774528] - Application startup complete.
[2022-08-18 22:07:36,055.055] INFO [8642774528] - 127.0.0.1:59664 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:07:36,246.246] INFO [8642774528] - 127.0.0.1:59664 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:07:40,076.076] INFO [8642774528] - 127.0.0.1:59664 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:07:40,077.077] ERROR [8642774528] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    print(content.decode())
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa2 in position 15: invalid start byte
[2022-08-18 22:08:18,001.001] INFO [8642774528] - 127.0.0.1:59665 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:08:18,103.103] INFO [8642774528] - 127.0.0.1:59665 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:17:52,128.128] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:17:52,181.181] INFO [8642774528] - Shutting down
[2022-08-18 22:17:52,283.283] INFO [8642774528] - Waiting for application shutdown.
[2022-08-18 22:17:52,283.283] INFO [8642774528] - Application shutdown complete.
[2022-08-18 22:17:52,283.283] INFO [8642774528] - Finished server process [67340]
[2022-08-18 22:17:53,176.176] INFO [8663512576] - Started server process [67458]
[2022-08-18 22:17:53,177.177] INFO [8663512576] - Waiting for application startup.
[2022-08-18 22:17:53,177.177] INFO [8663512576] - Application startup complete.
[2022-08-18 22:19:13,836.836] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:19:13,924.924] INFO [8663512576] - Shutting down
[2022-08-18 22:19:14,026.026] INFO [8663512576] - Waiting for application shutdown.
[2022-08-18 22:19:14,026.026] INFO [8663512576] - Application shutdown complete.
[2022-08-18 22:19:14,026.026] INFO [8663512576] - Finished server process [67458]
[2022-08-18 22:19:15,024.024] INFO [8636687872] - Started server process [67473]
[2022-08-18 22:19:15,025.025] INFO [8636687872] - Waiting for application startup.
[2022-08-18 22:19:15,025.025] INFO [8636687872] - Application startup complete.
[2022-08-18 22:19:23,229.229] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:19:23,233.233] INFO [8636687872] - Shutting down
[2022-08-18 22:19:23,335.335] INFO [8636687872] - Waiting for application shutdown.
[2022-08-18 22:19:23,335.335] INFO [8636687872] - Application shutdown complete.
[2022-08-18 22:19:23,335.335] INFO [8636687872] - Finished server process [67473]
[2022-08-18 22:19:24,118.118] INFO [8604706304] - Started server process [67482]
[2022-08-18 22:19:24,119.119] INFO [8604706304] - Waiting for application startup.
[2022-08-18 22:19:24,119.119] INFO [8604706304] - Application startup complete.
[2022-08-18 22:19:29,871.871] INFO [8604706304] - 127.0.0.1:59713 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:19:30,161.161] INFO [8604706304] - 127.0.0.1:59713 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:19:34,553.553] INFO [8604706304] - 127.0.0.1:59713 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:19:34,554.554] ERROR [8604706304] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 52, in upload
    ws = wb['SH']
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/openpyxl/workbook/workbook.py", line 288, in __getitem__
    raise KeyError("Worksheet {0} does not exist.".format(key))
KeyError: 'Worksheet SH does not exist.'
[2022-08-18 22:20:07,475.475] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:20:07,492.492] INFO [8604706304] - Shutting down
[2022-08-18 22:20:07,594.594] INFO [8604706304] - Waiting for application shutdown.
[2022-08-18 22:20:07,594.594] INFO [8604706304] - Application shutdown complete.
[2022-08-18 22:20:07,594.594] INFO [8604706304] - Finished server process [67482]
[2022-08-18 22:20:08,788.788] INFO [8600897024] - Started server process [67491]
[2022-08-18 22:20:08,789.789] INFO [8600897024] - Waiting for application startup.
[2022-08-18 22:20:08,789.789] INFO [8600897024] - Application startup complete.
[2022-08-18 22:20:08,790.790] INFO [8600897024] - 127.0.0.1:59718 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:20:08,976.976] INFO [8600897024] - 127.0.0.1:59718 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:20:13,631.631] INFO [8600897024] - 127.0.0.1:59718 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:20:13,631.631] ERROR [8600897024] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    out_pt.write(str(content, 'ASCII'))
UnicodeDecodeError: 'ascii' codec can't decode byte 0xa2 in position 15: ordinal not in range(128)
[2022-08-18 22:20:51,315.315] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:20:51,346.346] INFO [8600897024] - Shutting down
[2022-08-18 22:20:51,449.449] INFO [8600897024] - Waiting for application shutdown.
[2022-08-18 22:20:51,452.452] INFO [8600897024] - Application shutdown complete.
[2022-08-18 22:20:51,453.453] INFO [8600897024] - Finished server process [67491]
[2022-08-18 22:23:23,316.316] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:23:24,136.136] INFO [8665503232] - Started server process [67573]
[2022-08-18 22:23:24,136.136] INFO [8665503232] - Waiting for application startup.
[2022-08-18 22:23:24,136.136] INFO [8665503232] - Application startup complete.
[2022-08-18 22:23:39,171.171] INFO [8665503232] - 127.0.0.1:59779 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:23:39,173.173] ERROR [8665503232] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 48, in upload
    out_pt.write(content)
TypeError: write() argument must be str, not bytes
[2022-08-18 22:25:23,533.533] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:25:23,608.608] INFO [8665503232] - Shutting down
[2022-08-18 22:25:23,710.710] INFO [8665503232] - Waiting for application shutdown.
[2022-08-18 22:25:23,710.710] INFO [8665503232] - Application shutdown complete.
[2022-08-18 22:25:23,710.710] INFO [8665503232] - Finished server process [67573]
[2022-08-18 22:25:24,548.548] INFO [8591951360] - Started server process [67668]
[2022-08-18 22:25:24,548.548] INFO [8591951360] - Waiting for application startup.
[2022-08-18 22:25:24,548.548] INFO [8591951360] - Application startup complete.
[2022-08-18 22:25:32,275.275] INFO [8591951360] - 127.0.0.1:59787 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 22:27:20,110.110] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:27:20,205.205] INFO [8591951360] - Shutting down
[2022-08-18 22:27:20,308.308] INFO [8591951360] - Waiting for application shutdown.
[2022-08-18 22:27:20,311.311] INFO [8591951360] - Application shutdown complete.
[2022-08-18 22:27:20,312.312] INFO [8591951360] - Finished server process [67668]
[2022-08-18 22:27:21,205.205] INFO [8660895232] - Started server process [67698]
[2022-08-18 22:27:21,205.205] INFO [8660895232] - Waiting for application startup.
[2022-08-18 22:27:21,206.206] INFO [8660895232] - Application startup complete.
[2022-08-18 22:31:13,250.250] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:31:13,288.288] INFO [8660895232] - Shutting down
[2022-08-18 22:31:13,390.390] INFO [8660895232] - Waiting for application shutdown.
[2022-08-18 22:31:13,390.390] INFO [8660895232] - Application shutdown complete.
[2022-08-18 22:31:13,391.391] INFO [8660895232] - Finished server process [67698]
[2022-08-18 22:31:14,287.287] INFO [8607684096] - Started server process [67742]
[2022-08-18 22:31:14,287.287] INFO [8607684096] - Waiting for application startup.
[2022-08-18 22:31:14,287.287] INFO [8607684096] - Application startup complete.
[2022-08-18 22:31:17,005.005] INFO [8607684096] - 127.0.0.1:59795 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:31:17,302.302] INFO [8607684096] - 127.0.0.1:59795 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:31:22,009.009] INFO [8607684096] - 127.0.0.1:59795 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:31:22,010.010] ERROR [8607684096] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1376, in __init__
    ext = inspect_excel_format(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1259, in inspect_excel_format
    assert isinstance(buf, bytes)
AssertionError
[2022-08-18 22:32:58,176.176] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:32:58,191.191] INFO [8607684096] - Shutting down
[2022-08-18 22:32:58,297.297] INFO [8607684096] - Waiting for application shutdown.
[2022-08-18 22:32:58,297.297] INFO [8607684096] - Application shutdown complete.
[2022-08-18 22:32:58,298.298] INFO [8607684096] - Finished server process [67742]
[2022-08-18 22:32:59,125.125] INFO [8625403392] - Started server process [67780]
[2022-08-18 22:32:59,125.125] INFO [8625403392] - Waiting for application startup.
[2022-08-18 22:32:59,125.125] INFO [8625403392] - Application startup complete.
[2022-08-18 22:33:00,754.754] INFO [8625403392] - 127.0.0.1:59816 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:33:00,984.984] INFO [8625403392] - 127.0.0.1:59816 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:33:05,157.157] INFO [8625403392] - 127.0.0.1:59816 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-18 22:33:05,158.158] ERROR [8625403392] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 54, in upload
    df = pd.read_excel(file.read())
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1376, in __init__
    ext = inspect_excel_format(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/excel/_base.py", line 1250, in inspect_excel_format
    with get_handle(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/common.py", line 667, in get_handle
    ioargs = _get_filepath_or_buffer(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/common.py", line 424, in _get_filepath_or_buffer
    raise ValueError(msg)
ValueError: Invalid file path or buffer object type: <class 'coroutine'>
[2022-08-18 22:34:13,001.001] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 22:34:13,028.028] INFO [8625403392] - Shutting down
[2022-08-18 22:34:13,130.130] INFO [8625403392] - Waiting for application shutdown.
[2022-08-18 22:34:13,130.130] INFO [8625403392] - Application shutdown complete.
[2022-08-18 22:34:13,130.130] INFO [8625403392] - Finished server process [67780]
[2022-08-18 22:34:14,009.009] INFO [8629814784] - Started server process [67800]
[2022-08-18 22:34:14,010.010] INFO [8629814784] - Waiting for application startup.
[2022-08-18 22:34:14,010.010] INFO [8629814784] - Application startup complete.
[2022-08-18 22:34:15,986.986] INFO [8629814784] - 127.0.0.1:59822 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:34:16,163.163] INFO [8629814784] - 127.0.0.1:59822 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:34:16,336.336] INFO [8629814784] - 127.0.0.1:59822 - "GET /swagger HTTP/1.1" 200
[2022-08-18 22:34:16,411.411] INFO [8629814784] - 127.0.0.1:59822 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 22:34:20,060.060] INFO [8629814784] - 127.0.0.1:59822 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 23:27:41,610.610] INFO [8629814784] - 127.0.0.1:59977 - "GET /swagger HTTP/1.1" 200
[2022-08-18 23:27:41,806.806] INFO [8629814784] - 127.0.0.1:59977 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 23:27:47,325.325] INFO [8629814784] - 127.0.0.1:59978 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 23:28:17,016.016] INFO [8629814784] - 127.0.0.1:60005 - "GET /swagger HTTP/1.1" 200
[2022-08-18 23:28:17,169.169] INFO [8629814784] - 127.0.0.1:60005 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 23:28:33,257.257] INFO [8629814784] - 127.0.0.1:60006 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 23:31:25,758.758] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 23:31:25,851.851] INFO [8629814784] - Shutting down
[2022-08-18 23:31:25,953.953] INFO [8629814784] - Waiting for application shutdown.
[2022-08-18 23:31:25,954.954] INFO [8629814784] - Application shutdown complete.
[2022-08-18 23:31:25,954.954] INFO [8629814784] - Finished server process [67800]
[2022-08-18 23:31:26,818.818] INFO [8632301056] - Started server process [68414]
[2022-08-18 23:31:26,818.818] INFO [8632301056] - Waiting for application startup.
[2022-08-18 23:31:26,818.818] INFO [8632301056] - Application startup complete.
[2022-08-18 23:32:02,423.423] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-18 23:32:02,479.479] INFO [8632301056] - Shutting down
[2022-08-18 23:32:02,580.580] INFO [8632301056] - Waiting for application shutdown.
[2022-08-18 23:32:02,581.581] INFO [8632301056] - Application shutdown complete.
[2022-08-18 23:32:02,581.581] INFO [8632301056] - Finished server process [68414]
[2022-08-18 23:32:03,412.412] INFO [8598668800] - Started server process [68424]
[2022-08-18 23:32:03,413.413] INFO [8598668800] - Waiting for application startup.
[2022-08-18 23:32:03,413.413] INFO [8598668800] - Application startup complete.
[2022-08-18 23:32:05,714.714] INFO [8598668800] - 127.0.0.1:60044 - "GET /swagger HTTP/1.1" 200
[2022-08-18 23:32:05,984.984] INFO [8598668800] - 127.0.0.1:60044 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 23:32:13,122.122] INFO [8598668800] - 127.0.0.1:60045 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 23:32:31,762.762] INFO [8598668800] - 127.0.0.1:60056 - "GET /swagger HTTP/1.1" 200
[2022-08-18 23:32:31,886.886] INFO [8598668800] - 127.0.0.1:60056 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 23:32:37,326.326] INFO [8598668800] - 127.0.0.1:60057 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-18 23:34:47,869.869] INFO [8598668800] - 127.0.0.1:60075 - "GET /swagger HTTP/1.1" 200
[2022-08-18 23:34:48,726.726] INFO [8598668800] - 127.0.0.1:60075 - "GET /openapi.json HTTP/1.1" 200
[2022-08-18 23:50:57,125.125] INFO [8598668800] - 127.0.0.1:60265 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:21:33,238.238] WARNING [8675358208] - StatReload detected changes in 'database/models.py'. Reloading...
[2022-08-19 00:21:33,335.335] INFO [8598668800] - Shutting down
[2022-08-19 00:21:33,437.437] INFO [8598668800] - Waiting for application shutdown.
[2022-08-19 00:21:33,438.438] INFO [8598668800] - Application shutdown complete.
[2022-08-19 00:21:33,438.438] INFO [8598668800] - Finished server process [68424]
[2022-08-19 00:21:34,259.259] INFO [8673281536] - Started server process [69517]
[2022-08-19 00:21:34,259.259] INFO [8673281536] - Waiting for application startup.
[2022-08-19 00:21:34,259.259] INFO [8673281536] - Application startup complete.
[2022-08-19 00:21:44,762.762] WARNING [8675358208] - StatReload detected changes in 'database/models.py'. Reloading...
[2022-08-19 00:21:44,798.798] INFO [8673281536] - Shutting down
[2022-08-19 00:21:44,900.900] INFO [8673281536] - Waiting for application shutdown.
[2022-08-19 00:21:44,901.901] INFO [8673281536] - Application shutdown complete.
[2022-08-19 00:21:44,901.901] INFO [8673281536] - Finished server process [69517]
[2022-08-19 00:21:45,575.575] INFO [8609674752] - Started server process [69531]
[2022-08-19 00:21:45,575.575] INFO [8609674752] - Waiting for application startup.
[2022-08-19 00:21:45,576.576] INFO [8609674752] - Application startup complete.
[2022-08-19 00:22:55,560.560] WARNING [8675358208] - StatReload detected changes in 'database/models.py'. Reloading...
[2022-08-19 00:22:55,563.563] INFO [8609674752] - Shutting down
[2022-08-19 00:22:55,665.665] INFO [8609674752] - Waiting for application shutdown.
[2022-08-19 00:22:55,665.665] INFO [8609674752] - Application shutdown complete.
[2022-08-19 00:22:55,665.665] INFO [8609674752] - Finished server process [69531]
[2022-08-19 00:22:56,435.435] INFO [8626525696] - Started server process [69552]
[2022-08-19 00:22:56,435.435] INFO [8626525696] - Waiting for application startup.
[2022-08-19 00:22:56,435.435] INFO [8626525696] - Application startup complete.
[2022-08-19 00:23:33,947.947] INFO [8626525696] - 127.0.0.1:60427 - "GET /swagger HTTP/1.1" 200
[2022-08-19 00:23:33,970.970] INFO [8626525696] - 127.0.0.1:60427 - "GET /favicon.ico HTTP/1.1" 404
[2022-08-19 00:23:34,267.267] INFO [8626525696] - 127.0.0.1:60427 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:23:42,471.471] INFO [8626525696] - 127.0.0.1:60429 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 00:24:08,932.932] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:24:09,029.029] INFO [8626525696] - Shutting down
[2022-08-19 00:24:09,131.131] INFO [8626525696] - Waiting for application shutdown.
[2022-08-19 00:24:09,131.131] INFO [8626525696] - Application shutdown complete.
[2022-08-19 00:24:09,131.131] INFO [8626525696] - Finished server process [69552]
[2022-08-19 00:24:10,009.009] INFO [8634746368] - Started server process [69582]
[2022-08-19 00:24:10,010.010] INFO [8634746368] - Waiting for application startup.
[2022-08-19 00:24:10,010.010] INFO [8634746368] - Application startup complete.
[2022-08-19 00:26:21,821.821] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:26:21,909.909] INFO [8634746368] - Shutting down
[2022-08-19 00:26:22,011.011] INFO [8634746368] - Waiting for application shutdown.
[2022-08-19 00:26:22,011.011] INFO [8634746368] - Application shutdown complete.
[2022-08-19 00:26:22,012.012] INFO [8634746368] - Finished server process [69582]
[2022-08-19 00:27:00,453.453] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:27:22,629.629] WARNING [8675358208] - StatReload detected changes in 'database/database.py'. Reloading...
[2022-08-19 00:27:23,274.274] INFO [8635442688] - Started server process [69647]
[2022-08-19 00:27:23,275.275] INFO [8635442688] - Waiting for application startup.
[2022-08-19 00:27:23,275.275] INFO [8635442688] - Application startup complete.
[2022-08-19 00:27:28,923.923] INFO [8635442688] - 127.0.0.1:60438 - "GET /swagger HTTP/1.1" 200
[2022-08-19 00:27:29,079.079] INFO [8635442688] - 127.0.0.1:60438 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:30:16,380.380] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:30:16,447.447] INFO [8635442688] - Shutting down
[2022-08-19 00:30:16,548.548] INFO [8635442688] - Waiting for application shutdown.
[2022-08-19 00:30:16,548.548] INFO [8635442688] - Application shutdown complete.
[2022-08-19 00:30:16,549.549] INFO [8635442688] - Finished server process [69647]
[2022-08-19 00:31:23,610.610] WARNING [8675358208] - StatReload detected changes in 'database/database.py'. Reloading...
[2022-08-19 00:33:25,240.240] WARNING [8675358208] - StatReload detected changes in 'database/models.py'. Reloading...
[2022-08-19 00:36:18,401.401] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:36:46,078.078] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:37:12,979.979] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:37:26,786.786] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:38:02,610.610] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:38:20,572.572] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:38:30,994.994] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:38:54,997.997] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:39:10,396.396] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:39:36,469.469] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:40:01,850.850] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:40:50,905.905] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:41:09,170.170] WARNING [8675358208] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-19 00:43:17,411.411] WARNING [8675358208] - StatReload detected changes in 'db/models.py'. Reloading...
[2022-08-19 00:44:46,529.529] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:02,148.148] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:09,191.191] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:19,642.642] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:38,202.202] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:43,407.407] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:45:44,099.099] INFO [8636655104] - Started server process [70042]
[2022-08-19 00:45:44,099.099] INFO [8636655104] - Waiting for application startup.
[2022-08-19 00:45:44,099.099] INFO [8636655104] - Application startup complete.
[2022-08-19 00:46:02,671.671] INFO [8636655104] - 127.0.0.1:60479 - "GET /swagger HTTP/1.1" 200
[2022-08-19 00:46:02,793.793] INFO [8636655104] - 127.0.0.1:60479 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:46:08,110.110] INFO [8636655104] - 127.0.0.1:60479 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 00:50:17,898.898] INFO [8636655104] - 127.0.0.1:60493 - "GET /swagger HTTP/1.1" 200
[2022-08-19 00:50:17,994.994] INFO [8636655104] - 127.0.0.1:60493 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:50:31,257.257] INFO [8636655104] - 127.0.0.1:60494 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-19 00:50:31,257.257] ERROR [8636655104] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 61, in upload
    df.to_sql('data_2', engine)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/core/generic.py", line 2951, in to_sql
    return sql.to_sql(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 697, in to_sql
    return pandas_sql.to_sql(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1729, in to_sql
    table = self.prep_table(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1628, in prep_table
    table.create()
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 833, in create
    raise ValueError(f"Table '{self.name}' already exists.")
ValueError: Table 'data_2' already exists.
[2022-08-19 00:51:10,494.494] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 00:51:10,592.592] INFO [8636655104] - Shutting down
[2022-08-19 00:51:10,694.694] INFO [8636655104] - Waiting for application shutdown.
[2022-08-19 00:51:10,694.694] INFO [8636655104] - Application shutdown complete.
[2022-08-19 00:51:10,694.694] INFO [8636655104] - Finished server process [70042]
[2022-08-19 00:51:11,586.586] INFO [8606623232] - Started server process [70158]
[2022-08-19 00:51:11,586.586] INFO [8606623232] - Waiting for application startup.
[2022-08-19 00:51:11,586.586] INFO [8606623232] - Application startup complete.
[2022-08-19 00:51:14,659.659] INFO [8606623232] - 127.0.0.1:60501 - "GET /swagger HTTP/1.1" 200
[2022-08-19 00:51:14,764.764] INFO [8606623232] - 127.0.0.1:60501 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 00:51:19,094.094] INFO [8606623232] - 127.0.0.1:60501 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 09:47:35,814.814] INFO [8606623232] - 127.0.0.1:60959 - "GET /swagger HTTP/1.1" 200
[2022-08-19 09:47:36,006.006] INFO [8606623232] - 127.0.0.1:60959 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 09:47:54,173.173] INFO [8606623232] - 127.0.0.1:60960 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 11:21:53,273.273] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 11:21:53,313.313] INFO [8606623232] - Shutting down
[2022-08-19 11:21:53,415.415] INFO [8606623232] - Waiting for application shutdown.
[2022-08-19 11:21:53,416.416] INFO [8606623232] - Application shutdown complete.
[2022-08-19 11:21:53,417.417] INFO [8606623232] - Finished server process [70158]
[2022-08-19 11:21:58,808.808] INFO [8606209536] - Started server process [71852]
[2022-08-19 11:21:58,808.808] INFO [8606209536] - Waiting for application startup.
[2022-08-19 11:21:58,808.808] INFO [8606209536] - Application startup complete.
[2022-08-19 11:21:58,938.938] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 11:21:59,011.011] INFO [8606209536] - Shutting down
[2022-08-19 11:21:59,112.112] INFO [8606209536] - Waiting for application shutdown.
[2022-08-19 11:21:59,113.113] INFO [8606209536] - Application shutdown complete.
[2022-08-19 11:21:59,113.113] INFO [8606209536] - Finished server process [71852]
[2022-08-19 11:21:59,907.907] INFO [8635172352] - Started server process [71857]
[2022-08-19 11:21:59,908.908] INFO [8635172352] - Waiting for application startup.
[2022-08-19 11:21:59,908.908] INFO [8635172352] - Application startup complete.
[2022-08-19 11:25:01,370.370] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 11:25:01,428.428] INFO [8635172352] - Shutting down
[2022-08-19 11:25:01,530.530] INFO [8635172352] - Waiting for application shutdown.
[2022-08-19 11:25:01,530.530] INFO [8635172352] - Application shutdown complete.
[2022-08-19 11:25:01,530.530] INFO [8635172352] - Finished server process [71857]
[2022-08-19 11:25:02,475.475] INFO [8669017600] - Started server process [71999]
[2022-08-19 11:25:02,475.475] INFO [8669017600] - Waiting for application startup.
[2022-08-19 11:25:02,476.476] INFO [8669017600] - Application startup complete.
[2022-08-19 11:26:04,004.004] INFO [8669017600] - 127.0.0.1:61569 - "GET /swagger HTTP/1.1" 200
[2022-08-19 11:26:04,228.228] INFO [8669017600] - 127.0.0.1:61569 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 11:26:13,977.977] INFO [8669017600] - 127.0.0.1:61570 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 11:32:03,941.941] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 11:32:03,983.983] INFO [8669017600] - Shutting down
[2022-08-19 11:32:04,089.089] INFO [8669017600] - Waiting for application shutdown.
[2022-08-19 11:32:04,094.094] INFO [8669017600] - Application shutdown complete.
[2022-08-19 11:32:04,094.094] INFO [8669017600] - Finished server process [71999]
[2022-08-19 11:32:04,991.991] INFO [8601310720] - Started server process [72112]
[2022-08-19 11:32:04,992.992] INFO [8601310720] - Waiting for application startup.
[2022-08-19 11:32:04,992.992] INFO [8601310720] - Application startup complete.
[2022-08-19 11:47:28,808.808] WARNING [8675358208] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-19 11:47:28,871.871] INFO [8601310720] - Shutting down
[2022-08-19 11:47:28,974.974] INFO [8601310720] - Waiting for application shutdown.
[2022-08-19 11:47:28,975.975] INFO [8601310720] - Application shutdown complete.
[2022-08-19 11:47:28,975.975] INFO [8601310720] - Finished server process [72112]
[2022-08-19 11:47:29,843.843] INFO [8607663616] - Started server process [72259]
[2022-08-19 11:47:29,843.843] INFO [8607663616] - Waiting for application startup.
[2022-08-19 11:47:29,843.843] INFO [8607663616] - Application startup complete.
[2022-08-19 11:47:57,277.277] WARNING [8675358208] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-19 11:47:57,281.281] INFO [8607663616] - Shutting down
[2022-08-19 11:47:57,383.383] INFO [8607663616] - Waiting for application shutdown.
[2022-08-19 11:47:57,383.383] INFO [8607663616] - Application shutdown complete.
[2022-08-19 11:47:57,383.383] INFO [8607663616] - Finished server process [72259]
[2022-08-19 11:47:58,257.257] INFO [8627766784] - Started server process [72279]
[2022-08-19 11:47:58,258.258] INFO [8627766784] - Waiting for application startup.
[2022-08-19 11:47:58,258.258] INFO [8627766784] - Application startup complete.
[2022-08-19 11:48:26,255.255] WARNING [8675358208] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-19 11:48:26,333.333] INFO [8627766784] - Shutting down
[2022-08-19 11:48:26,446.446] INFO [8627766784] - Waiting for application shutdown.
[2022-08-19 11:48:26,461.461] INFO [8627766784] - Application shutdown complete.
[2022-08-19 11:48:26,461.461] INFO [8627766784] - Finished server process [72279]
[2022-08-19 11:48:27,352.352] INFO [8610395648] - Started server process [72361]
[2022-08-19 11:48:27,352.352] INFO [8610395648] - Waiting for application startup.
[2022-08-19 11:48:27,353.353] INFO [8610395648] - Application startup complete.
[2022-08-19 12:15:34,568.568] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:15:34,641.641] INFO [8610395648] - Shutting down
[2022-08-19 12:15:34,743.743] INFO [8610395648] - Waiting for application shutdown.
[2022-08-19 12:15:34,744.744] INFO [8610395648] - Application shutdown complete.
[2022-08-19 12:15:34,744.744] INFO [8610395648] - Finished server process [72361]
[2022-08-19 12:15:35,842.842] INFO [8594941440] - Started server process [72603]
[2022-08-19 12:15:35,842.842] INFO [8594941440] - Waiting for application startup.
[2022-08-19 12:15:35,843.843] INFO [8594941440] - Application startup complete.
[2022-08-19 12:15:42,955.955] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:15:43,040.040] INFO [8594941440] - Shutting down
[2022-08-19 12:15:43,141.141] INFO [8594941440] - Waiting for application shutdown.
[2022-08-19 12:15:43,142.142] INFO [8594941440] - Application shutdown complete.
[2022-08-19 12:15:43,142.142] INFO [8594941440] - Finished server process [72603]
[2022-08-19 12:15:43,981.981] INFO [8640210432] - Started server process [72615]
[2022-08-19 12:15:43,981.981] INFO [8640210432] - Waiting for application startup.
[2022-08-19 12:15:43,981.981] INFO [8640210432] - Application startup complete.
[2022-08-19 12:16:05,588.588] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:16:05,655.655] INFO [8640210432] - Shutting down
[2022-08-19 12:16:05,757.757] INFO [8640210432] - Waiting for application shutdown.
[2022-08-19 12:16:05,758.758] INFO [8640210432] - Application shutdown complete.
[2022-08-19 12:16:05,758.758] INFO [8640210432] - Finished server process [72615]
[2022-08-19 12:18:44,518.518] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:18:45,336.336] INFO [8595334656] - Started server process [72727]
[2022-08-19 12:18:45,336.336] INFO [8595334656] - Waiting for application startup.
[2022-08-19 12:18:45,336.336] INFO [8595334656] - Application startup complete.
[2022-08-19 12:18:45,337.337] INFO [8595334656] - 127.0.0.1:61758 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:18:45,515.515] INFO [8595334656] - 127.0.0.1:61758 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:19:09,313.313] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:19:09,345.345] INFO [8595334656] - Shutting down
[2022-08-19 12:19:09,446.446] INFO [8595334656] - Waiting for application shutdown.
[2022-08-19 12:19:09,446.446] INFO [8595334656] - Application shutdown complete.
[2022-08-19 12:19:09,446.446] INFO [8595334656] - Finished server process [72727]
[2022-08-19 12:19:10,421.421] INFO [8626206208] - Started server process [72737]
[2022-08-19 12:19:10,422.422] INFO [8626206208] - Waiting for application startup.
[2022-08-19 12:19:10,422.422] INFO [8626206208] - Application startup complete.
[2022-08-19 12:19:23,824.824] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:19:23,911.911] INFO [8626206208] - Shutting down
[2022-08-19 12:19:24,012.012] INFO [8626206208] - Waiting for application shutdown.
[2022-08-19 12:19:24,013.013] INFO [8626206208] - Application shutdown complete.
[2022-08-19 12:19:24,013.013] INFO [8626206208] - Finished server process [72737]
[2022-08-19 12:19:24,949.949] INFO [8590792192] - Started server process [72746]
[2022-08-19 12:19:24,950.950] INFO [8590792192] - Waiting for application startup.
[2022-08-19 12:19:24,950.950] INFO [8590792192] - Application startup complete.
[2022-08-19 12:20:11,030.030] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:20:11,062.062] INFO [8590792192] - Shutting down
[2022-08-19 12:20:11,163.163] INFO [8590792192] - Waiting for application shutdown.
[2022-08-19 12:20:11,164.164] INFO [8590792192] - Application shutdown complete.
[2022-08-19 12:20:11,164.164] INFO [8590792192] - Finished server process [72746]
[2022-08-19 12:20:12,148.148] INFO [8665622016] - Started server process [72761]
[2022-08-19 12:20:12,149.149] INFO [8665622016] - Waiting for application startup.
[2022-08-19 12:20:12,149.149] INFO [8665622016] - Application startup complete.
[2022-08-19 12:20:15,938.938] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:20:15,994.994] INFO [8665622016] - Shutting down
[2022-08-19 12:20:16,096.096] INFO [8665622016] - Waiting for application shutdown.
[2022-08-19 12:20:16,096.096] INFO [8665622016] - Application shutdown complete.
[2022-08-19 12:20:16,096.096] INFO [8665622016] - Finished server process [72761]
[2022-08-19 12:20:17,105.105] INFO [8673867264] - Started server process [72770]
[2022-08-19 12:20:17,105.105] INFO [8673867264] - Waiting for application startup.
[2022-08-19 12:20:17,105.105] INFO [8673867264] - Application startup complete.
[2022-08-19 12:20:17,989.989] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:20:18,017.017] INFO [8673867264] - Shutting down
[2022-08-19 12:20:18,118.118] INFO [8673867264] - Waiting for application shutdown.
[2022-08-19 12:20:18,118.118] INFO [8673867264] - Application shutdown complete.
[2022-08-19 12:20:18,118.118] INFO [8673867264] - Finished server process [72770]
[2022-08-19 12:20:18,921.921] INFO [8598808064] - Started server process [72774]
[2022-08-19 12:20:18,922.922] INFO [8598808064] - Waiting for application startup.
[2022-08-19 12:20:18,922.922] INFO [8598808064] - Application startup complete.
[2022-08-19 12:20:21,771.771] INFO [8598808064] - 127.0.0.1:61780 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:20:21,959.959] INFO [8598808064] - 127.0.0.1:61780 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:20:28,903.903] INFO [8598808064] - 127.0.0.1:61781 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 12:20:52,385.385] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:20:52,412.412] INFO [8598808064] - Shutting down
[2022-08-19 12:20:52,513.513] INFO [8598808064] - Waiting for application shutdown.
[2022-08-19 12:20:52,513.513] INFO [8598808064] - Application shutdown complete.
[2022-08-19 12:20:52,513.513] INFO [8598808064] - Finished server process [72774]
[2022-08-19 12:20:53,500.500] INFO [8596219392] - Started server process [72782]
[2022-08-19 12:20:53,501.501] INFO [8596219392] - Waiting for application startup.
[2022-08-19 12:20:53,501.501] INFO [8596219392] - Application startup complete.
[2022-08-19 12:21:34,303.303] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:21:34,306.306] INFO [8596219392] - Shutting down
[2022-08-19 12:21:34,407.407] INFO [8596219392] - Waiting for application shutdown.
[2022-08-19 12:21:34,408.408] INFO [8596219392] - Application shutdown complete.
[2022-08-19 12:21:34,408.408] INFO [8596219392] - Finished server process [72782]
[2022-08-19 12:21:35,358.358] INFO [8669873664] - Started server process [72809]
[2022-08-19 12:21:35,359.359] INFO [8669873664] - Waiting for application startup.
[2022-08-19 12:21:35,359.359] INFO [8669873664] - Application startup complete.
[2022-08-19 12:22:14,671.671] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:22:14,769.769] INFO [8669873664] - Shutting down
[2022-08-19 12:22:14,871.871] INFO [8669873664] - Waiting for application shutdown.
[2022-08-19 12:22:14,871.871] INFO [8669873664] - Application shutdown complete.
[2022-08-19 12:22:14,871.871] INFO [8669873664] - Finished server process [72809]
[2022-08-19 12:22:15,784.784] INFO [8674711040] - Started server process [72824]
[2022-08-19 12:22:15,784.784] INFO [8674711040] - Waiting for application startup.
[2022-08-19 12:22:15,784.784] INFO [8674711040] - Application startup complete.
[2022-08-19 12:22:22,082.082] INFO [8674711040] - 127.0.0.1:61793 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:22:22,210.210] INFO [8674711040] - 127.0.0.1:61793 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:22:26,600.600] INFO [8674711040] - 127.0.0.1:61793 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-19 12:22:26,600.600] ERROR [8674711040] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "example_data.xlsx" does not exist
LINE 1: SELECT * FROM example_data.xlsx
                      ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 68, in upload
    df = pd.read_sql(f"SELECT * FROM {f'{str(file.filename)}'}", conn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 592, in read_sql
    return pandas_sql.read_query(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1557, in read_query
    result = self.execute(*args)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1402, in execute
    return self.connectable.execution_options().execute(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "example_data.xlsx" does not exist
LINE 1: SELECT * FROM example_data.xlsx
                      ^

[SQL: SELECT * FROM example_data.xlsx]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-19 12:23:01,166.166] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:23:01,214.214] INFO [8674711040] - Shutting down
[2022-08-19 12:23:01,316.316] INFO [8674711040] - Waiting for application shutdown.
[2022-08-19 12:23:01,316.316] INFO [8674711040] - Application shutdown complete.
[2022-08-19 12:23:01,316.316] INFO [8674711040] - Finished server process [72824]
[2022-08-19 12:23:02,293.293] INFO [8663332352] - Started server process [72837]
[2022-08-19 12:23:02,293.293] INFO [8663332352] - Waiting for application startup.
[2022-08-19 12:23:02,293.293] INFO [8663332352] - Application startup complete.
[2022-08-19 12:23:03,028.028] INFO [8663332352] - 127.0.0.1:61803 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:23:03,130.130] INFO [8663332352] - 127.0.0.1:61803 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:23:08,405.405] INFO [8663332352] - 127.0.0.1:61803 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-19 12:23:08,405.405] ERROR [8663332352] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "example_data.xlsx" does not exist
LINE 1: SELECT * FROM example_data.xlsx;
                      ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 68, in upload
    df = pd.read_sql(f"SELECT * FROM {str(file.filename)};", conn)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 592, in read_sql
    return pandas_sql.read_query(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1557, in read_query
    result = self.execute(*args)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1402, in execute
    return self.connectable.execution_options().execute(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "example_data.xlsx" does not exist
LINE 1: SELECT * FROM example_data.xlsx;
                      ^

[SQL: SELECT * FROM example_data.xlsx;]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-19 12:23:47,602.602] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:23:47,658.658] INFO [8663332352] - Shutting down
[2022-08-19 12:23:47,759.759] INFO [8663332352] - Waiting for application shutdown.
[2022-08-19 12:23:47,759.759] INFO [8663332352] - Application shutdown complete.
[2022-08-19 12:23:47,759.759] INFO [8663332352] - Finished server process [72837]
[2022-08-19 12:23:48,726.726] INFO [8665728512] - Started server process [72854]
[2022-08-19 12:23:48,727.727] INFO [8665728512] - Waiting for application startup.
[2022-08-19 12:23:48,727.727] INFO [8665728512] - Application startup complete.
[2022-08-19 12:24:22,535.535] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:24:22,574.574] INFO [8665728512] - Shutting down
[2022-08-19 12:24:22,675.675] INFO [8665728512] - Waiting for application shutdown.
[2022-08-19 12:24:22,676.676] INFO [8665728512] - Application shutdown complete.
[2022-08-19 12:24:22,676.676] INFO [8665728512] - Finished server process [72854]
[2022-08-19 12:24:23,658.658] INFO [8668489216] - Started server process [72870]
[2022-08-19 12:24:23,659.659] INFO [8668489216] - Waiting for application startup.
[2022-08-19 12:24:23,659.659] INFO [8668489216] - Application startup complete.
[2022-08-19 12:24:31,376.376] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:24:31,455.455] INFO [8668489216] - Shutting down
[2022-08-19 12:24:31,556.556] INFO [8668489216] - Waiting for application shutdown.
[2022-08-19 12:24:31,557.557] INFO [8668489216] - Application shutdown complete.
[2022-08-19 12:24:31,557.557] INFO [8668489216] - Finished server process [72870]
[2022-08-19 12:24:32,398.398] INFO [8604444160] - Started server process [72878]
[2022-08-19 12:24:32,399.399] INFO [8604444160] - Waiting for application startup.
[2022-08-19 12:24:32,399.399] INFO [8604444160] - Application startup complete.
[2022-08-19 12:25:13,149.149] INFO [8604444160] - 127.0.0.1:61816 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:25:13,281.281] INFO [8604444160] - 127.0.0.1:61816 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:25:17,474.474] INFO [8604444160] - 127.0.0.1:61816 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-19 12:25:29,450.450] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:25:29,549.549] INFO [8604444160] - Shutting down
[2022-08-19 12:25:29,650.650] INFO [8604444160] - Waiting for application shutdown.
[2022-08-19 12:25:29,651.651] INFO [8604444160] - Application shutdown complete.
[2022-08-19 12:25:29,651.651] INFO [8604444160] - Finished server process [72878]
[2022-08-19 12:25:30,554.554] INFO [8667084288] - Started server process [72900]
[2022-08-19 12:25:30,555.555] INFO [8667084288] - Waiting for application startup.
[2022-08-19 12:25:30,555.555] INFO [8667084288] - Application startup complete.
[2022-08-19 12:25:30,931.931] INFO [8667084288] - 127.0.0.1:61824 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:25:31,035.035] INFO [8667084288] - 127.0.0.1:61824 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:25:35,783.783] INFO [8667084288] - 127.0.0.1:61824 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-19 12:25:35,783.783] ERROR [8667084288] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/garayev/pyp-pre-assignment/src/main.py", line 70, in upload
    df = pd.read_sql(f"SELECT * FROM {file_name_str};", conn, index_col=False)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 592, in read_sql
    return pandas_sql.read_query(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 1572, in read_query
    frame = _wrap_result(
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/io/sql.py", line 158, in _wrap_result
    frame.set_index(index_col, inplace=True)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/garayev/pyp-pre-assignment/fast-api-venv/lib/python3.9/site-packages/pandas/core/frame.py", line 5500, in set_index
    raise KeyError(f"None of {missing} are in the columns")
KeyError: 'None of [False] are in the columns'
[2022-08-19 12:26:20,556.556] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:26:20,655.655] INFO [8667084288] - Shutting down
[2022-08-19 12:26:20,757.757] INFO [8667084288] - Waiting for application shutdown.
[2022-08-19 12:26:20,757.757] INFO [8667084288] - Application shutdown complete.
[2022-08-19 12:26:20,757.757] INFO [8667084288] - Finished server process [72900]
[2022-08-19 12:26:21,736.736] INFO [8640652800] - Started server process [72916]
[2022-08-19 12:26:21,736.736] INFO [8640652800] - Waiting for application startup.
[2022-08-19 12:26:21,736.736] INFO [8640652800] - Application startup complete.
[2022-08-19 12:26:41,997.997] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:26:42,020.020] INFO [8640652800] - Shutting down
[2022-08-19 12:26:42,122.122] INFO [8640652800] - Waiting for application shutdown.
[2022-08-19 12:26:42,122.122] INFO [8640652800] - Application shutdown complete.
[2022-08-19 12:26:42,122.122] INFO [8640652800] - Finished server process [72916]
[2022-08-19 12:26:43,029.029] INFO [8600479232] - Started server process [72923]
[2022-08-19 12:26:43,029.029] INFO [8600479232] - Waiting for application startup.
[2022-08-19 12:26:43,030.030] INFO [8600479232] - Application startup complete.
[2022-08-19 12:27:56,791.791] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:27:56,798.798] INFO [8600479232] - Shutting down
[2022-08-19 12:27:56,900.900] INFO [8600479232] - Waiting for application shutdown.
[2022-08-19 12:27:56,900.900] INFO [8600479232] - Application shutdown complete.
[2022-08-19 12:27:56,900.900] INFO [8600479232] - Finished server process [72923]
[2022-08-19 12:27:59,869.869] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:28:00,881.881] INFO [8602547712] - Started server process [72936]
[2022-08-19 12:28:00,881.881] INFO [8602547712] - Waiting for application startup.
[2022-08-19 12:28:00,882.882] INFO [8602547712] - Application startup complete.
[2022-08-19 12:28:08,736.736] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:28:08,782.782] INFO [8602547712] - Shutting down
[2022-08-19 12:28:08,884.884] INFO [8602547712] - Waiting for application shutdown.
[2022-08-19 12:28:08,884.884] INFO [8602547712] - Application shutdown complete.
[2022-08-19 12:28:08,884.884] INFO [8602547712] - Finished server process [72936]
[2022-08-19 12:28:10,030.030] INFO [8662066688] - Started server process [72945]
[2022-08-19 12:28:10,030.030] INFO [8662066688] - Waiting for application startup.
[2022-08-19 12:28:10,030.030] INFO [8662066688] - Application startup complete.
[2022-08-19 12:32:35,081.081] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:32:35,131.131] INFO [8662066688] - Shutting down
[2022-08-19 12:32:35,232.232] INFO [8662066688] - Waiting for application shutdown.
[2022-08-19 12:32:35,233.233] INFO [8662066688] - Application shutdown complete.
[2022-08-19 12:32:35,233.233] INFO [8662066688] - Finished server process [72945]
[2022-08-19 12:32:38,937.937] WARNING [8675358208] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-19 12:32:39,684.684] INFO [8663262720] - Started server process [73071]
[2022-08-19 12:32:39,684.684] INFO [8663262720] - Waiting for application startup.
[2022-08-19 12:32:39,684.684] INFO [8663262720] - Application startup complete.
[2022-08-19 12:32:48,267.267] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:32:48,298.298] INFO [8663262720] - Shutting down
[2022-08-19 12:32:48,400.400] INFO [8663262720] - Waiting for application shutdown.
[2022-08-19 12:32:48,400.400] INFO [8663262720] - Application shutdown complete.
[2022-08-19 12:32:48,401.401] INFO [8663262720] - Finished server process [73071]
[2022-08-19 12:32:49,310.310] INFO [8625468928] - Started server process [73079]
[2022-08-19 12:32:49,311.311] INFO [8625468928] - Waiting for application startup.
[2022-08-19 12:32:49,311.311] INFO [8625468928] - Application startup complete.
[2022-08-19 12:34:09,641.641] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:34:09,690.690] INFO [8625468928] - Shutting down
[2022-08-19 12:34:09,792.792] INFO [8625468928] - Waiting for application shutdown.
[2022-08-19 12:34:09,792.792] INFO [8625468928] - Application shutdown complete.
[2022-08-19 12:34:09,792.792] INFO [8625468928] - Finished server process [73079]
[2022-08-19 12:34:10,823.823] INFO [8639600128] - Started server process [73093]
[2022-08-19 12:34:10,823.823] INFO [8639600128] - Waiting for application startup.
[2022-08-19 12:34:10,824.824] INFO [8639600128] - Application startup complete.
[2022-08-19 12:37:43,140.140] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:37:43,159.159] INFO [8639600128] - Shutting down
[2022-08-19 12:37:43,260.260] INFO [8639600128] - Waiting for application shutdown.
[2022-08-19 12:37:43,261.261] INFO [8639600128] - Application shutdown complete.
[2022-08-19 12:37:43,261.261] INFO [8639600128] - Finished server process [73093]
[2022-08-19 12:37:44,303.303] INFO [8597104128] - Started server process [73137]
[2022-08-19 12:37:44,304.304] INFO [8597104128] - Waiting for application startup.
[2022-08-19 12:37:44,304.304] INFO [8597104128] - Application startup complete.
[2022-08-19 12:42:20,614.614] WARNING [8675358208] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-19 12:42:20,642.642] INFO [8597104128] - Shutting down
[2022-08-19 12:42:20,744.744] INFO [8597104128] - Waiting for application shutdown.
[2022-08-19 12:42:20,744.744] INFO [8597104128] - Application shutdown complete.
[2022-08-19 12:42:20,745.745] INFO [8597104128] - Finished server process [73137]
[2022-08-19 12:42:21,756.756] INFO [8595699200] - Started server process [73185]
[2022-08-19 12:42:21,756.756] INFO [8595699200] - Waiting for application startup.
[2022-08-19 12:42:21,756.756] INFO [8595699200] - Application startup complete.
[2022-08-19 12:43:07,059.059] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:07,131.131] INFO [8595699200] - Shutting down
[2022-08-19 12:43:07,232.232] INFO [8595699200] - Waiting for application shutdown.
[2022-08-19 12:43:07,233.233] INFO [8595699200] - Application shutdown complete.
[2022-08-19 12:43:07,233.233] INFO [8595699200] - Finished server process [73185]
[2022-08-19 12:43:08,307.307] INFO [8639538688] - Started server process [73206]
[2022-08-19 12:43:08,307.307] INFO [8639538688] - Waiting for application startup.
[2022-08-19 12:43:08,308.308] INFO [8639538688] - Application startup complete.
[2022-08-19 12:43:09,148.148] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:09,219.219] INFO [8639538688] - Shutting down
[2022-08-19 12:43:09,321.321] INFO [8639538688] - Waiting for application shutdown.
[2022-08-19 12:43:09,321.321] INFO [8639538688] - Application shutdown complete.
[2022-08-19 12:43:09,321.321] INFO [8639538688] - Finished server process [73206]
[2022-08-19 12:43:10,133.133] INFO [8591083008] - Started server process [73213]
[2022-08-19 12:43:10,134.134] INFO [8591083008] - Waiting for application startup.
[2022-08-19 12:43:10,134.134] INFO [8591083008] - Application startup complete.
[2022-08-19 12:43:19,021.021] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:19,041.041] INFO [8591083008] - Shutting down
[2022-08-19 12:43:19,143.143] INFO [8591083008] - Waiting for application shutdown.
[2022-08-19 12:43:19,143.143] INFO [8591083008] - Application shutdown complete.
[2022-08-19 12:43:19,143.143] INFO [8591083008] - Finished server process [73213]
[2022-08-19 12:43:20,008.008] INFO [8607163904] - Started server process [73219]
[2022-08-19 12:43:20,009.009] INFO [8607163904] - Waiting for application startup.
[2022-08-19 12:43:20,009.009] INFO [8607163904] - Application startup complete.
[2022-08-19 12:43:24,921.921] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:24,983.983] INFO [8607163904] - Shutting down
[2022-08-19 12:43:25,084.084] INFO [8607163904] - Waiting for application shutdown.
[2022-08-19 12:43:25,084.084] INFO [8607163904] - Application shutdown complete.
[2022-08-19 12:43:25,085.085] INFO [8607163904] - Finished server process [73219]
[2022-08-19 12:43:28,832.832] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:32,216.216] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:43:52,523.523] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:44:15,698.698] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:48:52,138.138] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:50:17,676.676] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:50:18,621.621] INFO [8604907008] - Started server process [73350]
[2022-08-19 12:50:18,622.622] INFO [8604907008] - Waiting for application startup.
[2022-08-19 12:50:18,622.622] INFO [8604907008] - Application startup complete.
[2022-08-19 12:50:25,660.660] INFO [8604907008] - 127.0.0.1:61956 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:50:25,826.826] INFO [8604907008] - 127.0.0.1:61956 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:51:03,936.936] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:51:03,939.939] INFO [8604907008] - Shutting down
[2022-08-19 12:51:04,041.041] INFO [8604907008] - Waiting for application shutdown.
[2022-08-19 12:51:04,041.041] INFO [8604907008] - Application shutdown complete.
[2022-08-19 12:51:04,042.042] INFO [8604907008] - Finished server process [73350]
[2022-08-19 12:51:05,083.083] INFO [8673269248] - Started server process [73371]
[2022-08-19 12:51:05,083.083] INFO [8673269248] - Waiting for application startup.
[2022-08-19 12:51:05,083.083] INFO [8673269248] - Application startup complete.
[2022-08-19 12:51:42,971.971] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 12:51:42,978.978] INFO [8673269248] - Shutting down
[2022-08-19 12:51:43,080.080] INFO [8673269248] - Waiting for application shutdown.
[2022-08-19 12:51:43,080.080] INFO [8673269248] - Application shutdown complete.
[2022-08-19 12:51:43,080.080] INFO [8673269248] - Finished server process [73371]
[2022-08-19 12:51:44,067.067] INFO [8603170304] - Started server process [73392]
[2022-08-19 12:51:44,068.068] INFO [8603170304] - Waiting for application startup.
[2022-08-19 12:51:44,068.068] INFO [8603170304] - Application startup complete.
[2022-08-19 12:51:46,190.190] INFO [8603170304] - 127.0.0.1:61968 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:51:46,386.386] INFO [8603170304] - 127.0.0.1:61968 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 12:52:03,509.509] INFO [8603170304] - 127.0.0.1:61969 - "GET /SendReport/GET?type=4&start_date=234.3&end_date=324.1&acceptor_email=awd%40mail.ru HTTP/1.1" 200
[2022-08-19 12:54:07,893.893] INFO [8603170304] - 127.0.0.1:61985 - "GET /swagger HTTP/1.1" 200
[2022-08-19 12:54:08,060.060] INFO [8603170304] - 127.0.0.1:61985 - "GET /openapi.json HTTP/1.1" 200
[2022-08-19 13:12:34,073.073] WARNING [8675358208] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-19 13:12:34,129.129] INFO [8603170304] - Shutting down
[2022-08-19 13:12:34,235.235] INFO [8603170304] - Waiting for application shutdown.
[2022-08-19 13:12:34,235.235] INFO [8603170304] - Application shutdown complete.
[2022-08-19 13:12:34,235.235] INFO [8603170304] - Finished server process [73392]
[2022-08-19 13:12:35,265.265] INFO [8626357760] - Started server process [73513]
[2022-08-19 13:12:35,265.265] INFO [8626357760] - Waiting for application startup.
[2022-08-19 13:12:35,266.266] INFO [8626357760] - Application startup complete.
[2022-08-19 13:13:06,381.381] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-19 13:13:06,470.470] INFO [8626357760] - Shutting down
[2022-08-19 13:13:06,571.571] INFO [8626357760] - Waiting for application shutdown.
[2022-08-19 13:13:06,572.572] INFO [8626357760] - Application shutdown complete.
[2022-08-19 13:13:06,572.572] INFO [8626357760] - Finished server process [73513]
[2022-08-19 13:13:24,668.668] WARNING [8675358208] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:34:49,476.476] INFO [4299998592] - Will watch for changes in these directories: ['/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src']
[2022-08-20 16:34:49,476.476] INFO [4299998592] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-20 16:34:49,476.476] INFO [4299998592] - Started reloader process [11335] using StatReload
[2022-08-20 16:34:49,888.888] INFO [4301768064] - Started server process [11341]
[2022-08-20 16:34:49,900.900] INFO [4301768064] - Waiting for application startup.
[2022-08-20 16:34:49,900.900] INFO [4301768064] - Application startup complete.
[2022-08-20 16:34:52,322.322] INFO [4301768064] - 127.0.0.1:52998 - "GET / HTTP/1.1" 404
[2022-08-20 16:34:52,540.540] INFO [4301768064] - 127.0.0.1:52998 - "GET /favicon.ico HTTP/1.1" 404
[2022-08-20 16:34:57,508.508] INFO [4301768064] - 127.0.0.1:52998 - "GET /swagger HTTP/1.1" 200
[2022-08-20 16:35:27,272.272] INFO [4301768064] - 127.0.0.1:52999 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 16:41:39,179.179] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:41:39,195.195] INFO [4301768064] - Shutting down
[2022-08-20 16:41:39,296.296] INFO [4301768064] - Waiting for application shutdown.
[2022-08-20 16:41:39,296.296] INFO [4301768064] - Application shutdown complete.
[2022-08-20 16:41:39,296.296] INFO [4301768064] - Finished server process [11341]
[2022-08-20 16:41:39,923.923] INFO [4303930752] - Started server process [11850]
[2022-08-20 16:41:39,937.937] INFO [4303930752] - Waiting for application startup.
[2022-08-20 16:41:39,937.937] INFO [4303930752] - Application startup complete.
[2022-08-20 16:41:42,195.195] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:41:42,276.276] INFO [4303930752] - Shutting down
[2022-08-20 16:41:42,377.377] INFO [4303930752] - Waiting for application shutdown.
[2022-08-20 16:41:42,382.382] INFO [4303930752] - Application shutdown complete.
[2022-08-20 16:41:42,382.382] INFO [4303930752] - Finished server process [11850]
[2022-08-20 16:41:43,061.061] INFO [4372170112] - Started server process [11862]
[2022-08-20 16:41:43,081.081] INFO [4372170112] - Waiting for application startup.
[2022-08-20 16:41:43,081.081] INFO [4372170112] - Application startup complete.
[2022-08-20 16:41:53,227.227] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:41:53,297.297] INFO [4372170112] - Shutting down
[2022-08-20 16:41:53,408.408] INFO [4372170112] - Waiting for application shutdown.
[2022-08-20 16:41:53,425.425] INFO [4372170112] - Application shutdown complete.
[2022-08-20 16:41:53,426.426] INFO [4372170112] - Finished server process [11862]
[2022-08-20 16:41:54,004.004] INFO [4368680320] - Started server process [11875]
[2022-08-20 16:41:54,004.004] INFO [4368680320] - Waiting for application startup.
[2022-08-20 16:41:54,004.004] INFO [4368680320] - Application startup complete.
[2022-08-20 16:42:03,693.693] INFO [4368680320] - 127.0.0.1:53021 - "GET /swagger HTTP/1.1" 200
[2022-08-20 16:42:03,799.799] INFO [4368680320] - 127.0.0.1:53021 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 16:43:20,195.195] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:43:20,232.232] INFO [4368680320] - Shutting down
[2022-08-20 16:43:20,333.333] INFO [4368680320] - Waiting for application shutdown.
[2022-08-20 16:43:20,333.333] INFO [4368680320] - Application shutdown complete.
[2022-08-20 16:43:20,333.333] INFO [4368680320] - Finished server process [11875]
[2022-08-20 16:43:20,894.894] INFO [4313302400] - Started server process [12027]
[2022-08-20 16:43:20,898.898] INFO [4313302400] - Waiting for application startup.
[2022-08-20 16:43:20,899.899] INFO [4313302400] - Application startup complete.
[2022-08-20 16:43:55,265.265] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:43:55,331.331] INFO [4313302400] - Shutting down
[2022-08-20 16:43:55,432.432] INFO [4313302400] - Waiting for application shutdown.
[2022-08-20 16:43:55,433.433] INFO [4313302400] - Application shutdown complete.
[2022-08-20 16:43:55,433.433] INFO [4313302400] - Finished server process [12027]
[2022-08-20 16:43:56,015.015] INFO [4377265536] - Started server process [12066]
[2022-08-20 16:43:56,015.015] INFO [4377265536] - Waiting for application startup.
[2022-08-20 16:43:56,015.015] INFO [4377265536] - Application startup complete.
[2022-08-20 16:44:02,905.905] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:44:02,994.994] INFO [4377265536] - Shutting down
[2022-08-20 16:44:03,095.095] INFO [4377265536] - Waiting for application shutdown.
[2022-08-20 16:44:03,097.097] INFO [4377265536] - Application shutdown complete.
[2022-08-20 16:44:03,098.098] INFO [4377265536] - Finished server process [12066]
[2022-08-20 16:44:03,710.710] INFO [4345972096] - Started server process [12076]
[2022-08-20 16:44:03,710.710] INFO [4345972096] - Waiting for application startup.
[2022-08-20 16:44:03,710.710] INFO [4345972096] - Application startup complete.
[2022-08-20 16:44:13,904.904] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:44:13,927.927] INFO [4345972096] - Shutting down
[2022-08-20 16:44:14,029.029] INFO [4345972096] - Waiting for application shutdown.
[2022-08-20 16:44:14,029.029] INFO [4345972096] - Application shutdown complete.
[2022-08-20 16:44:14,029.029] INFO [4345972096] - Finished server process [12076]
[2022-08-20 16:44:14,612.612] INFO [4377298304] - Started server process [12092]
[2022-08-20 16:44:14,621.621] INFO [4377298304] - Waiting for application startup.
[2022-08-20 16:44:14,621.621] INFO [4377298304] - Application startup complete.
[2022-08-20 16:44:19,847.847] INFO [4377298304] - 127.0.0.1:53076 - "GET /swagger HTTP/1.1" 200
[2022-08-20 16:44:19,972.972] INFO [4377298304] - 127.0.0.1:53076 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 16:46:47,974.974] INFO [4377298304] - 127.0.0.1:53083 - "GET /SendReport/GET/%7BType%7D?type=3&start_date=1%2F1%2F14&end_date=2%2F2%2F16&acceptor_email=awd%40nau HTTP/1.1" 422
[2022-08-20 16:46:48,907.907] INFO [4377298304] - 127.0.0.1:53083 - "GET /SendReport/GET/%7BType%7D?type=3&start_date=1%2F1%2F14&end_date=2%2F2%2F16&acceptor_email=awd%40nau HTTP/1.1" 422
[2022-08-20 16:47:47,270.270] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:47:47,278.278] INFO [4377298304] - Shutting down
[2022-08-20 16:47:47,390.390] INFO [4377298304] - Waiting for application shutdown.
[2022-08-20 16:47:47,403.403] INFO [4377298304] - Application shutdown complete.
[2022-08-20 16:47:47,403.403] INFO [4377298304] - Finished server process [12092]
[2022-08-20 16:47:48,049.049] INFO [4299998592] - Started server process [12315]
[2022-08-20 16:47:48,049.049] INFO [4299998592] - Waiting for application startup.
[2022-08-20 16:47:48,050.050] INFO [4299998592] - Application startup complete.
[2022-08-20 16:47:50,781.781] INFO [4299998592] - 127.0.0.1:53087 - "GET /swagger HTTP/1.1" 200
[2022-08-20 16:47:50,950.950] INFO [4299998592] - 127.0.0.1:53087 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 16:48:02,560.560] INFO [4299998592] - 127.0.0.1:53088 - "GET /SendReport/GET?type=3&start_date=1%2F1%2F13&end_date=3%2F5%2F16&acceptor_email=awd HTTP/1.1" 422
[2022-08-20 16:48:46,823.823] WARNING [4299998592] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-20 16:48:46,878.878] INFO [4299998592] - Shutting down
[2022-08-20 16:48:46,980.980] INFO [4299998592] - Waiting for application shutdown.
[2022-08-20 16:48:46,980.980] INFO [4299998592] - Application shutdown complete.
[2022-08-20 16:48:46,980.980] INFO [4299998592] - Finished server process [12315]
[2022-08-20 16:49:03,755.755] WARNING [4299998592] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-20 16:49:25,797.797] WARNING [4299998592] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-20 16:49:30,926.926] WARNING [4299998592] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-20 16:49:31,479.479] INFO [4302210432] - Started server process [12458]
[2022-08-20 16:49:31,486.486] INFO [4302210432] - Waiting for application startup.
[2022-08-20 16:49:31,486.486] INFO [4302210432] - Application startup complete.
[2022-08-20 16:49:31,487.487] INFO [4302210432] - 127.0.0.1:53096 - "GET /swagger HTTP/1.1" 200
[2022-08-20 16:49:31,487.487] INFO [4302210432] - 127.0.0.1:53097 - "GET /swagger HTTP/1.1" 200
[2022-08-20 16:49:31,634.634] INFO [4302210432] - 127.0.0.1:53097 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 16:49:51,452.452] INFO [4302210432] - 127.0.0.1:53098 - "GET /SendReport/GET?type=4&start_date=1%2F1%2F14&end_date=2%2F4%2F16&acceptor_email=awd HTTP/1.1" 422
[2022-08-20 16:52:48,001.001] WARNING [4299998592] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-20 16:52:48,056.056] INFO [4302210432] - Shutting down
[2022-08-20 16:52:48,157.157] INFO [4302210432] - Waiting for application shutdown.
[2022-08-20 16:52:48,157.157] INFO [4302210432] - Application shutdown complete.
[2022-08-20 16:52:48,158.158] INFO [4302210432] - Finished server process [12458]
[2022-08-20 16:52:48,683.683] INFO [4372415872] - Started server process [12658]
[2022-08-20 16:52:48,683.683] INFO [4372415872] - Waiting for application startup.
[2022-08-20 16:52:48,683.683] INFO [4372415872] - Application startup complete.
[2022-08-20 16:53:26,478.478] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:53:26,570.570] INFO [4372415872] - Shutting down
[2022-08-20 16:53:26,694.694] INFO [4372415872] - Waiting for application shutdown.
[2022-08-20 16:53:26,699.699] INFO [4372415872] - Application shutdown complete.
[2022-08-20 16:53:26,699.699] INFO [4372415872] - Finished server process [12658]
[2022-08-20 16:53:56,514.514] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:53:57,011.011] INFO [4379837824] - Started server process [12746]
[2022-08-20 16:53:57,011.011] INFO [4379837824] - Waiting for application startup.
[2022-08-20 16:53:57,011.011] INFO [4379837824] - Application startup complete.
[2022-08-20 16:57:37,062.062] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 16:57:37,156.156] INFO [4379837824] - Shutting down
[2022-08-20 16:57:37,257.257] INFO [4379837824] - Waiting for application shutdown.
[2022-08-20 16:57:37,257.257] INFO [4379837824] - Application shutdown complete.
[2022-08-20 16:57:37,257.257] INFO [4379837824] - Finished server process [12746]
[2022-08-20 16:57:37,896.896] INFO [4375905664] - Started server process [12962]
[2022-08-20 16:57:37,897.897] INFO [4375905664] - Waiting for application startup.
[2022-08-20 16:57:37,897.897] INFO [4375905664] - Application startup complete.
[2022-08-20 17:08:13,246.246] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:08:13,256.256] INFO [4375905664] - Shutting down
[2022-08-20 17:08:13,359.359] INFO [4375905664] - Waiting for application shutdown.
[2022-08-20 17:08:13,359.359] INFO [4375905664] - Application shutdown complete.
[2022-08-20 17:08:13,359.359] INFO [4375905664] - Finished server process [12962]
[2022-08-20 17:11:51,716.716] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:11:52,453.453] INFO [4342384000] - Started server process [13751]
[2022-08-20 17:11:52,460.460] INFO [4342384000] - Waiting for application startup.
[2022-08-20 17:11:52,460.460] INFO [4342384000] - Application startup complete.
[2022-08-20 17:14:32,919.919] INFO [4342384000] - 127.0.0.1:53204 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:14:33,080.080] INFO [4342384000] - 127.0.0.1:53204 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:14:46,578.578] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:14:46,608.608] INFO [4342384000] - Shutting down
[2022-08-20 17:14:46,710.710] INFO [4342384000] - Waiting for application shutdown.
[2022-08-20 17:14:46,711.711] INFO [4342384000] - Application shutdown complete.
[2022-08-20 17:14:46,712.712] INFO [4342384000] - Finished server process [13751]
[2022-08-20 17:16:02,225.225] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:16:10,184.184] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:16:21,720.720] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:16:54,576.576] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:17:07,151.151] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:17:09,465.465] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:17:22,782.782] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:18:10,081.081] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:18:38,302.302] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:18:48,562.562] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:19:05,234.234] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:19:05,876.876] INFO [4342842752] - Started server process [14221]
[2022-08-20 17:19:05,889.889] INFO [4342842752] - Waiting for application startup.
[2022-08-20 17:19:05,890.890] INFO [4342842752] - Application startup complete.
[2022-08-20 17:23:03,248.248] INFO [4342842752] - 127.0.0.1:53226 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:23:03,373.373] INFO [4342842752] - 127.0.0.1:53226 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:23:24,028.028] INFO [4342842752] - 127.0.0.1:53227 - "GET /SendReport/GET?type=3&start_date=2008-12-12&end_date=2009-04-23&acceptor_email=awd HTTP/1.1" 200
[2022-08-20 17:30:22,081.081] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:30:22,118.118] INFO [4342842752] - Shutting down
[2022-08-20 17:30:22,220.220] INFO [4342842752] - Waiting for application shutdown.
[2022-08-20 17:30:22,220.220] INFO [4342842752] - Application shutdown complete.
[2022-08-20 17:30:22,220.220] INFO [4342842752] - Finished server process [14221]
[2022-08-20 17:30:22,963.963] INFO [4329817472] - Started server process [14890]
[2022-08-20 17:30:22,966.966] INFO [4329817472] - Waiting for application startup.
[2022-08-20 17:30:22,966.966] INFO [4329817472] - Application startup complete.
[2022-08-20 17:30:25,854.854] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:30:25,905.905] INFO [4329817472] - Shutting down
[2022-08-20 17:30:26,009.009] INFO [4329817472] - Waiting for application shutdown.
[2022-08-20 17:30:26,010.010] INFO [4329817472] - Application shutdown complete.
[2022-08-20 17:30:26,011.011] INFO [4329817472] - Finished server process [14890]
[2022-08-20 17:30:26,611.611] INFO [4347446656] - Started server process [14904]
[2022-08-20 17:30:26,611.611] INFO [4347446656] - Waiting for application startup.
[2022-08-20 17:30:26,611.611] INFO [4347446656] - Application startup complete.
[2022-08-20 17:31:01,031.031] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:31:01,083.083] INFO [4347446656] - Shutting down
[2022-08-20 17:31:01,186.186] INFO [4347446656] - Waiting for application shutdown.
[2022-08-20 17:31:01,197.197] INFO [4347446656] - Application shutdown complete.
[2022-08-20 17:31:01,197.197] INFO [4347446656] - Finished server process [14904]
[2022-08-20 17:31:15,668.668] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:31:16,262.262] INFO [4312663424] - Started server process [14968]
[2022-08-20 17:31:16,262.262] INFO [4312663424] - Waiting for application startup.
[2022-08-20 17:31:16,262.262] INFO [4312663424] - Application startup complete.
[2022-08-20 17:31:36,955.955] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:31:37,031.031] INFO [4312663424] - Shutting down
[2022-08-20 17:31:37,139.139] INFO [4312663424] - Waiting for application shutdown.
[2022-08-20 17:31:37,140.140] INFO [4312663424] - Application shutdown complete.
[2022-08-20 17:31:37,140.140] INFO [4312663424] - Finished server process [14968]
[2022-08-20 17:31:37,736.736] INFO [4343793024] - Started server process [14999]
[2022-08-20 17:31:37,736.736] INFO [4343793024] - Waiting for application startup.
[2022-08-20 17:31:37,736.736] INFO [4343793024] - Application startup complete.
[2022-08-20 17:32:04,681.681] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:32:04,769.769] INFO [4343793024] - Shutting down
[2022-08-20 17:32:04,870.870] INFO [4343793024] - Waiting for application shutdown.
[2022-08-20 17:32:04,871.871] INFO [4343793024] - Application shutdown complete.
[2022-08-20 17:32:04,871.871] INFO [4343793024] - Finished server process [14999]
[2022-08-20 17:32:05,465.465] INFO [4312139136] - Started server process [15032]
[2022-08-20 17:32:05,465.465] INFO [4312139136] - Waiting for application startup.
[2022-08-20 17:32:05,466.466] INFO [4312139136] - Application startup complete.
[2022-08-20 17:32:40,365.365] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:32:40,438.438] INFO [4312139136] - Shutting down
[2022-08-20 17:32:40,540.540] INFO [4312139136] - Waiting for application shutdown.
[2022-08-20 17:32:40,541.541] INFO [4312139136] - Application shutdown complete.
[2022-08-20 17:32:40,541.541] INFO [4312139136] - Finished server process [15032]
[2022-08-20 17:33:44,750.750] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:33:45,338.338] INFO [4335535488] - Started server process [15155]
[2022-08-20 17:33:45,349.349] INFO [4335535488] - Waiting for application startup.
[2022-08-20 17:33:45,349.349] INFO [4335535488] - Application startup complete.
[2022-08-20 17:33:56,011.011] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:33:56,088.088] INFO [4335535488] - Shutting down
[2022-08-20 17:33:56,205.205] INFO [4335535488] - Waiting for application shutdown.
[2022-08-20 17:33:56,215.215] INFO [4335535488] - Application shutdown complete.
[2022-08-20 17:33:56,215.215] INFO [4335535488] - Finished server process [15155]
[2022-08-20 17:33:56,752.752] INFO [4369581440] - Started server process [15177]
[2022-08-20 17:33:56,753.753] INFO [4369581440] - Waiting for application startup.
[2022-08-20 17:33:56,753.753] INFO [4369581440] - Application startup complete.
[2022-08-20 17:34:01,632.632] INFO [4369581440] - 127.0.0.1:53367 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:34:01,784.784] INFO [4369581440] - 127.0.0.1:53367 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:34:13,266.266] INFO [4369581440] - 127.0.0.1:53368 - "GET /SendReport/GET?type=1&start_date=12%2F4%2F18&end_date=12%2F4%2F18&acceptor_email=w HTTP/1.1" 200
[2022-08-20 17:34:54,096.096] INFO [4369581440] - 127.0.0.1:53370 - "GET /SendReport/GET?type=1&start_date=12%2F4-42&end_date=12%2F4%2F18&acceptor_email=w HTTP/1.1" 500
[2022-08-20 17:34:54,097.097] ERROR [4369581440] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 88, in get_method
    start_date = datetime.datetime.strptime(start_date, '%d/%m/%y')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 568, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 349, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '12/4-42' does not match format '%d/%m/%y'
[2022-08-20 17:35:17,520.520] INFO [4369581440] - 127.0.0.1:53371 - "GET /SendReport/GET?type=1&start_date=2008-12-4&end_date=2008-12-4&acceptor_email=w HTTP/1.1" 500
[2022-08-20 17:35:17,520.520] ERROR [4369581440] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 88, in get_method
    start_date = datetime.datetime.strptime(start_date, '%d/%m/%y')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 568, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 349, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '2008-12-4' does not match format '%d/%m/%y'
[2022-08-20 17:35:21,045.045] INFO [4369581440] - 127.0.0.1:53372 - "GET /SendReport/GET?type=1&start_date=2008-12-4&end_date=2008-12-4&acceptor_email=w HTTP/1.1" 500
[2022-08-20 17:35:21,055.055] ERROR [4369581440] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 88, in get_method
    start_date = datetime.datetime.strptime(start_date, '%d/%m/%y')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 568, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 349, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '2008-12-4' does not match format '%d/%m/%y'
[2022-08-20 17:35:27,776.776] INFO [4369581440] - 127.0.0.1:53373 - "GET /SendReport/GET?type=1&start_date=12%2F24%2F44&end_date=12%2F24%2F44&acceptor_email=w HTTP/1.1" 500
[2022-08-20 17:35:27,778.778] ERROR [4369581440] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 88, in get_method
    start_date = datetime.datetime.strptime(start_date, '%d/%m/%y')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 568, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 349, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '12/24/44' does not match format '%d/%m/%y'
[2022-08-20 17:35:47,235.235] INFO [4369581440] - 127.0.0.1:53374 - "GET /SendReport/GET?type=1&start_date=1%2F1%2F12&end_date=2%2F2%2F16&acceptor_email=w HTTP/1.1" 200
[2022-08-20 17:36:16,749.749] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:36:16,762.762] INFO [4369581440] - Shutting down
[2022-08-20 17:36:16,864.864] INFO [4369581440] - Waiting for application shutdown.
[2022-08-20 17:36:16,864.864] INFO [4369581440] - Application shutdown complete.
[2022-08-20 17:36:16,864.864] INFO [4369581440] - Finished server process [15177]
[2022-08-20 17:36:23,328.328] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:36:23,843.843] INFO [4376561024] - Started server process [15343]
[2022-08-20 17:36:23,857.857] INFO [4376561024] - Waiting for application startup.
[2022-08-20 17:36:23,857.857] INFO [4376561024] - Application startup complete.
[2022-08-20 17:36:53,054.054] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:36:53,139.139] INFO [4376561024] - Shutting down
[2022-08-20 17:36:53,240.240] INFO [4376561024] - Waiting for application shutdown.
[2022-08-20 17:36:53,241.241] INFO [4376561024] - Application shutdown complete.
[2022-08-20 17:36:53,241.241] INFO [4376561024] - Finished server process [15343]
[2022-08-20 17:36:53,812.812] INFO [4375266688] - Started server process [15381]
[2022-08-20 17:36:53,812.812] INFO [4375266688] - Waiting for application startup.
[2022-08-20 17:36:53,812.812] INFO [4375266688] - Application startup complete.
[2022-08-20 17:36:54,751.751] INFO [4375266688] - 127.0.0.1:53381 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:36:54,949.949] INFO [4375266688] - 127.0.0.1:53381 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:39:43,959.959] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:39:43,990.990] INFO [4375266688] - Shutting down
[2022-08-20 17:39:44,091.091] INFO [4375266688] - Waiting for application shutdown.
[2022-08-20 17:39:44,092.092] INFO [4375266688] - Application shutdown complete.
[2022-08-20 17:39:44,092.092] INFO [4375266688] - Finished server process [15381]
[2022-08-20 17:39:51,081.081] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:39:51,533.533] INFO [4315661696] - Started server process [15575]
[2022-08-20 17:39:51,533.533] INFO [4315661696] - Waiting for application startup.
[2022-08-20 17:39:51,533.533] INFO [4315661696] - Application startup complete.
[2022-08-20 17:40:01,328.328] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:40:01,348.348] INFO [4315661696] - Shutting down
[2022-08-20 17:40:01,461.461] INFO [4315661696] - Waiting for application shutdown.
[2022-08-20 17:40:01,468.468] INFO [4315661696] - Application shutdown complete.
[2022-08-20 17:40:01,468.468] INFO [4315661696] - Finished server process [15575]
[2022-08-20 17:40:02,085.085] INFO [4344841600] - Started server process [15589]
[2022-08-20 17:40:02,085.085] INFO [4344841600] - Waiting for application startup.
[2022-08-20 17:40:02,085.085] INFO [4344841600] - Application startup complete.
[2022-08-20 17:40:07,964.964] INFO [4344841600] - 127.0.0.1:53404 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:40:08,160.160] INFO [4344841600] - 127.0.0.1:53404 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:40:31,996.996] INFO [4344841600] - 127.0.0.1:53405 - "GET /SendReport/GET?type=3&start_date=12%2F12%2F12&end_date=11%2F11%2F11&acceptor_email=arif%40mas%2C%20awdg2.%2Cawd%2C HTTP/1.1" 500
[2022-08-20 17:40:31,997.997] ERROR [4344841600] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 92, in get_method
    'start_date': {start_date: type(start_date)},
TypeError: 'ModelGET' object is not callable
[2022-08-20 17:41:00,707.707] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:41:00,792.792] INFO [4344841600] - Shutting down
[2022-08-20 17:41:00,908.908] INFO [4344841600] - Waiting for application shutdown.
[2022-08-20 17:41:00,914.914] INFO [4344841600] - Application shutdown complete.
[2022-08-20 17:41:00,914.914] INFO [4344841600] - Finished server process [15589]
[2022-08-20 17:41:01,482.482] INFO [4377593216] - Started server process [15661]
[2022-08-20 17:41:01,482.482] INFO [4377593216] - Waiting for application startup.
[2022-08-20 17:41:01,482.482] INFO [4377593216] - Application startup complete.
[2022-08-20 17:41:03,491.491] INFO [4377593216] - 127.0.0.1:53408 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:41:03,611.611] INFO [4377593216] - 127.0.0.1:53408 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:41:57,844.844] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:41:57,861.861] INFO [4377593216] - Shutting down
[2022-08-20 17:41:57,965.965] INFO [4377593216] - Waiting for application shutdown.
[2022-08-20 17:41:57,975.975] INFO [4377593216] - Application shutdown complete.
[2022-08-20 17:41:57,975.975] INFO [4377593216] - Finished server process [15661]
[2022-08-20 17:41:58,569.569] INFO [4309517696] - Started server process [15726]
[2022-08-20 17:41:58,577.577] INFO [4309517696] - Waiting for application startup.
[2022-08-20 17:41:58,577.577] INFO [4309517696] - Application startup complete.
[2022-08-20 17:42:02,385.385] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:42:02,424.424] INFO [4309517696] - Shutting down
[2022-08-20 17:42:02,525.525] INFO [4309517696] - Waiting for application shutdown.
[2022-08-20 17:42:02,525.525] INFO [4309517696] - Application shutdown complete.
[2022-08-20 17:42:02,525.525] INFO [4309517696] - Finished server process [15726]
[2022-08-20 17:42:07,989.989] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:42:28,559.559] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:42:42,441.441] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:42:43,025.025] INFO [4335076736] - Started server process [15777]
[2022-08-20 17:42:43,033.033] INFO [4335076736] - Waiting for application startup.
[2022-08-20 17:42:43,033.033] INFO [4335076736] - Application startup complete.
[2022-08-20 17:43:01,700.700] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:43:01,789.789] INFO [4335076736] - Shutting down
[2022-08-20 17:43:01,896.896] INFO [4335076736] - Waiting for application shutdown.
[2022-08-20 17:43:01,901.901] INFO [4335076736] - Application shutdown complete.
[2022-08-20 17:43:01,902.902] INFO [4335076736] - Finished server process [15777]
[2022-08-20 17:43:30,133.133] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:43:30,676.676] INFO [4340221312] - Started server process [15837]
[2022-08-20 17:43:30,679.679] INFO [4340221312] - Waiting for application startup.
[2022-08-20 17:43:30,679.679] INFO [4340221312] - Application startup complete.
[2022-08-20 17:43:35,828.828] INFO [4340221312] - 127.0.0.1:53420 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:43:35,930.930] INFO [4340221312] - 127.0.0.1:53420 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:43:49,080.080] INFO [4340221312] - 127.0.0.1:53421 - "GET /SendReport/GET?type=4&start_date=12%2F12%2F12&end_date=12%2F12%2F12&acceptor_email=arif%40mail.ru HTTP/1.1" 500
[2022-08-20 17:43:49,097.097] ERROR [4340221312] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 92, in get_method
    'start_date': {start_date: type(start_date)},
TypeError: 'ModelGET' object is not callable
[2022-08-20 17:44:45,463.463] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:44:45,485.485] INFO [4340221312] - Shutting down
[2022-08-20 17:44:45,587.587] INFO [4340221312] - Waiting for application shutdown.
[2022-08-20 17:44:45,591.591] INFO [4340221312] - Application shutdown complete.
[2022-08-20 17:44:45,593.593] INFO [4340221312] - Finished server process [15837]
[2022-08-20 17:44:51,318.318] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:44:51,837.837] INFO [4367779200] - Started server process [15922]
[2022-08-20 17:44:51,841.841] INFO [4367779200] - Waiting for application startup.
[2022-08-20 17:44:51,841.841] INFO [4367779200] - Application startup complete.
[2022-08-20 17:44:53,224.224] INFO [4367779200] - 127.0.0.1:53426 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:44:53,335.335] INFO [4367779200] - 127.0.0.1:53426 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:45:02,685.685] INFO [4367779200] - 127.0.0.1:53427 - "GET /SendReport/GET?type=5&start_date=12%2F12%2F12&end_date=11%2F11%2F11&acceptor_email=ad HTTP/1.1" 200
[2022-08-20 17:45:11,871.871] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:45:11,954.954] INFO [4367779200] - Shutting down
[2022-08-20 17:45:12,068.068] INFO [4367779200] - Waiting for application shutdown.
[2022-08-20 17:45:12,080.080] INFO [4367779200] - Application shutdown complete.
[2022-08-20 17:45:12,081.081] INFO [4367779200] - Finished server process [15922]
[2022-08-20 17:45:12,656.656] INFO [4373349760] - Started server process [15948]
[2022-08-20 17:45:12,656.656] INFO [4373349760] - Waiting for application startup.
[2022-08-20 17:45:12,656.656] INFO [4373349760] - Application startup complete.
[2022-08-20 17:45:14,700.700] INFO [4373349760] - 127.0.0.1:53431 - "GET /SendReport/GET?type=5&start_date=12%2F12%2F12&end_date=11%2F11%2F11&acceptor_email=ad HTTP/1.1" 500
[2022-08-20 17:45:14,700.700] ERROR [4373349760] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 94, in get_method
    'emails': type(acceptor_email)
TypeError: 'ModelGET' object is not callable
[2022-08-20 17:45:27,048.048] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:45:27,056.056] INFO [4373349760] - Shutting down
[2022-08-20 17:45:27,157.157] INFO [4373349760] - Waiting for application shutdown.
[2022-08-20 17:45:27,158.158] INFO [4373349760] - Application shutdown complete.
[2022-08-20 17:45:27,158.158] INFO [4373349760] - Finished server process [15948]
[2022-08-20 17:45:27,704.704] INFO [4299572608] - Started server process [15968]
[2022-08-20 17:45:27,704.704] INFO [4299572608] - Waiting for application startup.
[2022-08-20 17:45:27,704.704] INFO [4299572608] - Application startup complete.
[2022-08-20 17:45:30,633.633] INFO [4299572608] - 127.0.0.1:53434 - "GET /SendReport/GET?type=5&start_date=12%2F12%2F12&end_date=11%2F11%2F11&acceptor_email=ad HTTP/1.1" 200
[2022-08-20 17:45:34,814.814] INFO [4299572608] - 127.0.0.1:53434 - "GET /SendReport/GET?type=5&start_date=12%2F12%2F12&end_date=11%2F11%2F11&acceptor_email=ad%2C%20ad HTTP/1.1" 200
[2022-08-20 17:45:39,547.547] INFO [4299572608] - 127.0.0.1:53434 - "GET /SendReport/GET?type=5&start_date=12%2F12%2F12&end_date=11%2F11%2F11&acceptor_email=awd.%20awdad%20awd HTTP/1.1" 200
[2022-08-20 17:46:04,514.514] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:46:04,583.583] INFO [4299572608] - Shutting down
[2022-08-20 17:46:04,685.685] INFO [4299572608] - Waiting for application shutdown.
[2022-08-20 17:46:04,685.685] INFO [4299572608] - Application shutdown complete.
[2022-08-20 17:46:04,685.685] INFO [4299572608] - Finished server process [15968]
[2022-08-20 17:46:05,411.411] INFO [4332946816] - Started server process [16014]
[2022-08-20 17:46:05,419.419] INFO [4332946816] - Waiting for application startup.
[2022-08-20 17:46:05,419.419] INFO [4332946816] - Application startup complete.
[2022-08-20 17:46:49,822.822] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:46:49,849.849] INFO [4332946816] - Shutting down
[2022-08-20 17:46:49,964.964] INFO [4332946816] - Waiting for application shutdown.
[2022-08-20 17:46:49,973.973] INFO [4332946816] - Application shutdown complete.
[2022-08-20 17:46:49,974.974] INFO [4332946816] - Finished server process [16014]
[2022-08-20 17:47:17,147.147] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:47:17,784.784] INFO [4308960640] - Started server process [16229]
[2022-08-20 17:47:17,785.785] INFO [4308960640] - Waiting for application startup.
[2022-08-20 17:47:17,785.785] INFO [4308960640] - Application startup complete.
[2022-08-20 17:50:41,768.768] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:50:41,770.770] INFO [4308960640] - Shutting down
[2022-08-20 17:50:41,871.871] INFO [4308960640] - Waiting for application shutdown.
[2022-08-20 17:50:41,871.871] INFO [4308960640] - Application shutdown complete.
[2022-08-20 17:50:41,872.872] INFO [4308960640] - Finished server process [16229]
[2022-08-20 17:50:42,429.429] INFO [4300424576] - Started server process [16429]
[2022-08-20 17:50:42,438.438] INFO [4300424576] - Waiting for application startup.
[2022-08-20 17:50:42,438.438] INFO [4300424576] - Application startup complete.
[2022-08-20 17:50:45,018.018] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:50:45,072.072] INFO [4300424576] - Shutting down
[2022-08-20 17:50:45,189.189] INFO [4300424576] - Waiting for application shutdown.
[2022-08-20 17:50:45,189.189] INFO [4300424576] - Application shutdown complete.
[2022-08-20 17:50:45,189.189] INFO [4300424576] - Finished server process [16429]
[2022-08-20 17:50:45,788.788] INFO [4336584064] - Started server process [16442]
[2022-08-20 17:50:45,788.788] INFO [4336584064] - Waiting for application startup.
[2022-08-20 17:50:45,788.788] INFO [4336584064] - Application startup complete.
[2022-08-20 17:50:59,896.896] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:50:59,975.975] INFO [4336584064] - Shutting down
[2022-08-20 17:51:00,077.077] INFO [4336584064] - Waiting for application shutdown.
[2022-08-20 17:51:00,077.077] INFO [4336584064] - Application shutdown complete.
[2022-08-20 17:51:00,078.078] INFO [4336584064] - Finished server process [16442]
[2022-08-20 17:51:00,619.619] INFO [4343793024] - Started server process [16464]
[2022-08-20 17:51:00,619.619] INFO [4343793024] - Waiting for application startup.
[2022-08-20 17:51:00,619.619] INFO [4343793024] - Application startup complete.
[2022-08-20 17:51:44,664.664] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:51:44,726.726] INFO [4343793024] - Shutting down
[2022-08-20 17:51:44,827.827] INFO [4343793024] - Waiting for application shutdown.
[2022-08-20 17:51:44,835.835] INFO [4343793024] - Application shutdown complete.
[2022-08-20 17:51:44,835.835] INFO [4343793024] - Finished server process [16464]
[2022-08-20 17:51:45,450.450] INFO [4347692416] - Started server process [16510]
[2022-08-20 17:51:45,450.450] INFO [4347692416] - Waiting for application startup.
[2022-08-20 17:51:45,450.450] INFO [4347692416] - Application startup complete.
[2022-08-20 17:51:48,848.848] INFO [4347692416] - 127.0.0.1:54103 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:51:48,996.996] INFO [4347692416] - 127.0.0.1:54103 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:52:03,938.938] INFO [4347692416] - 127.0.0.1:54104 - "GET /SendReport/GET?type=4&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=arif%40mail.ru%2C%20salam%40mail.ru HTTP/1.1" 500
[2022-08-20 17:52:03,939.939] ERROR [4347692416] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 95, in get_method
    print(type(acceptor_email))
TypeError: 'ModelGET' object is not callable
[2022-08-20 17:52:30,202.202] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:52:30,286.286] INFO [4347692416] - Shutting down
[2022-08-20 17:52:30,387.387] INFO [4347692416] - Waiting for application shutdown.
[2022-08-20 17:52:30,388.388] INFO [4347692416] - Application shutdown complete.
[2022-08-20 17:52:30,388.388] INFO [4347692416] - Finished server process [16510]
[2022-08-20 17:52:30,931.931] INFO [4302013824] - Started server process [16566]
[2022-08-20 17:52:30,931.931] INFO [4302013824] - Waiting for application startup.
[2022-08-20 17:52:30,931.931] INFO [4302013824] - Application startup complete.
[2022-08-20 17:53:03,041.041] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:53:03,137.137] INFO [4302013824] - Shutting down
[2022-08-20 17:53:03,237.237] INFO [4302013824] - Waiting for application shutdown.
[2022-08-20 17:53:03,237.237] INFO [4302013824] - Application shutdown complete.
[2022-08-20 17:53:03,237.237] INFO [4302013824] - Finished server process [16566]
[2022-08-20 17:53:03,778.778] INFO [4341548416] - Started server process [16606]
[2022-08-20 17:53:03,778.778] INFO [4341548416] - Waiting for application startup.
[2022-08-20 17:53:03,778.778] INFO [4341548416] - Application startup complete.
[2022-08-20 17:53:04,481.481] INFO [4341548416] - 127.0.0.1:54110 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:53:04,594.594] INFO [4341548416] - 127.0.0.1:54110 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:53:20,131.131] INFO [4341548416] - 127.0.0.1:54111 - "GET /SendReport/GET?_type=3&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=ar%40mail.ru%2C%20as%40mail.ru HTTP/1.1" 500
[2022-08-20 17:53:20,142.142] ERROR [4341548416] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 142, in jsonable_encoder
    data = dict(obj)
TypeError: 'wrapper_descriptor' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 146, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 245, in app
    content = await serialize_response(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 149, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 149, in jsonable_encoder
    raise ValueError(errors)
ValueError: [TypeError("'wrapper_descriptor' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2022-08-20 17:54:03,248.248] INFO [4341548416] - 127.0.0.1:54113 - "GET /SendReport/GET?_type=3&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=ar%40mail.ru%20as%40mail.ru HTTP/1.1" 500
[2022-08-20 17:54:03,249.249] ERROR [4341548416] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 142, in jsonable_encoder
    data = dict(obj)
TypeError: 'wrapper_descriptor' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 146, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 245, in app
    content = await serialize_response(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 149, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 149, in jsonable_encoder
    raise ValueError(errors)
ValueError: [TypeError("'wrapper_descriptor' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2022-08-20 17:54:06,326.326] INFO [4341548416] - 127.0.0.1:54114 - "GET /SendReport/GET?_type=3&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=ar%40mail.ru HTTP/1.1" 500
[2022-08-20 17:54:06,326.326] ERROR [4341548416] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 142, in jsonable_encoder
    data = dict(obj)
TypeError: 'wrapper_descriptor' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 146, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 245, in app
    content = await serialize_response(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 149, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 149, in jsonable_encoder
    raise ValueError(errors)
ValueError: [TypeError("'wrapper_descriptor' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2022-08-20 17:54:10,410.410] INFO [4341548416] - 127.0.0.1:54115 - "GET /SendReport/GET?_type=3&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=aw HTTP/1.1" 500
[2022-08-20 17:54:10,411.411] ERROR [4341548416] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 142, in jsonable_encoder
    data = dict(obj)
TypeError: 'wrapper_descriptor' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 146, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 245, in app
    content = await serialize_response(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 149, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 149, in jsonable_encoder
    raise ValueError(errors)
ValueError: [TypeError("'wrapper_descriptor' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2022-08-20 17:54:16,974.974] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:54:17,029.029] INFO [4341548416] - Shutting down
[2022-08-20 17:54:17,138.138] INFO [4341548416] - Waiting for application shutdown.
[2022-08-20 17:54:17,138.138] INFO [4341548416] - Application shutdown complete.
[2022-08-20 17:54:17,138.138] INFO [4341548416] - Finished server process [16606]
[2022-08-20 17:54:17,668.668] INFO [4344481152] - Started server process [16680]
[2022-08-20 17:54:17,668.668] INFO [4344481152] - Waiting for application startup.
[2022-08-20 17:54:17,668.668] INFO [4344481152] - Application startup complete.
[2022-08-20 17:54:20,284.284] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:54:20,315.315] INFO [4344481152] - Shutting down
[2022-08-20 17:54:20,416.416] INFO [4344481152] - Waiting for application shutdown.
[2022-08-20 17:54:20,416.416] INFO [4344481152] - Application shutdown complete.
[2022-08-20 17:54:20,416.416] INFO [4344481152] - Finished server process [16680]
[2022-08-20 17:54:20,908.908] INFO [4372055424] - Started server process [16695]
[2022-08-20 17:54:20,908.908] INFO [4372055424] - Waiting for application startup.
[2022-08-20 17:54:20,908.908] INFO [4372055424] - Application startup complete.
[2022-08-20 17:54:26,081.081] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:54:26,171.171] INFO [4372055424] - Shutting down
[2022-08-20 17:54:26,274.274] INFO [4372055424] - Waiting for application shutdown.
[2022-08-20 17:54:26,274.274] INFO [4372055424] - Application shutdown complete.
[2022-08-20 17:54:26,274.274] INFO [4372055424] - Finished server process [16695]
[2022-08-20 17:54:26,777.777] INFO [4300834176] - Started server process [16706]
[2022-08-20 17:54:26,778.778] INFO [4300834176] - Waiting for application startup.
[2022-08-20 17:54:26,778.778] INFO [4300834176] - Application startup complete.
[2022-08-20 17:54:35,827.827] INFO [4300834176] - 127.0.0.1:54122 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:54:35,981.981] INFO [4300834176] - 127.0.0.1:54122 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:54:48,103.103] INFO [4300834176] - 127.0.0.1:54123 - "GET /SendReport/GET?_type=2&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=awd%40mail.ru HTTP/1.1" 500
[2022-08-20 17:54:48,105.105] ERROR [4300834176] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 142, in jsonable_encoder
    data = dict(obj)
TypeError: 'wrapper_descriptor' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 146, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 245, in app
    content = await serialize_response(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 149, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 149, in jsonable_encoder
    raise ValueError(errors)
ValueError: [TypeError("'wrapper_descriptor' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2022-08-20 17:55:09,312.312] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:55:09,358.358] INFO [4300834176] - Shutting down
[2022-08-20 17:55:09,460.460] INFO [4300834176] - Waiting for application shutdown.
[2022-08-20 17:55:09,460.460] INFO [4300834176] - Application shutdown complete.
[2022-08-20 17:55:09,460.460] INFO [4300834176] - Finished server process [16706]
[2022-08-20 17:55:10,021.021] INFO [4304995712] - Started server process [16757]
[2022-08-20 17:55:10,021.021] INFO [4304995712] - Waiting for application startup.
[2022-08-20 17:55:10,022.022] INFO [4304995712] - Application startup complete.
[2022-08-20 17:55:11,247.247] INFO [4304995712] - 127.0.0.1:54127 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:55:11,357.357] INFO [4304995712] - 127.0.0.1:54127 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:55:19,192.192] INFO [4304995712] - 127.0.0.1:54128 - "GET /SendReport/GET?_type=3&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=awd HTTP/1.1" 500
[2022-08-20 17:55:19,194.194] ERROR [4304995712] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 142, in jsonable_encoder
    data = dict(obj)
TypeError: 'wrapper_descriptor' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 146, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 245, in app
    content = await serialize_response(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 149, in serialize_response
    return jsonable_encoder(response_content)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 150, in jsonable_encoder
    return jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 106, in jsonable_encoder
    encoded_value = jsonable_encoder(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/encoders.py", line 149, in jsonable_encoder
    raise ValueError(errors)
ValueError: [TypeError("'wrapper_descriptor' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2022-08-20 17:55:36,249.249] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:55:36,284.284] INFO [4304995712] - Shutting down
[2022-08-20 17:55:36,386.386] INFO [4304995712] - Waiting for application shutdown.
[2022-08-20 17:55:36,386.386] INFO [4304995712] - Application shutdown complete.
[2022-08-20 17:55:36,386.386] INFO [4304995712] - Finished server process [16757]
[2022-08-20 17:55:36,948.948] INFO [4379444608] - Started server process [16796]
[2022-08-20 17:55:36,963.963] INFO [4379444608] - Waiting for application startup.
[2022-08-20 17:55:36,963.963] INFO [4379444608] - Application startup complete.
[2022-08-20 17:55:37,870.870] INFO [4379444608] - 127.0.0.1:54132 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:55:37,977.977] INFO [4379444608] - 127.0.0.1:54132 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:55:45,722.722] INFO [4379444608] - 127.0.0.1:54133 - "GET /SendReport/GET?_type=2&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=awd HTTP/1.1" 200
[2022-08-20 17:56:33,034.034] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:56:33,090.090] INFO [4379444608] - Shutting down
[2022-08-20 17:56:33,191.191] INFO [4379444608] - Waiting for application shutdown.
[2022-08-20 17:56:33,191.191] INFO [4379444608] - Application shutdown complete.
[2022-08-20 17:56:33,192.192] INFO [4379444608] - Finished server process [16796]
[2022-08-20 17:56:33,794.794] INFO [4304110976] - Started server process [16853]
[2022-08-20 17:56:33,800.800] INFO [4304110976] - Waiting for application startup.
[2022-08-20 17:56:33,800.800] INFO [4304110976] - Application startup complete.
[2022-08-20 17:56:45,808.808] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:56:45,864.864] INFO [4304110976] - Shutting down
[2022-08-20 17:56:45,965.965] INFO [4304110976] - Waiting for application shutdown.
[2022-08-20 17:56:45,966.966] INFO [4304110976] - Application shutdown complete.
[2022-08-20 17:56:45,966.966] INFO [4304110976] - Finished server process [16853]
[2022-08-20 17:56:46,476.476] INFO [4372170112] - Started server process [16878]
[2022-08-20 17:56:46,477.477] INFO [4372170112] - Waiting for application startup.
[2022-08-20 17:56:46,477.477] INFO [4372170112] - Application startup complete.
[2022-08-20 17:57:01,370.370] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:57:01,468.468] INFO [4372170112] - Shutting down
[2022-08-20 17:57:01,574.574] INFO [4372170112] - Waiting for application shutdown.
[2022-08-20 17:57:01,574.574] INFO [4372170112] - Application shutdown complete.
[2022-08-20 17:57:01,574.574] INFO [4372170112] - Finished server process [16878]
[2022-08-20 17:57:13,202.202] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:57:13,675.675] INFO [4336452992] - Started server process [16916]
[2022-08-20 17:57:13,682.682] INFO [4336452992] - Waiting for application startup.
[2022-08-20 17:57:13,682.682] INFO [4336452992] - Application startup complete.
[2022-08-20 17:57:17,386.386] INFO [4336452992] - 127.0.0.1:54141 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:57:17,533.533] INFO [4336452992] - 127.0.0.1:54141 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:57:28,480.480] INFO [4336452992] - 127.0.0.1:54142 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=10%2F10%2F10&acceptor_email=awd HTTP/1.1" 400
[2022-08-20 17:57:39,409.409] INFO [4336452992] - 127.0.0.1:54144 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=awd%2C%20123 HTTP/1.1" 200
[2022-08-20 17:57:54,653.653] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:57:54,656.656] INFO [4336452992] - Shutting down
[2022-08-20 17:57:54,757.757] INFO [4336452992] - Waiting for application shutdown.
[2022-08-20 17:57:54,763.763] INFO [4336452992] - Application shutdown complete.
[2022-08-20 17:57:54,763.763] INFO [4336452992] - Finished server process [16916]
[2022-08-20 17:58:00,464.464] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:58:00,953.953] INFO [4330833280] - Started server process [16970]
[2022-08-20 17:58:00,970.970] INFO [4330833280] - Waiting for application startup.
[2022-08-20 17:58:00,970.970] INFO [4330833280] - Application startup complete.
[2022-08-20 17:58:02,607.607] INFO [4330833280] - 127.0.0.1:54148 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:58:02,820.820] INFO [4330833280] - 127.0.0.1:54148 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:58:58,516.516] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:58:58,522.522] INFO [4330833280] - Shutting down
[2022-08-20 17:58:58,624.624] INFO [4330833280] - Waiting for application shutdown.
[2022-08-20 17:58:58,625.625] INFO [4330833280] - Application shutdown complete.
[2022-08-20 17:58:58,625.625] INFO [4330833280] - Finished server process [16970]
[2022-08-20 17:58:59,257.257] INFO [4345791872] - Started server process [17035]
[2022-08-20 17:58:59,257.257] INFO [4345791872] - Waiting for application startup.
[2022-08-20 17:58:59,257.257] INFO [4345791872] - Application startup complete.
[2022-08-20 17:59:01,816.816] INFO [4345791872] - 127.0.0.1:54153 - "GET /swagger HTTP/1.1" 200
[2022-08-20 17:59:01,907.907] INFO [4345791872] - 127.0.0.1:54153 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 17:59:42,431.431] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 17:59:42,444.444] INFO [4345791872] - Shutting down
[2022-08-20 17:59:42,545.545] INFO [4345791872] - Waiting for application shutdown.
[2022-08-20 17:59:42,546.546] INFO [4345791872] - Application shutdown complete.
[2022-08-20 17:59:42,546.546] INFO [4345791872] - Finished server process [17035]
[2022-08-20 18:18:14,007.007] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:18:18,115.115] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:18:18,704.704] INFO [4341532032] - Started server process [18155]
[2022-08-20 18:18:18,704.704] INFO [4341532032] - Waiting for application startup.
[2022-08-20 18:18:18,704.704] INFO [4341532032] - Application startup complete.
[2022-08-20 18:18:18,705.705] INFO [4341532032] - 127.0.0.1:54371 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:18:18,861.861] INFO [4341532032] - 127.0.0.1:54371 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:18:20,579.579] INFO [4341532032] - 127.0.0.1:54371 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:18:20,680.680] INFO [4341532032] - 127.0.0.1:54371 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:20:14,996.996] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:20:15,056.056] INFO [4341532032] - Shutting down
[2022-08-20 18:20:15,158.158] INFO [4341532032] - Waiting for application shutdown.
[2022-08-20 18:20:15,158.158] INFO [4341532032] - Application shutdown complete.
[2022-08-20 18:20:15,158.158] INFO [4341532032] - Finished server process [18155]
[2022-08-20 18:20:15,798.798] INFO [4341843328] - Started server process [18267]
[2022-08-20 18:20:15,799.799] INFO [4341843328] - Waiting for application startup.
[2022-08-20 18:20:15,799.799] INFO [4341843328] - Application startup complete.
[2022-08-20 18:20:27,153.153] INFO [4341843328] - 127.0.0.1:54387 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:20:27,282.282] INFO [4341843328] - 127.0.0.1:54387 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:20:33,749.749] INFO [4341843328] - 127.0.0.1:54388 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:20:33,865.865] INFO [4341843328] - 127.0.0.1:54388 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:20:36,433.433] INFO [4341843328] - 127.0.0.1:54388 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:20:36,534.534] INFO [4341843328] - 127.0.0.1:54388 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:20:40,674.674] INFO [4341843328] - 127.0.0.1:54388 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:20:40,782.782] INFO [4341843328] - 127.0.0.1:54388 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:21:01,704.704] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:21:01,733.733] INFO [4341843328] - Shutting down
[2022-08-20 18:21:01,837.837] INFO [4341843328] - Waiting for application shutdown.
[2022-08-20 18:21:01,845.845] INFO [4341843328] - Application shutdown complete.
[2022-08-20 18:21:01,845.845] INFO [4341843328] - Finished server process [18267]
[2022-08-20 18:21:05,003.003] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:21:05,536.536] INFO [4308206976] - Started server process [18337]
[2022-08-20 18:21:05,536.536] INFO [4308206976] - Waiting for application startup.
[2022-08-20 18:21:05,537.537] INFO [4308206976] - Application startup complete.
[2022-08-20 18:21:06,306.306] INFO [4308206976] - 127.0.0.1:54397 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:21:06,437.437] INFO [4308206976] - 127.0.0.1:54397 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:21:29,964.964] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:21:29,988.988] INFO [4308206976] - Shutting down
[2022-08-20 18:21:30,091.091] INFO [4308206976] - Waiting for application shutdown.
[2022-08-20 18:21:30,096.096] INFO [4308206976] - Application shutdown complete.
[2022-08-20 18:21:30,097.097] INFO [4308206976] - Finished server process [18337]
[2022-08-20 18:21:30,645.645] INFO [4378674560] - Started server process [18367]
[2022-08-20 18:21:30,645.645] INFO [4378674560] - Waiting for application startup.
[2022-08-20 18:21:30,646.646] INFO [4378674560] - Application startup complete.
[2022-08-20 18:21:56,400.400] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:21:56,488.488] INFO [4378674560] - Shutting down
[2022-08-20 18:21:56,589.589] INFO [4378674560] - Waiting for application shutdown.
[2022-08-20 18:21:56,589.589] INFO [4378674560] - Application shutdown complete.
[2022-08-20 18:21:56,589.589] INFO [4378674560] - Finished server process [18367]
[2022-08-20 18:21:57,248.248] INFO [4312892800] - Started server process [18401]
[2022-08-20 18:21:57,261.261] INFO [4312892800] - Waiting for application startup.
[2022-08-20 18:21:57,261.261] INFO [4312892800] - Application startup complete.
[2022-08-20 18:21:58,774.774] INFO [4312892800] - 127.0.0.1:54408 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:21:58,929.929] INFO [4312892800] - 127.0.0.1:54408 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:22:05,402.402] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:22:05,466.466] INFO [4312892800] - Shutting down
[2022-08-20 18:22:05,569.569] INFO [4312892800] - Waiting for application shutdown.
[2022-08-20 18:22:05,571.571] INFO [4312892800] - Application shutdown complete.
[2022-08-20 18:22:05,571.571] INFO [4312892800] - Finished server process [18401]
[2022-08-20 18:22:06,145.145] INFO [4368532864] - Started server process [18421]
[2022-08-20 18:22:06,158.158] INFO [4368532864] - Waiting for application startup.
[2022-08-20 18:22:06,158.158] INFO [4368532864] - Application startup complete.
[2022-08-20 18:22:06,383.383] INFO [4368532864] - 127.0.0.1:54412 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:22:06,489.489] INFO [4368532864] - 127.0.0.1:54412 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:22:12,329.329] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:22:12,338.338] INFO [4368532864] - Shutting down
[2022-08-20 18:22:12,440.440] INFO [4368532864] - Waiting for application shutdown.
[2022-08-20 18:22:12,441.441] INFO [4368532864] - Application shutdown complete.
[2022-08-20 18:22:12,441.441] INFO [4368532864] - Finished server process [18421]
[2022-08-20 18:22:13,013.013] INFO [4338877824] - Started server process [18433]
[2022-08-20 18:22:13,013.013] INFO [4338877824] - Waiting for application startup.
[2022-08-20 18:22:13,014.014] INFO [4338877824] - Application startup complete.
[2022-08-20 18:22:22,511.511] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:22:22,543.543] INFO [4338877824] - Shutting down
[2022-08-20 18:22:22,644.644] INFO [4338877824] - Waiting for application shutdown.
[2022-08-20 18:22:22,644.644] INFO [4338877824] - Application shutdown complete.
[2022-08-20 18:22:22,645.645] INFO [4338877824] - Finished server process [18433]
[2022-08-20 18:22:23,185.185] INFO [4315448704] - Started server process [18451]
[2022-08-20 18:22:23,194.194] INFO [4315448704] - Waiting for application startup.
[2022-08-20 18:22:23,195.195] INFO [4315448704] - Application startup complete.
[2022-08-20 18:22:25,573.573] INFO [4315448704] - 127.0.0.1:54422 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:22:25,685.685] INFO [4315448704] - 127.0.0.1:54422 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:24:19,570.570] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:24:19,656.656] INFO [4315448704] - Shutting down
[2022-08-20 18:24:19,757.757] INFO [4315448704] - Waiting for application shutdown.
[2022-08-20 18:24:19,758.758] INFO [4315448704] - Application shutdown complete.
[2022-08-20 18:24:19,758.758] INFO [4315448704] - Finished server process [18451]
[2022-08-20 18:24:20,360.360] INFO [4339385728] - Started server process [18574]
[2022-08-20 18:24:20,360.360] INFO [4339385728] - Waiting for application startup.
[2022-08-20 18:24:20,360.360] INFO [4339385728] - Application startup complete.
[2022-08-20 18:24:25,466.466] INFO [4339385728] - 127.0.0.1:54433 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:24:25,576.576] INFO [4339385728] - 127.0.0.1:54433 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:24:45,264.264] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:24:45,300.300] INFO [4339385728] - Shutting down
[2022-08-20 18:24:45,402.402] INFO [4339385728] - Waiting for application shutdown.
[2022-08-20 18:24:45,402.402] INFO [4339385728] - Application shutdown complete.
[2022-08-20 18:24:45,402.402] INFO [4339385728] - Finished server process [18574]
[2022-08-20 18:24:45,999.999] INFO [4376331648] - Started server process [18610]
[2022-08-20 18:24:45,999.999] INFO [4376331648] - Waiting for application startup.
[2022-08-20 18:24:46,000.000] INFO [4376331648] - Application startup complete.
[2022-08-20 18:24:46,607.607] INFO [4376331648] - 127.0.0.1:54438 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:24:46,713.713] INFO [4376331648] - 127.0.0.1:54438 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:25:54,565.565] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:25:54,599.599] INFO [4376331648] - Shutting down
[2022-08-20 18:25:54,700.700] INFO [4376331648] - Waiting for application shutdown.
[2022-08-20 18:25:54,700.700] INFO [4376331648] - Application shutdown complete.
[2022-08-20 18:25:54,700.700] INFO [4376331648] - Finished server process [18610]
[2022-08-20 18:25:55,273.273] INFO [4373562752] - Started server process [18677]
[2022-08-20 18:25:55,286.286] INFO [4373562752] - Waiting for application startup.
[2022-08-20 18:25:55,286.286] INFO [4373562752] - Application startup complete.
[2022-08-20 18:25:56,542.542] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:25:56,610.610] INFO [4373562752] - Shutting down
[2022-08-20 18:25:56,730.730] INFO [4373562752] - Waiting for application shutdown.
[2022-08-20 18:25:56,731.731] INFO [4373562752] - Application shutdown complete.
[2022-08-20 18:25:56,731.731] INFO [4373562752] - Finished server process [18677]
[2022-08-20 18:25:57,261.261] INFO [4300162432] - Started server process [18687]
[2022-08-20 18:25:57,261.261] INFO [4300162432] - Waiting for application startup.
[2022-08-20 18:25:57,261.261] INFO [4300162432] - Application startup complete.
[2022-08-20 18:25:58,549.549] INFO [4300162432] - 127.0.0.1:54447 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:25:58,704.704] INFO [4300162432] - 127.0.0.1:54447 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:26:16,580.580] INFO [4300162432] - 127.0.0.1:54448 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=awd%40mail.ru%20awd%40mail.ru HTTP/1.1" 200
[2022-08-20 18:26:59,654.654] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:26:59,728.728] INFO [4300162432] - Shutting down
[2022-08-20 18:26:59,830.830] INFO [4300162432] - Waiting for application shutdown.
[2022-08-20 18:26:59,834.834] INFO [4300162432] - Application shutdown complete.
[2022-08-20 18:26:59,834.834] INFO [4300162432] - Finished server process [18687]
[2022-08-20 18:27:00,389.389] INFO [4367222144] - Started server process [18759]
[2022-08-20 18:27:00,389.389] INFO [4367222144] - Waiting for application startup.
[2022-08-20 18:27:00,389.389] INFO [4367222144] - Application startup complete.
[2022-08-20 18:27:44,592.592] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:27:44,652.652] INFO [4367222144] - Shutting down
[2022-08-20 18:27:44,754.754] INFO [4367222144] - Waiting for application shutdown.
[2022-08-20 18:27:44,754.754] INFO [4367222144] - Application shutdown complete.
[2022-08-20 18:27:44,754.754] INFO [4367222144] - Finished server process [18759]
[2022-08-20 18:27:45,306.306] INFO [4336829824] - Started server process [18819]
[2022-08-20 18:27:45,306.306] INFO [4336829824] - Waiting for application startup.
[2022-08-20 18:27:45,306.306] INFO [4336829824] - Application startup complete.
[2022-08-20 18:27:48,651.651] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:27:48,750.750] INFO [4336829824] - Shutting down
[2022-08-20 18:27:48,857.857] INFO [4336829824] - Waiting for application shutdown.
[2022-08-20 18:27:48,865.865] INFO [4336829824] - Application shutdown complete.
[2022-08-20 18:27:48,866.866] INFO [4336829824] - Finished server process [18819]
[2022-08-20 18:27:49,412.412] INFO [4310615424] - Started server process [18830]
[2022-08-20 18:27:49,412.412] INFO [4310615424] - Waiting for application startup.
[2022-08-20 18:27:49,412.412] INFO [4310615424] - Application startup complete.
[2022-08-20 18:27:50,671.671] INFO [4310615424] - 127.0.0.1:54460 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:27:50,792.792] INFO [4310615424] - 127.0.0.1:54460 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:32:29,721.721] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:32:29,750.750] INFO [4310615424] - Shutting down
[2022-08-20 18:32:29,851.851] INFO [4310615424] - Waiting for application shutdown.
[2022-08-20 18:32:29,862.862] INFO [4310615424] - Application shutdown complete.
[2022-08-20 18:32:29,862.862] INFO [4310615424] - Finished server process [18830]
[2022-08-20 18:32:30,446.446] INFO [4376249728] - Started server process [19095]
[2022-08-20 18:32:30,446.446] INFO [4376249728] - Waiting for application startup.
[2022-08-20 18:32:30,446.446] INFO [4376249728] - Application startup complete.
[2022-08-20 18:32:37,885.885] INFO [4376249728] - 127.0.0.1:54496 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:32:38,042.042] INFO [4376249728] - 127.0.0.1:54496 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:33:17,464.464] INFO [4376249728] - 127.0.0.1:54497 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=arif%40mai.ru&acceptor_email=test%40mau.r HTTP/1.1" 200
[2022-08-20 18:33:41,074.074] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:33:41,094.094] INFO [4376249728] - Shutting down
[2022-08-20 18:33:41,196.196] INFO [4376249728] - Waiting for application shutdown.
[2022-08-20 18:33:41,201.201] INFO [4376249728] - Application shutdown complete.
[2022-08-20 18:33:41,201.201] INFO [4376249728] - Finished server process [19095]
[2022-08-20 18:33:44,351.351] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:33:44,880.880] INFO [4372497792] - Started server process [19184]
[2022-08-20 18:33:44,880.880] INFO [4372497792] - Waiting for application startup.
[2022-08-20 18:33:44,881.881] INFO [4372497792] - Application startup complete.
[2022-08-20 18:33:47,964.964] INFO [4372497792] - 127.0.0.1:54502 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:33:48,110.110] INFO [4372497792] - 127.0.0.1:54502 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:34:45,917.917] INFO [4372497792] - 127.0.0.1:54503 - "GET /SendReport/GET?_type=2&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=test%40code.edu.az HTTP/1.1" 200
[2022-08-20 18:34:57,864.864] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:34:57,904.904] INFO [4372497792] - Shutting down
[2022-08-20 18:34:58,012.012] INFO [4372497792] - Waiting for application shutdown.
[2022-08-20 18:34:58,023.023] INFO [4372497792] - Application shutdown complete.
[2022-08-20 18:34:58,023.023] INFO [4372497792] - Finished server process [19184]
[2022-08-20 18:34:58,563.563] INFO [4310582656] - Started server process [19261]
[2022-08-20 18:34:58,563.563] INFO [4310582656] - Waiting for application startup.
[2022-08-20 18:34:58,563.563] INFO [4310582656] - Application startup complete.
[2022-08-20 18:35:41,026.026] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:35:41,072.072] INFO [4310582656] - Shutting down
[2022-08-20 18:35:41,173.173] INFO [4310582656] - Waiting for application shutdown.
[2022-08-20 18:35:41,173.173] INFO [4310582656] - Application shutdown complete.
[2022-08-20 18:35:41,173.173] INFO [4310582656] - Finished server process [19261]
[2022-08-20 18:35:41,841.841] INFO [4373104000] - Started server process [19310]
[2022-08-20 18:35:41,852.852] INFO [4373104000] - Waiting for application startup.
[2022-08-20 18:35:41,853.853] INFO [4373104000] - Application startup complete.
[2022-08-20 18:39:58,694.694] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:39:58,805.805] INFO [4373104000] - Shutting down
[2022-08-20 18:39:58,906.906] INFO [4373104000] - Waiting for application shutdown.
[2022-08-20 18:39:58,918.918] INFO [4373104000] - Application shutdown complete.
[2022-08-20 18:39:58,918.918] INFO [4373104000] - Finished server process [19310]
[2022-08-20 18:39:59,579.579] INFO [4306470272] - Started server process [19559]
[2022-08-20 18:39:59,579.579] INFO [4306470272] - Waiting for application startup.
[2022-08-20 18:39:59,580.580] INFO [4306470272] - Application startup complete.
[2022-08-20 18:40:16,622.622] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:40:16,684.684] INFO [4306470272] - Shutting down
[2022-08-20 18:40:16,786.786] INFO [4306470272] - Waiting for application shutdown.
[2022-08-20 18:40:16,786.786] INFO [4306470272] - Application shutdown complete.
[2022-08-20 18:40:16,787.787] INFO [4306470272] - Finished server process [19559]
[2022-08-20 18:40:17,415.415] INFO [4368549248] - Started server process [19587]
[2022-08-20 18:40:17,415.415] INFO [4368549248] - Waiting for application startup.
[2022-08-20 18:40:17,415.415] INFO [4368549248] - Application startup complete.
[2022-08-20 18:40:21,709.709] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:40:21,773.773] INFO [4368549248] - Shutting down
[2022-08-20 18:40:21,877.877] INFO [4368549248] - Waiting for application shutdown.
[2022-08-20 18:40:21,877.877] INFO [4368549248] - Application shutdown complete.
[2022-08-20 18:40:21,878.878] INFO [4368549248] - Finished server process [19587]
[2022-08-20 18:40:22,409.409] INFO [4374152576] - Started server process [19597]
[2022-08-20 18:40:22,409.409] INFO [4374152576] - Waiting for application startup.
[2022-08-20 18:40:22,409.409] INFO [4374152576] - Application startup complete.
[2022-08-20 18:40:25,316.316] INFO [4374152576] - 127.0.0.1:54562 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:40:25,505.505] INFO [4374152576] - 127.0.0.1:54562 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:40:42,890.890] INFO [4374152576] - 127.0.0.1:54563 - "GET /SendReport/GET?_type=3&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=aw%40code.edu.az HTTP/1.1" 500
[2022-08-20 18:40:42,891.891] ERROR [4374152576] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 98, in get_method
    df = pd.read_sql(f"SELECT * FROM {file_name_str};", conn)
NameError: name 'file_name_str' is not defined
[2022-08-20 18:41:07,365.365] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:41:07,441.441] INFO [4374152576] - Shutting down
[2022-08-20 18:41:07,542.542] INFO [4374152576] - Waiting for application shutdown.
[2022-08-20 18:41:07,542.542] INFO [4374152576] - Application shutdown complete.
[2022-08-20 18:41:07,542.542] INFO [4374152576] - Finished server process [19597]
[2022-08-20 18:41:08,153.153] INFO [4337632640] - Started server process [19646]
[2022-08-20 18:41:08,166.166] INFO [4337632640] - Waiting for application startup.
[2022-08-20 18:41:08,166.166] INFO [4337632640] - Application startup complete.
[2022-08-20 18:41:28,287.287] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:41:28,317.317] INFO [4337632640] - Shutting down
[2022-08-20 18:41:28,419.419] INFO [4337632640] - Waiting for application shutdown.
[2022-08-20 18:41:28,419.419] INFO [4337632640] - Application shutdown complete.
[2022-08-20 18:41:28,419.419] INFO [4337632640] - Finished server process [19646]
[2022-08-20 18:41:28,972.972] INFO [4343907712] - Started server process [19677]
[2022-08-20 18:41:28,977.977] INFO [4343907712] - Waiting for application startup.
[2022-08-20 18:41:28,977.977] INFO [4343907712] - Application startup complete.
[2022-08-20 18:41:30,452.452] INFO [4343907712] - 127.0.0.1:54570 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:41:30,564.564] INFO [4343907712] - 127.0.0.1:54570 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:41:43,006.006] INFO [4343907712] - 127.0.0.1:54571 - "GET /SendReport/GET?_type=3&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=awd%40code.edu.az HTTP/1.1" 500
[2022-08-20 18:41:43,007.007] ERROR [4343907712] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "none" does not exist
LINE 1: SELECT * FROM None;
                      ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 96, in get_method
    df = pd.read_sql(f"SELECT * FROM {d['file_name']};", conn)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/io/sql.py", line 592, in read_sql
    return pandas_sql.read_query(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/io/sql.py", line 1557, in read_query
    result = self.execute(*args)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/io/sql.py", line 1402, in execute
    return self.connectable.execution_options().execute(*args, **kwargs)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "none" does not exist
LINE 1: SELECT * FROM None;
                      ^

[SQL: SELECT * FROM None;]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 18:42:55,792.792] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:42:55,889.889] INFO [4343907712] - Shutting down
[2022-08-20 18:42:55,990.990] INFO [4343907712] - Waiting for application shutdown.
[2022-08-20 18:42:55,991.991] INFO [4343907712] - Application shutdown complete.
[2022-08-20 18:42:55,991.991] INFO [4343907712] - Finished server process [19677]
[2022-08-20 18:42:56,612.612] INFO [4307371392] - Started server process [19772]
[2022-08-20 18:42:56,612.612] INFO [4307371392] - Waiting for application startup.
[2022-08-20 18:42:56,612.612] INFO [4307371392] - Application startup complete.
[2022-08-20 18:42:58,551.551] INFO [4307371392] - 127.0.0.1:54578 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:42:58,661.661] INFO [4307371392] - 127.0.0.1:54578 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:43:08,320.320] INFO [4307371392] - 127.0.0.1:54579 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=aed%40code.edu.az HTTP/1.1" 400
[2022-08-20 18:43:17,884.884] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:43:17,927.927] INFO [4307371392] - Shutting down
[2022-08-20 18:43:18,032.032] INFO [4307371392] - Waiting for application shutdown.
[2022-08-20 18:43:18,039.039] INFO [4307371392] - Application shutdown complete.
[2022-08-20 18:43:18,039.039] INFO [4307371392] - Finished server process [19772]
[2022-08-20 18:43:18,637.637] INFO [4338091392] - Started server process [19803]
[2022-08-20 18:43:18,637.637] INFO [4338091392] - Waiting for application startup.
[2022-08-20 18:43:18,637.637] INFO [4338091392] - Application startup complete.
[2022-08-20 18:48:34,461.461] INFO [4338091392] - 127.0.0.1:54586 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:48:34,656.656] INFO [4338091392] - 127.0.0.1:54586 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:48:49,486.486] INFO [4338091392] - 127.0.0.1:54587 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-20 18:48:49,487.487] ERROR [4338091392] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/compat/_optional.py", line 138, in import_optional_dependency
    module = importlib.import_module(name)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1014, in _gcd_import
  File "<frozen importlib._bootstrap>", line 991, in _find_and_load
  File "<frozen importlib._bootstrap>", line 973, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'openpyxl'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 64, in upload
    df = pd.read_excel(content) # created dataframe object
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/io/excel/_openpyxl.py", line 524, in __init__
    import_optional_dependency("openpyxl")
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/compat/_optional.py", line 141, in import_optional_dependency
    raise ImportError(msg)
ImportError: Missing optional dependency 'openpyxl'.  Use pip or conda to install openpyxl.
[2022-08-20 18:49:03,946.946] INFO [4338091392] - 127.0.0.1:54592 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:49:04,066.066] INFO [4338091392] - 127.0.0.1:54592 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:49:11,796.796] INFO [4338091392] - 127.0.0.1:54593 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-20 18:49:45,861.861] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:49:45,959.959] INFO [4338091392] - Shutting down
[2022-08-20 18:49:46,061.061] INFO [4338091392] - Waiting for application shutdown.
[2022-08-20 18:49:46,061.061] INFO [4338091392] - Application shutdown complete.
[2022-08-20 18:49:46,061.061] INFO [4338091392] - Finished server process [19803]
[2022-08-20 18:49:46,646.646] INFO [4333405568] - Started server process [20195]
[2022-08-20 18:49:46,663.663] INFO [4333405568] - Waiting for application startup.
[2022-08-20 18:49:46,664.664] INFO [4333405568] - Application startup complete.
[2022-08-20 18:49:48,726.726] INFO [4333405568] - 127.0.0.1:54597 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:49:48,831.831] INFO [4333405568] - 127.0.0.1:54597 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:50:02,510.510] INFO [4333405568] - 127.0.0.1:54598 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=ar%40code.edu.az HTTP/1.1" 400
[2022-08-20 18:50:36,965.965] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:50:37,041.041] INFO [4333405568] - Shutting down
[2022-08-20 18:50:37,142.142] INFO [4333405568] - Waiting for application shutdown.
[2022-08-20 18:50:37,171.171] INFO [4333405568] - Application shutdown complete.
[2022-08-20 18:50:37,171.171] INFO [4333405568] - Finished server process [20195]
[2022-08-20 18:50:37,729.729] INFO [4300981632] - Started server process [20258]
[2022-08-20 18:50:37,729.729] INFO [4300981632] - Waiting for application startup.
[2022-08-20 18:50:37,729.729] INFO [4300981632] - Application startup complete.
[2022-08-20 18:50:38,526.526] INFO [4300981632] - 127.0.0.1:54602 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:50:38,701.701] INFO [4300981632] - 127.0.0.1:54602 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:50:51,567.567] INFO [4300981632] - 127.0.0.1:54603 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=a%40code.edu.az HTTP/1.1" 400
[2022-08-20 18:52:11,629.629] INFO [4300981632] - 127.0.0.1:54607 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-20 18:52:17,683.683] INFO [4300981632] - 127.0.0.1:54609 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=a%40code.edu.az HTTP/1.1" 500
[2022-08-20 18:52:17,684.684] ERROR [4300981632] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 104, in get_method
    if df:
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/core/generic.py", line 1527, in __nonzero__
    raise ValueError(
ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
[2022-08-20 18:53:22,853.853] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:53:22,881.881] INFO [4300981632] - Shutting down
[2022-08-20 18:53:22,982.982] INFO [4300981632] - Waiting for application shutdown.
[2022-08-20 18:53:22,983.983] INFO [4300981632] - Application shutdown complete.
[2022-08-20 18:53:22,983.983] INFO [4300981632] - Finished server process [20258]
[2022-08-20 18:53:23,556.556] INFO [4375610752] - Started server process [20421]
[2022-08-20 18:53:23,556.556] INFO [4375610752] - Waiting for application startup.
[2022-08-20 18:53:23,556.556] INFO [4375610752] - Application startup complete.
[2022-08-20 18:53:25,976.976] INFO [4375610752] - 127.0.0.1:54612 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:53:26,133.133] INFO [4375610752] - 127.0.0.1:54612 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:53:37,471.471] INFO [4375610752] - 127.0.0.1:54613 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=a%40code.edu.az HTTP/1.1" 400
[2022-08-20 18:55:06,204.204] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:55:06,287.287] INFO [4375610752] - Shutting down
[2022-08-20 18:55:06,388.388] INFO [4375610752] - Waiting for application shutdown.
[2022-08-20 18:55:06,389.389] INFO [4375610752] - Application shutdown complete.
[2022-08-20 18:55:06,389.389] INFO [4375610752] - Finished server process [20421]
[2022-08-20 18:55:06,930.930] INFO [4346135936] - Started server process [20554]
[2022-08-20 18:55:06,930.930] INFO [4346135936] - Waiting for application startup.
[2022-08-20 18:55:06,931.931] INFO [4346135936] - Application startup complete.
[2022-08-20 18:55:11,330.330] INFO [4346135936] - 127.0.0.1:54800 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:55:11,473.473] INFO [4346135936] - 127.0.0.1:54800 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:55:24,918.918] INFO [4346135936] - 127.0.0.1:54801 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=a%40code.edu.az HTTP/1.1" 500
[2022-08-20 18:55:24,934.934] ERROR [4346135936] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 104, in get_method
    if df:
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/core/generic.py", line 1527, in __nonzero__
    raise ValueError(
ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
[2022-08-20 18:56:57,203.203] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:56:57,290.290] INFO [4346135936] - Shutting down
[2022-08-20 18:56:57,391.391] INFO [4346135936] - Waiting for application shutdown.
[2022-08-20 18:56:57,391.391] INFO [4346135936] - Application shutdown complete.
[2022-08-20 18:56:57,392.392] INFO [4346135936] - Finished server process [20554]
[2022-08-20 18:56:57,953.953] INFO [4305208704] - Started server process [20677]
[2022-08-20 18:56:57,953.953] INFO [4305208704] - Waiting for application startup.
[2022-08-20 18:56:57,954.954] INFO [4305208704] - Application startup complete.
[2022-08-20 18:57:00,818.818] INFO [4305208704] - 127.0.0.1:54817 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:57:00,924.924] INFO [4305208704] - 127.0.0.1:54817 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:57:12,256.256] INFO [4305208704] - 127.0.0.1:54818 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=a%40code.edu.az HTTP/1.1" 200
[2022-08-20 18:57:55,196.196] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:57:55,228.228] INFO [4305208704] - Shutting down
[2022-08-20 18:57:55,330.330] INFO [4305208704] - Waiting for application shutdown.
[2022-08-20 18:57:55,330.330] INFO [4305208704] - Application shutdown complete.
[2022-08-20 18:57:55,330.330] INFO [4305208704] - Finished server process [20677]
[2022-08-20 18:57:55,893.893] INFO [4340417920] - Started server process [20743]
[2022-08-20 18:57:55,903.903] INFO [4340417920] - Waiting for application startup.
[2022-08-20 18:57:55,903.903] INFO [4340417920] - Application startup complete.
[2022-08-20 18:57:57,890.890] INFO [4340417920] - 127.0.0.1:54825 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:57:57,997.997] INFO [4340417920] - 127.0.0.1:54825 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:58:10,520.520] INFO [4340417920] - 127.0.0.1:54826 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=a%40code.edu.az HTTP/1.1" 200
[2022-08-20 18:59:21,631.631] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:59:21,699.699] INFO [4340417920] - Shutting down
[2022-08-20 18:59:21,800.800] INFO [4340417920] - Waiting for application shutdown.
[2022-08-20 18:59:21,800.800] INFO [4340417920] - Application shutdown complete.
[2022-08-20 18:59:21,800.800] INFO [4340417920] - Finished server process [20743]
[2022-08-20 18:59:24,704.704] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 18:59:25,200.200] INFO [4378428800] - Started server process [20834]
[2022-08-20 18:59:25,201.201] INFO [4378428800] - Waiting for application startup.
[2022-08-20 18:59:25,201.201] INFO [4378428800] - Application startup complete.
[2022-08-20 18:59:29,104.104] INFO [4378428800] - 127.0.0.1:54834 - "GET /swagger HTTP/1.1" 200
[2022-08-20 18:59:29,229.229] INFO [4378428800] - 127.0.0.1:54834 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 18:59:39,657.657] INFO [4378428800] - 127.0.0.1:54835 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=a%40code.edu.az HTTP/1.1" 400
[2022-08-20 19:00:18,858.858] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:00:18,894.894] INFO [4378428800] - Shutting down
[2022-08-20 19:00:19,012.012] INFO [4378428800] - Waiting for application shutdown.
[2022-08-20 19:00:19,023.023] INFO [4378428800] - Application shutdown complete.
[2022-08-20 19:00:19,024.024] INFO [4378428800] - Finished server process [20834]
[2022-08-20 19:00:19,634.634] INFO [4335175040] - Started server process [20894]
[2022-08-20 19:00:19,634.634] INFO [4335175040] - Waiting for application startup.
[2022-08-20 19:00:19,634.634] INFO [4335175040] - Application startup complete.
[2022-08-20 19:00:50,388.388] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:00:50,445.445] INFO [4335175040] - Shutting down
[2022-08-20 19:00:50,547.547] INFO [4335175040] - Waiting for application shutdown.
[2022-08-20 19:00:50,547.547] INFO [4335175040] - Application shutdown complete.
[2022-08-20 19:00:50,547.547] INFO [4335175040] - Finished server process [20894]
[2022-08-20 19:00:51,065.065] INFO [4343612800] - Started server process [20937]
[2022-08-20 19:00:51,065.065] INFO [4343612800] - Waiting for application startup.
[2022-08-20 19:00:51,066.066] INFO [4343612800] - Application startup complete.
[2022-08-20 19:00:53,785.785] INFO [4343612800] - 127.0.0.1:54862 - "GET /swagger HTTP/1.1" 200
[2022-08-20 19:00:53,941.941] INFO [4343612800] - 127.0.0.1:54862 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 19:01:02,780.780] INFO [4343612800] - 127.0.0.1:54863 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=a%40code.edu.az HTTP/1.1" 400
[2022-08-20 19:01:14,450.450] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:01:14,457.457] INFO [4343612800] - Shutting down
[2022-08-20 19:01:14,558.558] INFO [4343612800] - Waiting for application shutdown.
[2022-08-20 19:01:14,558.558] INFO [4343612800] - Application shutdown complete.
[2022-08-20 19:01:14,558.558] INFO [4343612800] - Finished server process [20937]
[2022-08-20 19:01:15,072.072] INFO [4305683840] - Started server process [20966]
[2022-08-20 19:01:15,072.072] INFO [4305683840] - Waiting for application startup.
[2022-08-20 19:01:15,072.072] INFO [4305683840] - Application startup complete.
[2022-08-20 19:01:17,869.869] INFO [4305683840] - 127.0.0.1:54869 - "GET /swagger HTTP/1.1" 200
[2022-08-20 19:01:17,982.982] INFO [4305683840] - 127.0.0.1:54869 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 19:01:26,797.797] INFO [4305683840] - 127.0.0.1:54870 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=gceyFEsrS%2Bm%2BMxGCvISl%40code%22eduAaz HTTP/1.1" 200
[2022-08-20 19:02:33,401.401] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:02:33,422.422] INFO [4305683840] - Shutting down
[2022-08-20 19:02:33,533.533] INFO [4305683840] - Waiting for application shutdown.
[2022-08-20 19:02:33,533.533] INFO [4305683840] - Application shutdown complete.
[2022-08-20 19:02:33,533.533] INFO [4305683840] - Finished server process [20966]
[2022-08-20 19:02:34,200.200] INFO [4334077312] - Started server process [21044]
[2022-08-20 19:02:34,200.200] INFO [4334077312] - Waiting for application startup.
[2022-08-20 19:02:34,200.200] INFO [4334077312] - Application startup complete.
[2022-08-20 19:02:35,663.663] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:02:35,719.719] INFO [4334077312] - Shutting down
[2022-08-20 19:02:35,821.821] INFO [4334077312] - Waiting for application shutdown.
[2022-08-20 19:02:35,822.822] INFO [4334077312] - Application shutdown complete.
[2022-08-20 19:02:35,822.822] INFO [4334077312] - Finished server process [21044]
[2022-08-20 19:02:36,416.416] INFO [4346054016] - Started server process [21057]
[2022-08-20 19:02:36,417.417] INFO [4346054016] - Waiting for application startup.
[2022-08-20 19:02:36,417.417] INFO [4346054016] - Application startup complete.
[2022-08-20 19:02:36,573.573] INFO [4346054016] - 127.0.0.1:54875 - "GET /swagger HTTP/1.1" 200
[2022-08-20 19:02:36,668.668] INFO [4346054016] - 127.0.0.1:54875 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 19:02:44,854.854] INFO [4346054016] - 127.0.0.1:54876 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=S8VwVu6D2-rl2DWpgHC5Rz%2B51sYHp5%40code%24edu%5Baz HTTP/1.1" 400
[2022-08-20 19:03:36,735.735] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:03:36,745.745] INFO [4346054016] - Shutting down
[2022-08-20 19:03:36,857.857] INFO [4346054016] - Waiting for application shutdown.
[2022-08-20 19:03:36,874.874] INFO [4346054016] - Application shutdown complete.
[2022-08-20 19:03:36,874.874] INFO [4346054016] - Finished server process [21057]
[2022-08-20 19:03:37,454.454] INFO [4315497856] - Started server process [21118]
[2022-08-20 19:03:37,454.454] INFO [4315497856] - Waiting for application startup.
[2022-08-20 19:03:37,454.454] INFO [4315497856] - Application startup complete.
[2022-08-20 19:03:40,025.025] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:03:40,089.089] INFO [4315497856] - Shutting down
[2022-08-20 19:03:40,191.191] INFO [4315497856] - Waiting for application shutdown.
[2022-08-20 19:03:40,195.195] INFO [4315497856] - Application shutdown complete.
[2022-08-20 19:03:40,196.196] INFO [4315497856] - Finished server process [21118]
[2022-08-20 19:03:40,707.707] INFO [4310517120] - Started server process [21132]
[2022-08-20 19:03:40,707.707] INFO [4310517120] - Waiting for application startup.
[2022-08-20 19:03:40,707.707] INFO [4310517120] - Application startup complete.
[2022-08-20 19:03:42,707.707] INFO [4310517120] - 127.0.0.1:54882 - "GET /swagger HTTP/1.1" 200
[2022-08-20 19:03:42,804.804] INFO [4310517120] - 127.0.0.1:54882 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 19:03:48,774.774] INFO [4310517120] - 127.0.0.1:54883 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=ACuLWI6lm27LuBE3Cjant9WDRR3HLhHGuyIV%250Jyt%40codeZedu5az HTTP/1.1" 400
[2022-08-20 19:03:57,193.193] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:03:57,235.235] INFO [4310517120] - Shutting down
[2022-08-20 19:03:57,337.337] INFO [4310517120] - Waiting for application shutdown.
[2022-08-20 19:03:57,350.350] INFO [4310517120] - Application shutdown complete.
[2022-08-20 19:03:57,350.350] INFO [4310517120] - Finished server process [21132]
[2022-08-20 19:03:57,879.879] INFO [4371236224] - Started server process [21151]
[2022-08-20 19:03:57,880.880] INFO [4371236224] - Waiting for application startup.
[2022-08-20 19:03:57,880.880] INFO [4371236224] - Application startup complete.
[2022-08-20 19:03:58,758.758] INFO [4371236224] - 127.0.0.1:54887 - "GET /swagger HTTP/1.1" 200
[2022-08-20 19:03:58,861.861] INFO [4371236224] - 127.0.0.1:54887 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 19:04:04,209.209] INFO [4371236224] - 127.0.0.1:54888 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=hM%25Vh3m2Su6qMBRq38RjFaRhT-EA%250nm.dfLFWcNoKZ_A1hPeFzcy-Az8_i%2BIEV_mRKXTIIbPIBkyb6AG57W_5DdS4aUZy3%40code2eduVaz HTTP/1.1" 500
[2022-08-20 19:04:04,210.210] ERROR [4371236224] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 107, in get_method
    print(df)
NameError: name 'df' is not defined
[2022-08-20 19:04:20,216.216] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:04:20,258.258] INFO [4371236224] - Shutting down
[2022-08-20 19:04:20,360.360] INFO [4371236224] - Waiting for application shutdown.
[2022-08-20 19:04:20,366.366] INFO [4371236224] - Application shutdown complete.
[2022-08-20 19:04:20,366.366] INFO [4371236224] - Finished server process [21151]
[2022-08-20 19:04:20,912.912] INFO [4380493184] - Started server process [21181]
[2022-08-20 19:04:20,912.912] INFO [4380493184] - Waiting for application startup.
[2022-08-20 19:04:20,912.912] INFO [4380493184] - Application startup complete.
[2022-08-20 19:04:21,883.883] INFO [4380493184] - 127.0.0.1:54891 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=hM%25Vh3m2Su6qMBRq38RjFaRhT-EA%250nm.dfLFWcNoKZ_A1hPeFzcy-Az8_i%2BIEV_mRKXTIIbPIBkyb6AG57W_5DdS4aUZy3%40code2eduVaz HTTP/1.1" 200
[2022-08-20 19:04:34,322.322] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:04:34,373.373] INFO [4380493184] - Shutting down
[2022-08-20 19:04:34,474.474] INFO [4380493184] - Waiting for application shutdown.
[2022-08-20 19:04:34,474.474] INFO [4380493184] - Application shutdown complete.
[2022-08-20 19:04:34,474.474] INFO [4380493184] - Finished server process [21181]
[2022-08-20 19:04:34,964.964] INFO [4332553600] - Started server process [21201]
[2022-08-20 19:04:34,964.964] INFO [4332553600] - Waiting for application startup.
[2022-08-20 19:04:34,964.964] INFO [4332553600] - Application startup complete.
[2022-08-20 19:04:36,447.447] INFO [4332553600] - 127.0.0.1:54894 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=hM%25Vh3m2Su6qMBRq38RjFaRhT-EA%250nm.dfLFWcNoKZ_A1hPeFzcy-Az8_i%2BIEV_mRKXTIIbPIBkyb6AG57W_5DdS4aUZy3%40code2eduVaz HTTP/1.1" 200
[2022-08-20 19:05:53,331.331] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:05:53,342.342] INFO [4332553600] - Shutting down
[2022-08-20 19:05:53,444.444] INFO [4332553600] - Waiting for application shutdown.
[2022-08-20 19:05:53,460.460] INFO [4332553600] - Application shutdown complete.
[2022-08-20 19:05:53,460.460] INFO [4332553600] - Finished server process [21201]
[2022-08-20 19:06:36,882.882] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:06:46,613.613] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:06:54,565.565] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:06:55,073.073] INFO [4338992512] - Started server process [21352]
[2022-08-20 19:06:55,073.073] INFO [4338992512] - Waiting for application startup.
[2022-08-20 19:06:55,073.073] INFO [4338992512] - Application startup complete.
[2022-08-20 19:06:58,152.152] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:06:58,218.218] INFO [4338992512] - Shutting down
[2022-08-20 19:06:58,320.320] INFO [4338992512] - Waiting for application shutdown.
[2022-08-20 19:06:58,320.320] INFO [4338992512] - Application shutdown complete.
[2022-08-20 19:06:58,320.320] INFO [4338992512] - Finished server process [21352]
[2022-08-20 19:06:58,814.814] INFO [4309583232] - Started server process [21360]
[2022-08-20 19:06:58,814.814] INFO [4309583232] - Waiting for application startup.
[2022-08-20 19:06:58,814.814] INFO [4309583232] - Application startup complete.
[2022-08-20 19:07:02,525.525] INFO [4309583232] - 127.0.0.1:54903 - "GET /swagger HTTP/1.1" 200
[2022-08-20 19:07:02,657.657] INFO [4309583232] - 127.0.0.1:54903 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 19:07:14,083.083] INFO [4309583232] - 127.0.0.1:54904 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-20 19:07:25,312.312] INFO [4309583232] - 127.0.0.1:54907 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=SLlbp7N6mB_UmpeBputEsi8_1T2L_jRhFERuIBLNs2nSB_m8XroJnlG%25HPhs-gW2egvhl_1TVG11lGgQvU.NwBSQhYMlVA-ckfSL%40codeqeduVaz HTTP/1.1" 400
[2022-08-20 19:08:08,425.425] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:08:08,511.511] INFO [4309583232] - Shutting down
[2022-08-20 19:08:08,613.613] INFO [4309583232] - Waiting for application shutdown.
[2022-08-20 19:08:08,613.613] INFO [4309583232] - Application shutdown complete.
[2022-08-20 19:08:08,613.613] INFO [4309583232] - Finished server process [21360]
[2022-08-20 19:08:09,239.239] INFO [4334421376] - Started server process [21437]
[2022-08-20 19:08:09,239.239] INFO [4334421376] - Waiting for application startup.
[2022-08-20 19:08:09,239.239] INFO [4334421376] - Application startup complete.
[2022-08-20 19:08:29,976.976] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:08:30,015.015] INFO [4334421376] - Shutting down
[2022-08-20 19:08:30,116.116] INFO [4334421376] - Waiting for application shutdown.
[2022-08-20 19:08:30,116.116] INFO [4334421376] - Application shutdown complete.
[2022-08-20 19:08:30,116.116] INFO [4334421376] - Finished server process [21437]
[2022-08-20 19:08:30,688.688] INFO [4340974976] - Started server process [21471]
[2022-08-20 19:08:30,688.688] INFO [4340974976] - Waiting for application startup.
[2022-08-20 19:08:30,688.688] INFO [4340974976] - Application startup complete.
[2022-08-20 19:08:38,294.294] INFO [4340974976] - 127.0.0.1:54913 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=SLlbp7N6mB_UmpeBputEsi8_1T2L_jRhFERuIBLNs2nSB_m8XroJnlG%25HPhs-gW2egvhl_1TVG11lGgQvU.NwBSQhYMlVA-ckfSL%40codeqeduVaz HTTP/1.1" 400
[2022-08-20 19:09:09,685.685] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:09:09,724.724] INFO [4340974976] - Shutting down
[2022-08-20 19:09:09,826.826] INFO [4340974976] - Waiting for application shutdown.
[2022-08-20 19:09:09,826.826] INFO [4340974976] - Application shutdown complete.
[2022-08-20 19:09:09,827.827] INFO [4340974976] - Finished server process [21471]
[2022-08-20 19:09:10,391.391] INFO [4296967552] - Started server process [21528]
[2022-08-20 19:09:10,391.391] INFO [4296967552] - Waiting for application startup.
[2022-08-20 19:09:10,392.392] INFO [4296967552] - Application startup complete.
[2022-08-20 19:09:15,529.529] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:09:15,557.557] INFO [4296967552] - Shutting down
[2022-08-20 19:09:15,660.660] INFO [4296967552] - Waiting for application shutdown.
[2022-08-20 19:09:15,661.661] INFO [4296967552] - Application shutdown complete.
[2022-08-20 19:09:15,661.661] INFO [4296967552] - Finished server process [21528]
[2022-08-20 19:09:16,224.224] INFO [4368205184] - Started server process [21541]
[2022-08-20 19:09:16,224.224] INFO [4368205184] - Waiting for application startup.
[2022-08-20 19:09:16,224.224] INFO [4368205184] - Application startup complete.
[2022-08-20 19:09:17,032.032] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:09:17,039.039] INFO [4368205184] - Shutting down
[2022-08-20 19:09:17,141.141] INFO [4368205184] - Waiting for application shutdown.
[2022-08-20 19:09:17,141.141] INFO [4368205184] - Application shutdown complete.
[2022-08-20 19:09:17,141.141] INFO [4368205184] - Finished server process [21541]
[2022-08-20 19:09:17,756.756] INFO [4376462720] - Started server process [21546]
[2022-08-20 19:09:17,765.765] INFO [4376462720] - Waiting for application startup.
[2022-08-20 19:09:17,765.765] INFO [4376462720] - Application startup complete.
[2022-08-20 19:09:19,047.047] INFO [4376462720] - 127.0.0.1:54920 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=SLlbp7N6mB_UmpeBputEsi8_1T2L_jRhFERuIBLNs2nSB_m8XroJnlG%25HPhs-gW2egvhl_1TVG11lGgQvU.NwBSQhYMlVA-ckfSL%40codeqeduVaz HTTP/1.1" 400
[2022-08-20 19:09:20,628.628] INFO [4376462720] - 127.0.0.1:54920 - "GET /swagger HTTP/1.1" 200
[2022-08-20 19:09:20,805.805] INFO [4376462720] - 127.0.0.1:54920 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 19:09:28,106.106] INFO [4376462720] - 127.0.0.1:54921 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=7vX36_J.MgqaLreLu%25ERRAMhEBJ-W2QF7hAWw%40codeYedugaz HTTP/1.1" 400
[2022-08-20 19:12:10,986.986] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:12:11,075.075] INFO [4376462720] - Shutting down
[2022-08-20 19:12:11,176.176] INFO [4376462720] - Waiting for application shutdown.
[2022-08-20 19:12:11,177.177] INFO [4376462720] - Application shutdown complete.
[2022-08-20 19:12:11,177.177] INFO [4376462720] - Finished server process [21546]
[2022-08-20 19:12:11,760.760] INFO [4376937856] - Started server process [21727]
[2022-08-20 19:12:11,760.760] INFO [4376937856] - Waiting for application startup.
[2022-08-20 19:12:11,761.761] INFO [4376937856] - Application startup complete.
[2022-08-20 19:12:13,837.837] INFO [4376937856] - 127.0.0.1:54955 - "GET /swagger HTTP/1.1" 200
[2022-08-20 19:12:13,945.945] INFO [4376937856] - 127.0.0.1:54955 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 19:12:20,168.168] INFO [4376937856] - 127.0.0.1:54956 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-20 19:12:29,625.625] INFO [4376937856] - 127.0.0.1:54959 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=irVWPf9MxZLQK0SqAeEF1%25Y9fQ09gyjZLJ.gnCntuJBQXrILri3YHPnP04%2BY_kApn7p8%2B8%25aEM-vygMIqIOIU%40codeveduvaz HTTP/1.1" 400
[2022-08-20 19:12:45,861.861] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:12:45,906.906] INFO [4376937856] - Shutting down
[2022-08-20 19:12:46,007.007] INFO [4376937856] - Waiting for application shutdown.
[2022-08-20 19:12:46,008.008] INFO [4376937856] - Application shutdown complete.
[2022-08-20 19:12:46,008.008] INFO [4376937856] - Finished server process [21727]
[2022-08-20 19:12:46,576.576] INFO [4365665664] - Started server process [21773]
[2022-08-20 19:12:46,580.580] INFO [4365665664] - Waiting for application startup.
[2022-08-20 19:12:46,581.581] INFO [4365665664] - Application startup complete.
[2022-08-20 19:12:53,287.287] INFO [4365665664] - 127.0.0.1:54962 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=irVWPf9MxZLQK0SqAeEF1%25Y9fQ09gyjZLJ.gnCntuJBQXrILri3YHPnP04%2BY_kApn7p8%2B8%25aEM-vygMIqIOIU%40codeveduvaz HTTP/1.1" 400
[2022-08-20 19:13:14,535.535] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:13:14,570.570] INFO [4365665664] - Shutting down
[2022-08-20 19:13:14,671.671] INFO [4365665664] - Waiting for application shutdown.
[2022-08-20 19:13:14,671.671] INFO [4365665664] - Application shutdown complete.
[2022-08-20 19:13:14,671.671] INFO [4365665664] - Finished server process [21773]
[2022-08-20 19:13:15,264.264] INFO [4343006592] - Started server process [21811]
[2022-08-20 19:13:15,267.267] INFO [4343006592] - Waiting for application startup.
[2022-08-20 19:13:15,267.267] INFO [4343006592] - Application startup complete.
[2022-08-20 19:13:16,927.927] INFO [4343006592] - 127.0.0.1:54965 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=irVWPf9MxZLQK0SqAeEF1%25Y9fQ09gyjZLJ.gnCntuJBQXrILri3YHPnP04%2BY_kApn7p8%2B8%25aEM-vygMIqIOIU%40codeveduvaz HTTP/1.1" 400
[2022-08-20 19:13:26,298.298] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:13:26,325.325] INFO [4343006592] - Shutting down
[2022-08-20 19:13:26,426.426] INFO [4343006592] - Waiting for application shutdown.
[2022-08-20 19:13:26,427.427] INFO [4343006592] - Application shutdown complete.
[2022-08-20 19:13:26,427.427] INFO [4343006592] - Finished server process [21811]
[2022-08-20 19:13:26,997.997] INFO [4331259264] - Started server process [21832]
[2022-08-20 19:13:27,001.001] INFO [4331259264] - Waiting for application startup.
[2022-08-20 19:13:27,001.001] INFO [4331259264] - Application startup complete.
[2022-08-20 19:13:32,149.149] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:13:32,172.172] INFO [4331259264] - Shutting down
[2022-08-20 19:13:32,273.273] INFO [4331259264] - Waiting for application shutdown.
[2022-08-20 19:13:32,274.274] INFO [4331259264] - Application shutdown complete.
[2022-08-20 19:13:32,274.274] INFO [4331259264] - Finished server process [21832]
[2022-08-20 19:13:32,804.804] INFO [4308927872] - Started server process [21843]
[2022-08-20 19:13:32,819.819] INFO [4308927872] - Waiting for application startup.
[2022-08-20 19:13:32,820.820] INFO [4308927872] - Application startup complete.
[2022-08-20 19:13:34,476.476] INFO [4308927872] - 127.0.0.1:54970 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=irVWPf9MxZLQK0SqAeEF1%25Y9fQ09gyjZLJ.gnCntuJBQXrILri3YHPnP04%2BY_kApn7p8%2B8%25aEM-vygMIqIOIU%40codeveduvaz HTTP/1.1" 500
[2022-08-20 19:13:34,476.476] ERROR [4308927872] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 109, in get_method
    print(a.fetchall())
NameError: name 'a' is not defined
[2022-08-20 19:13:43,104.104] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:13:43,117.117] INFO [4308927872] - Shutting down
[2022-08-20 19:13:43,218.218] INFO [4308927872] - Waiting for application shutdown.
[2022-08-20 19:13:43,218.218] INFO [4308927872] - Application shutdown complete.
[2022-08-20 19:13:43,218.218] INFO [4308927872] - Finished server process [21843]
[2022-08-20 19:13:43,780.780] INFO [4344104320] - Started server process [21858]
[2022-08-20 19:13:43,780.780] INFO [4344104320] - Waiting for application startup.
[2022-08-20 19:13:43,780.780] INFO [4344104320] - Application startup complete.
[2022-08-20 19:13:52,269.269] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:13:52,301.301] INFO [4344104320] - Shutting down
[2022-08-20 19:13:52,402.402] INFO [4344104320] - Waiting for application shutdown.
[2022-08-20 19:13:52,419.419] INFO [4344104320] - Application shutdown complete.
[2022-08-20 19:13:52,419.419] INFO [4344104320] - Finished server process [21858]
[2022-08-20 19:13:52,942.942] INFO [4380755328] - Started server process [21870]
[2022-08-20 19:13:52,942.942] INFO [4380755328] - Waiting for application startup.
[2022-08-20 19:13:52,942.942] INFO [4380755328] - Application startup complete.
[2022-08-20 19:18:55,544.544] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:18:55,641.641] INFO [4380755328] - Shutting down
[2022-08-20 19:18:55,743.743] INFO [4380755328] - Waiting for application shutdown.
[2022-08-20 19:18:55,751.751] INFO [4380755328] - Application shutdown complete.
[2022-08-20 19:18:55,751.751] INFO [4380755328] - Finished server process [21870]
[2022-08-20 19:18:56,345.345] INFO [4336911744] - Started server process [22164]
[2022-08-20 19:18:56,345.345] INFO [4336911744] - Waiting for application startup.
[2022-08-20 19:18:56,346.346] INFO [4336911744] - Application startup complete.
[2022-08-20 19:19:44,799.799] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:19:44,889.889] INFO [4336911744] - Shutting down
[2022-08-20 19:19:44,991.991] INFO [4336911744] - Waiting for application shutdown.
[2022-08-20 19:19:44,991.991] INFO [4336911744] - Application shutdown complete.
[2022-08-20 19:19:44,991.991] INFO [4336911744] - Finished server process [22164]
[2022-08-20 19:19:45,563.563] INFO [4305126784] - Started server process [22218]
[2022-08-20 19:19:45,563.563] INFO [4305126784] - Waiting for application startup.
[2022-08-20 19:19:45,563.563] INFO [4305126784] - Application startup complete.
[2022-08-20 19:19:47,882.882] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:19:47,896.896] INFO [4305126784] - Shutting down
[2022-08-20 19:19:47,997.997] INFO [4305126784] - Waiting for application shutdown.
[2022-08-20 19:19:47,998.998] INFO [4305126784] - Application shutdown complete.
[2022-08-20 19:19:47,998.998] INFO [4305126784] - Finished server process [22218]
[2022-08-20 19:19:48,636.636] INFO [4341630336] - Started server process [22225]
[2022-08-20 19:19:48,636.636] INFO [4341630336] - Waiting for application startup.
[2022-08-20 19:19:48,636.636] INFO [4341630336] - Application startup complete.
[2022-08-20 19:20:19,688.688] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:20:19,742.742] INFO [4341630336] - Shutting down
[2022-08-20 19:20:19,845.845] INFO [4341630336] - Waiting for application shutdown.
[2022-08-20 19:20:19,846.846] INFO [4341630336] - Application shutdown complete.
[2022-08-20 19:20:19,846.846] INFO [4341630336] - Finished server process [22225]
[2022-08-20 19:20:20,521.521] INFO [4337747328] - Started server process [22264]
[2022-08-20 19:20:20,521.521] INFO [4337747328] - Waiting for application startup.
[2022-08-20 19:20:20,521.521] INFO [4337747328] - Application startup complete.
[2022-08-20 19:20:32,215.215] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:20:32,259.259] INFO [4337747328] - Shutting down
[2022-08-20 19:20:32,364.364] INFO [4337747328] - Waiting for application shutdown.
[2022-08-20 19:20:32,365.365] INFO [4337747328] - Application shutdown complete.
[2022-08-20 19:20:32,365.365] INFO [4337747328] - Finished server process [22264]
[2022-08-20 19:20:54,724.724] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:20:55,275.275] INFO [4367959424] - Started server process [22307]
[2022-08-20 19:20:55,282.282] INFO [4367959424] - Waiting for application startup.
[2022-08-20 19:20:55,283.283] INFO [4367959424] - Application startup complete.
[2022-08-20 19:21:06,764.764] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:21:06,825.825] INFO [4367959424] - Shutting down
[2022-08-20 19:21:06,927.927] INFO [4367959424] - Waiting for application shutdown.
[2022-08-20 19:21:06,929.929] INFO [4367959424] - Application shutdown complete.
[2022-08-20 19:21:06,929.929] INFO [4367959424] - Finished server process [22307]
[2022-08-20 19:21:07,547.547] INFO [4307649920] - Started server process [22323]
[2022-08-20 19:21:07,562.562] INFO [4307649920] - Waiting for application startup.
[2022-08-20 19:21:07,562.562] INFO [4307649920] - Application startup complete.
[2022-08-20 19:23:48,229.229] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:23:48,235.235] INFO [4307649920] - Shutting down
[2022-08-20 19:23:48,336.336] INFO [4307649920] - Waiting for application shutdown.
[2022-08-20 19:23:48,337.337] INFO [4307649920] - Application shutdown complete.
[2022-08-20 19:23:48,337.337] INFO [4307649920] - Finished server process [22323]
[2022-08-20 19:23:48,969.969] INFO [4310795648] - Started server process [22471]
[2022-08-20 19:23:48,969.969] INFO [4310795648] - Waiting for application startup.
[2022-08-20 19:23:48,969.969] INFO [4310795648] - Application startup complete.
[2022-08-20 19:31:09,548.548] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:31:09,604.604] INFO [4310795648] - Shutting down
[2022-08-20 19:31:09,706.706] INFO [4310795648] - Waiting for application shutdown.
[2022-08-20 19:31:09,706.706] INFO [4310795648] - Application shutdown complete.
[2022-08-20 19:31:09,706.706] INFO [4310795648] - Finished server process [22471]
[2022-08-20 19:31:10,262.262] INFO [4333585792] - Started server process [22893]
[2022-08-20 19:31:10,263.263] INFO [4333585792] - Waiting for application startup.
[2022-08-20 19:31:10,263.263] INFO [4333585792] - Application startup complete.
[2022-08-20 19:31:27,220.220] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:31:27,287.287] INFO [4333585792] - Shutting down
[2022-08-20 19:31:27,388.388] INFO [4333585792] - Waiting for application shutdown.
[2022-08-20 19:31:27,388.388] INFO [4333585792] - Application shutdown complete.
[2022-08-20 19:31:27,388.388] INFO [4333585792] - Finished server process [22893]
[2022-08-20 19:31:27,908.908] INFO [4313646464] - Started server process [22924]
[2022-08-20 19:31:27,908.908] INFO [4313646464] - Waiting for application startup.
[2022-08-20 19:31:27,909.909] INFO [4313646464] - Application startup complete.
[2022-08-20 19:32:30,370.370] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:32:30,457.457] INFO [4313646464] - Shutting down
[2022-08-20 19:32:30,558.558] INFO [4313646464] - Waiting for application shutdown.
[2022-08-20 19:32:30,559.559] INFO [4313646464] - Application shutdown complete.
[2022-08-20 19:32:30,559.559] INFO [4313646464] - Finished server process [22924]
[2022-08-20 19:32:31,107.107] INFO [4334814592] - Started server process [22993]
[2022-08-20 19:32:31,107.107] INFO [4334814592] - Waiting for application startup.
[2022-08-20 19:32:31,107.107] INFO [4334814592] - Application startup complete.
[2022-08-20 19:32:35,435.435] INFO [4334814592] - 127.0.0.1:55054 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=irVWPf9MxZLQK0SqAeEF1%25Y9fQ09gyjZLJ.gnCntuJBQXrILri3YHPnP04%2BY_kApn7p8%2B8%25aEM-vygMIqIOIU%40codeveduvaz HTTP/1.1" 500
[2022-08-20 19:32:35,436.436] ERROR [4334814592] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 90, in get_method
    start_date = datetime.datetime.strptime(start_date, '$y-%m-d')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 568, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 349, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '11/11/11' does not match format '$y-%m-d'
[2022-08-20 19:32:36,097.097] INFO [4334814592] - 127.0.0.1:55055 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=irVWPf9MxZLQK0SqAeEF1%25Y9fQ09gyjZLJ.gnCntuJBQXrILri3YHPnP04%2BY_kApn7p8%2B8%25aEM-vygMIqIOIU%40codeveduvaz HTTP/1.1" 500
[2022-08-20 19:32:36,097.097] ERROR [4334814592] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 90, in get_method
    start_date = datetime.datetime.strptime(start_date, '$y-%m-d')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 568, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 349, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '11/11/11' does not match format '$y-%m-d'
[2022-08-20 19:32:36,508.508] INFO [4334814592] - 127.0.0.1:55056 - "GET /swagger HTTP/1.1" 200
[2022-08-20 19:32:36,655.655] INFO [4334814592] - 127.0.0.1:55056 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 19:32:41,987.987] INFO [4334814592] - 127.0.0.1:55057 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=QO2Z9tIdFDDZi%25WY19C%254r1FmX9t1XPqb_s1%40codeQedu%2Aaz HTTP/1.1" 500
[2022-08-20 19:32:41,988.988] ERROR [4334814592] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 90, in get_method
    start_date = datetime.datetime.strptime(start_date, '$y-%m-d')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 568, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 349, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '11/11/11' does not match format '$y-%m-d'
[2022-08-20 19:33:03,819.819] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:33:03,857.857] INFO [4334814592] - Shutting down
[2022-08-20 19:33:03,958.958] INFO [4334814592] - Waiting for application shutdown.
[2022-08-20 19:33:03,959.959] INFO [4334814592] - Application shutdown complete.
[2022-08-20 19:33:03,959.959] INFO [4334814592] - Finished server process [22993]
[2022-08-20 19:33:04,506.506] INFO [4369106304] - Started server process [23033]
[2022-08-20 19:33:04,507.507] INFO [4369106304] - Waiting for application startup.
[2022-08-20 19:33:04,507.507] INFO [4369106304] - Application startup complete.
[2022-08-20 19:33:05,721.721] INFO [4369106304] - 127.0.0.1:55062 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=QO2Z9tIdFDDZi%25WY19C%254r1FmX9t1XPqb_s1%40codeQedu%2Aaz HTTP/1.1" 500
[2022-08-20 19:33:05,722.722] ERROR [4369106304] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 90, in get_method
    start_date = datetime.datetime.strptime(start_date, '%y-%m-%d')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 568, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 349, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '11/11/11' does not match format '%y-%m-%d'
[2022-08-20 19:34:15,979.979] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:34:16,043.043] INFO [4369106304] - Shutting down
[2022-08-20 19:34:16,152.152] INFO [4369106304] - Waiting for application shutdown.
[2022-08-20 19:34:16,152.152] INFO [4369106304] - Application shutdown complete.
[2022-08-20 19:34:16,152.152] INFO [4369106304] - Finished server process [23033]
[2022-08-20 19:34:16,746.746] INFO [4313679232] - Started server process [23112]
[2022-08-20 19:34:16,746.746] INFO [4313679232] - Waiting for application startup.
[2022-08-20 19:34:16,746.746] INFO [4313679232] - Application startup complete.
[2022-08-20 19:34:17,828.828] INFO [4313679232] - 127.0.0.1:55065 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=QO2Z9tIdFDDZi%25WY19C%254r1FmX9t1XPqb_s1%40codeQedu%2Aaz HTTP/1.1" 500
[2022-08-20 19:34:17,828.828] ERROR [4313679232] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.SyntaxError: syntax error at or near "00"
LINE 1: ...LECT * FROM "_DATA" WHERE Date BETWEEN 2011-11-11 00:00:00 A...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f"""SELECT * FROM "_DATA" WHERE Date BETWEEN {str(start_date)} AND {str(end_date)}""")
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.SyntaxError) syntax error at or near "00"
LINE 1: ...LECT * FROM "_DATA" WHERE Date BETWEEN 2011-11-11 00:00:00 A...
                                                             ^

[SQL: SELECT * FROM "_DATA" WHERE Date BETWEEN 2011-11-11 00:00:00 AND 2012-12-12 00:00:00]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:35:56,281.281] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:35:56,363.363] INFO [4313679232] - Shutting down
[2022-08-20 19:35:56,472.472] INFO [4313679232] - Waiting for application shutdown.
[2022-08-20 19:35:56,472.472] INFO [4313679232] - Application shutdown complete.
[2022-08-20 19:35:56,473.473] INFO [4313679232] - Finished server process [23112]
[2022-08-20 19:35:57,044.044] INFO [4372809088] - Started server process [23233]
[2022-08-20 19:35:57,044.044] INFO [4372809088] - Waiting for application startup.
[2022-08-20 19:35:57,044.044] INFO [4372809088] - Application startup complete.
[2022-08-20 19:36:02,968.968] INFO [4372809088] - 127.0.0.1:55187 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=QO2Z9tIdFDDZi%25WY19C%254r1FmX9t1XPqb_s1%40codeQedu%2Aaz HTTP/1.1" 500
[2022-08-20 19:36:02,969.969] ERROR [4372809088] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 90, in get_method
    start_date = datetime.datetime.strftime(start_date, '%y/%m/%d')
TypeError: descriptor 'strftime' for 'datetime.date' objects doesn't apply to a 'str' object
[2022-08-20 19:36:23,205.205] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:36:23,305.305] INFO [4372809088] - Shutting down
[2022-08-20 19:36:23,406.406] INFO [4372809088] - Waiting for application shutdown.
[2022-08-20 19:36:23,407.407] INFO [4372809088] - Application shutdown complete.
[2022-08-20 19:36:23,407.407] INFO [4372809088] - Finished server process [23233]
[2022-08-20 19:36:23,930.930] INFO [4306519424] - Started server process [23264]
[2022-08-20 19:36:23,930.930] INFO [4306519424] - Waiting for application startup.
[2022-08-20 19:36:23,930.930] INFO [4306519424] - Application startup complete.
[2022-08-20 19:36:25,562.562] INFO [4306519424] - 127.0.0.1:55190 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=QO2Z9tIdFDDZi%25WY19C%254r1FmX9t1XPqb_s1%40codeQedu%2Aaz HTTP/1.1" 500
[2022-08-20 19:36:25,562.562] ERROR [4306519424] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 90, in get_method
    start_date = datetime.datetime.strftime(start_date, '%y/%m/%d')
TypeError: descriptor 'strftime' for 'datetime.date' objects doesn't apply to a 'str' object
[2022-08-20 19:36:50,218.218] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:36:50,228.228] INFO [4306519424] - Shutting down
[2022-08-20 19:36:50,329.329] INFO [4306519424] - Waiting for application shutdown.
[2022-08-20 19:36:50,330.330] INFO [4306519424] - Application shutdown complete.
[2022-08-20 19:36:50,330.330] INFO [4306519424] - Finished server process [23264]
[2022-08-20 19:36:50,861.861] INFO [4339926400] - Started server process [23296]
[2022-08-20 19:36:50,861.861] INFO [4339926400] - Waiting for application startup.
[2022-08-20 19:36:50,861.861] INFO [4339926400] - Application startup complete.
[2022-08-20 19:37:00,668.668] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:37:00,684.684] INFO [4339926400] - Shutting down
[2022-08-20 19:37:00,785.785] INFO [4339926400] - Waiting for application shutdown.
[2022-08-20 19:37:00,785.785] INFO [4339926400] - Application shutdown complete.
[2022-08-20 19:37:00,785.785] INFO [4339926400] - Finished server process [23296]
[2022-08-20 19:37:01,321.321] INFO [4300490112] - Started server process [23311]
[2022-08-20 19:37:01,321.321] INFO [4300490112] - Waiting for application startup.
[2022-08-20 19:37:01,321.321] INFO [4300490112] - Application startup complete.
[2022-08-20 19:37:15,476.476] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:37:15,505.505] INFO [4300490112] - Shutting down
[2022-08-20 19:37:15,609.609] INFO [4300490112] - Waiting for application shutdown.
[2022-08-20 19:37:15,610.610] INFO [4300490112] - Application shutdown complete.
[2022-08-20 19:37:15,610.610] INFO [4300490112] - Finished server process [23311]
[2022-08-20 19:37:16,161.161] INFO [4370335104] - Started server process [23336]
[2022-08-20 19:37:16,161.161] INFO [4370335104] - Waiting for application startup.
[2022-08-20 19:37:16,161.161] INFO [4370335104] - Application startup complete.
[2022-08-20 19:37:57,769.769] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:37:57,849.849] INFO [4370335104] - Shutting down
[2022-08-20 19:37:57,951.951] INFO [4370335104] - Waiting for application shutdown.
[2022-08-20 19:37:57,952.952] INFO [4370335104] - Application shutdown complete.
[2022-08-20 19:37:57,952.952] INFO [4370335104] - Finished server process [23336]
[2022-08-20 19:37:58,528.528] INFO [4376446336] - Started server process [23385]
[2022-08-20 19:37:58,528.528] INFO [4376446336] - Waiting for application startup.
[2022-08-20 19:37:58,529.529] INFO [4376446336] - Application startup complete.
[2022-08-20 19:38:47,826.826] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:38:47,838.838] INFO [4376446336] - Shutting down
[2022-08-20 19:38:47,954.954] INFO [4376446336] - Waiting for application shutdown.
[2022-08-20 19:38:47,955.955] INFO [4376446336] - Application shutdown complete.
[2022-08-20 19:38:47,956.956] INFO [4376446336] - Finished server process [23385]
[2022-08-20 19:38:48,543.543] INFO [4371236224] - Started server process [23460]
[2022-08-20 19:38:48,543.543] INFO [4371236224] - Waiting for application startup.
[2022-08-20 19:38:48,543.543] INFO [4371236224] - Application startup complete.
[2022-08-20 19:39:05,476.476] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:39:05,571.571] INFO [4371236224] - Shutting down
[2022-08-20 19:39:05,673.673] INFO [4371236224] - Waiting for application shutdown.
[2022-08-20 19:39:05,673.673] INFO [4371236224] - Application shutdown complete.
[2022-08-20 19:39:05,673.673] INFO [4371236224] - Finished server process [23460]
[2022-08-20 19:39:06,206.206] INFO [4345693568] - Started server process [23498]
[2022-08-20 19:39:06,206.206] INFO [4345693568] - Waiting for application startup.
[2022-08-20 19:39:06,206.206] INFO [4345693568] - Application startup complete.
[2022-08-20 19:39:08,190.190] INFO [4345693568] - 127.0.0.1:55206 - "GET /swagger HTTP/1.1" 200
[2022-08-20 19:39:08,348.348] INFO [4345693568] - 127.0.0.1:55206 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 19:39:14,999.999] INFO [4345693568] - 127.0.0.1:55207 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:39:14,999.999] ERROR [4345693568] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f"""SELECT * FROM "_DATA" WHERE Date BETWEEN {start_date.strftime("%Y-%m-%")} AND {end_date.strftime("%Y-%m-%d")}""")
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2128, in _handle_dbapi_exception
    util.raise_(exc_info[1], with_traceback=exc_info[2])
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
TypeError: dict is not a sequence
[2022-08-20 19:40:29,398.398] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:40:29,432.432] INFO [4345693568] - Shutting down
[2022-08-20 19:40:29,533.533] INFO [4345693568] - Waiting for application shutdown.
[2022-08-20 19:40:29,533.533] INFO [4345693568] - Application shutdown complete.
[2022-08-20 19:40:29,533.533] INFO [4345693568] - Finished server process [23498]
[2022-08-20 19:40:30,140.140] INFO [4302062976] - Started server process [23595]
[2022-08-20 19:40:30,140.140] INFO [4302062976] - Waiting for application startup.
[2022-08-20 19:40:30,140.140] INFO [4302062976] - Application startup complete.
[2022-08-20 19:40:35,424.424] INFO [4302062976] - 127.0.0.1:55250 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:40:35,425.425] ERROR [4302062976] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column "date" does not exist
LINE 1: SELECT * FROM "_DATA" WHERE Date BETWEEN 2011-11-11 AND 2012...
                                    ^
HINT:  Perhaps you meant to reference the column "_DATA.Date".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f"""SELECT * FROM "_DATA" WHERE Date BETWEEN {start_date.strftime("%Y-%m-%d")} AND {end_date.strftime("%Y-%m-%d")}""")
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column "date" does not exist
LINE 1: SELECT * FROM "_DATA" WHERE Date BETWEEN 2011-11-11 AND 2012...
                                    ^
HINT:  Perhaps you meant to reference the column "_DATA.Date".

[SQL: SELECT * FROM "_DATA" WHERE Date BETWEEN 2011-11-11 AND 2012-12-12]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:41:01,958.958] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:41:02,022.022] INFO [4302062976] - Shutting down
[2022-08-20 19:41:02,123.123] INFO [4302062976] - Waiting for application shutdown.
[2022-08-20 19:41:02,124.124] INFO [4302062976] - Application shutdown complete.
[2022-08-20 19:41:02,124.124] INFO [4302062976] - Finished server process [23595]
[2022-08-20 19:41:02,641.641] INFO [4329555328] - Started server process [23629]
[2022-08-20 19:41:02,641.641] INFO [4329555328] - Waiting for application startup.
[2022-08-20 19:41:02,641.641] INFO [4329555328] - Application startup complete.
[2022-08-20 19:41:05,267.267] INFO [4329555328] - 127.0.0.1:55253 - "GET /SendReport/GET?_type=1&start_date=11%2F11%2F11&end_date=12%2F12%2F12&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:41:05,268.268] ERROR [4329555328] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: operator does not exist: timestamp without time zone >= integer
LINE 1: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2011-11-11 AND 20...
                                           ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f"""SELECT * FROM "_DATA" WHERE "Date" BETWEEN {start_date.strftime("%Y-%m-%d")} AND {end_date.strftime("%Y-%m-%d")}""")
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) operator does not exist: timestamp without time zone >= integer
LINE 1: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2011-11-11 AND 20...
                                           ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2011-11-11 AND 2012-12-12]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:41:51,870.870] INFO [4329555328] - 127.0.0.1:55258 - "GET /SendReport/GET?_type=1&start_date=1%2F1%2F13&end_date=1%2F1%2F14&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:41:51,871.871] ERROR [4329555328] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 90, in get_method
    start_date = datetime.datetime.strptime(start_date, '%y/%m/%d')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 568, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 349, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '1/1/13' does not match format '%y/%m/%d'
[2022-08-20 19:42:35,094.094] INFO [4329555328] - 127.0.0.1:55260 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:42:35,095.095] ERROR [4329555328] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: operator does not exist: timestamp without time zone >= integer
LINE 1: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2013-01-01 AND 20...
                                           ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f"""SELECT * FROM "_DATA" WHERE "Date" BETWEEN {start_date.strftime("%Y-%m-%d")} AND {end_date.strftime("%Y-%m-%d")}""")
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) operator does not exist: timestamp without time zone >= integer
LINE 1: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2013-01-01 AND 20...
                                           ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2013-01-01 AND 2014-01-01]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:42:52,613.613] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:42:52,648.648] INFO [4329555328] - Shutting down
[2022-08-20 19:42:52,750.750] INFO [4329555328] - Waiting for application shutdown.
[2022-08-20 19:42:52,751.751] INFO [4329555328] - Application shutdown complete.
[2022-08-20 19:42:52,751.751] INFO [4329555328] - Finished server process [23629]
[2022-08-20 19:42:53,321.321] INFO [4336010624] - Started server process [23733]
[2022-08-20 19:42:53,322.322] INFO [4336010624] - Waiting for application startup.
[2022-08-20 19:42:53,322.322] INFO [4336010624] - Application startup complete.
[2022-08-20 19:42:54,639.639] INFO [4336010624] - 127.0.0.1:55264 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:42:54,639.639] ERROR [4336010624] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column "_DATA.Date" does not exist
LINE 1: SELECT * FROM "_DATA" WHERE "_DATA.Date" BETWEEN 2013-01-01 ...
                                    ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f"""SELECT * FROM "_DATA" WHERE "_DATA.Date" BETWEEN {start_date.strftime("%Y-%m-%d")} AND {end_date.strftime("%Y-%m-%d")}""")
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column "_DATA.Date" does not exist
LINE 1: SELECT * FROM "_DATA" WHERE "_DATA.Date" BETWEEN 2013-01-01 ...
                                    ^

[SQL: SELECT * FROM "_DATA" WHERE "_DATA.Date" BETWEEN 2013-01-01 AND 2014-01-01]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:43:44,446.446] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:43:44,451.451] INFO [4336010624] - Shutting down
[2022-08-20 19:43:44,553.553] INFO [4336010624] - Waiting for application shutdown.
[2022-08-20 19:43:44,553.553] INFO [4336010624] - Application shutdown complete.
[2022-08-20 19:43:44,553.553] INFO [4336010624] - Finished server process [23733]
[2022-08-20 19:43:48,980.980] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:43:49,464.464] INFO [4307830144] - Started server process [23800]
[2022-08-20 19:43:49,464.464] INFO [4307830144] - Waiting for application startup.
[2022-08-20 19:43:49,464.464] INFO [4307830144] - Application startup complete.
[2022-08-20 19:43:52,526.526] INFO [4307830144] - 127.0.0.1:55267 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:43:52,527.527] ERROR [4307830144] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.SyntaxError: unterminated quoted identifier at or near ""_DATA"
LINE 1: SELECT Date FROM "_DATA
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f"""SELECT Date FROM "_DATA""""")
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.SyntaxError) unterminated quoted identifier at or near ""_DATA"
LINE 1: SELECT Date FROM "_DATA
                         ^

[SQL: SELECT Date FROM "_DATA]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:44:03,102.102] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:44:03,197.197] INFO [4307830144] - Shutting down
[2022-08-20 19:44:03,298.298] INFO [4307830144] - Waiting for application shutdown.
[2022-08-20 19:44:03,299.299] INFO [4307830144] - Application shutdown complete.
[2022-08-20 19:44:03,299.299] INFO [4307830144] - Finished server process [23800]
[2022-08-20 19:44:25,678.678] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:44:26,152.152] INFO [4313089408] - Started server process [23848]
[2022-08-20 19:44:26,152.152] INFO [4313089408] - Waiting for application startup.
[2022-08-20 19:44:26,153.153] INFO [4313089408] - Application startup complete.
[2022-08-20 19:44:28,126.126] INFO [4313089408] - 127.0.0.1:55270 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:44:28,126.126] ERROR [4313089408] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "_data" does not exist
LINE 1: SELECT Date FROM _DATA
                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f'SELECT Date FROM _DATA')
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "_data" does not exist
LINE 1: SELECT Date FROM _DATA
                         ^

[SQL: SELECT Date FROM _DATA]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:44:55,448.448] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:44:55,538.538] INFO [4313089408] - Shutting down
[2022-08-20 19:44:55,640.640] INFO [4313089408] - Waiting for application shutdown.
[2022-08-20 19:44:55,641.641] INFO [4313089408] - Application shutdown complete.
[2022-08-20 19:44:55,641.641] INFO [4313089408] - Finished server process [23848]
[2022-08-20 19:44:56,199.199] INFO [4305044864] - Started server process [23881]
[2022-08-20 19:44:56,200.200] INFO [4305044864] - Waiting for application startup.
[2022-08-20 19:44:56,200.200] INFO [4305044864] - Application startup complete.
[2022-08-20 19:44:56,928.928] INFO [4305044864] - 127.0.0.1:55273 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:44:56,928.928] ERROR [4305044864] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column "date" does not exist
LINE 1: SELECT Date FROM "_DATA"; 
               ^
HINT:  Perhaps you meant to reference the column "_DATA.Date".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f'SELECT Date FROM "_DATA"; ')
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column "date" does not exist
LINE 1: SELECT Date FROM "_DATA"; 
               ^
HINT:  Perhaps you meant to reference the column "_DATA.Date".

[SQL: SELECT Date FROM "_DATA"; ]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:45:09,548.548] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:45:09,605.605] INFO [4305044864] - Shutting down
[2022-08-20 19:45:09,706.706] INFO [4305044864] - Waiting for application shutdown.
[2022-08-20 19:45:09,707.707] INFO [4305044864] - Application shutdown complete.
[2022-08-20 19:45:09,707.707] INFO [4305044864] - Finished server process [23881]
[2022-08-20 19:45:10,333.333] INFO [4369089920] - Started server process [23900]
[2022-08-20 19:45:10,334.334] INFO [4369089920] - Waiting for application startup.
[2022-08-20 19:45:10,334.334] INFO [4369089920] - Application startup complete.
[2022-08-20 19:45:11,590.590] INFO [4369089920] - 127.0.0.1:55276 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 200
[2022-08-20 19:45:33,945.945] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:45:33,996.996] INFO [4369089920] - Shutting down
[2022-08-20 19:45:34,097.097] INFO [4369089920] - Waiting for application shutdown.
[2022-08-20 19:45:34,097.097] INFO [4369089920] - Application shutdown complete.
[2022-08-20 19:45:34,097.097] INFO [4369089920] - Finished server process [23900]
[2022-08-20 19:45:34,712.712] INFO [4311696768] - Started server process [23925]
[2022-08-20 19:45:34,712.712] INFO [4311696768] - Waiting for application startup.
[2022-08-20 19:45:34,712.712] INFO [4311696768] - Application startup complete.
[2022-08-20 19:45:38,254.254] INFO [4311696768] - 127.0.0.1:55279 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 200
[2022-08-20 19:45:44,947.947] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:45:44,950.950] INFO [4311696768] - Shutting down
[2022-08-20 19:45:45,052.052] INFO [4311696768] - Waiting for application shutdown.
[2022-08-20 19:45:45,052.052] INFO [4311696768] - Application shutdown complete.
[2022-08-20 19:45:45,052.052] INFO [4311696768] - Finished server process [23925]
[2022-08-20 19:45:45,582.582] INFO [4332553600] - Started server process [23943]
[2022-08-20 19:45:45,582.582] INFO [4332553600] - Waiting for application startup.
[2022-08-20 19:45:45,582.582] INFO [4332553600] - Application startup complete.
[2022-08-20 19:45:46,895.895] INFO [4332553600] - 127.0.0.1:55282 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 200
[2022-08-20 19:46:21,557.557] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:46:21,614.614] INFO [4332553600] - Shutting down
[2022-08-20 19:46:21,718.718] INFO [4332553600] - Waiting for application shutdown.
[2022-08-20 19:46:21,719.719] INFO [4332553600] - Application shutdown complete.
[2022-08-20 19:46:21,719.719] INFO [4332553600] - Finished server process [23943]
[2022-08-20 19:46:22,346.346] INFO [4297229696] - Started server process [23985]
[2022-08-20 19:46:22,346.346] INFO [4297229696] - Waiting for application startup.
[2022-08-20 19:46:22,346.346] INFO [4297229696] - Application startup complete.
[2022-08-20 19:46:33,103.103] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:46:33,206.206] INFO [4297229696] - Shutting down
[2022-08-20 19:46:33,308.308] INFO [4297229696] - Waiting for application shutdown.
[2022-08-20 19:46:33,308.308] INFO [4297229696] - Application shutdown complete.
[2022-08-20 19:46:33,308.308] INFO [4297229696] - Finished server process [23985]
[2022-08-20 19:46:33,815.815] INFO [4344857984] - Started server process [24004]
[2022-08-20 19:46:33,815.815] INFO [4344857984] - Waiting for application startup.
[2022-08-20 19:46:33,815.815] INFO [4344857984] - Application startup complete.
[2022-08-20 19:46:38,498.498] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:46:38,578.578] INFO [4344857984] - Shutting down
[2022-08-20 19:46:38,680.680] INFO [4344857984] - Waiting for application shutdown.
[2022-08-20 19:46:38,682.682] INFO [4344857984] - Application shutdown complete.
[2022-08-20 19:46:38,682.682] INFO [4344857984] - Finished server process [24004]
[2022-08-20 19:46:39,243.243] INFO [4365829504] - Started server process [24015]
[2022-08-20 19:46:39,243.243] INFO [4365829504] - Waiting for application startup.
[2022-08-20 19:46:39,243.243] INFO [4365829504] - Application startup complete.
[2022-08-20 19:48:18,413.413] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:48:18,422.422] INFO [4365829504] - Shutting down
[2022-08-20 19:48:18,524.524] INFO [4365829504] - Waiting for application shutdown.
[2022-08-20 19:48:18,524.524] INFO [4365829504] - Application shutdown complete.
[2022-08-20 19:48:18,524.524] INFO [4365829504] - Finished server process [24015]
[2022-08-20 19:48:19,100.100] INFO [4304766336] - Started server process [24106]
[2022-08-20 19:48:19,101.101] INFO [4304766336] - Waiting for application startup.
[2022-08-20 19:48:19,101.101] INFO [4304766336] - Application startup complete.
[2022-08-20 19:48:27,293.293] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:48:27,308.308] INFO [4304766336] - Shutting down
[2022-08-20 19:48:27,410.410] INFO [4304766336] - Waiting for application shutdown.
[2022-08-20 19:48:27,410.410] INFO [4304766336] - Application shutdown complete.
[2022-08-20 19:48:27,410.410] INFO [4304766336] - Finished server process [24106]
[2022-08-20 19:48:27,957.957] INFO [4370154880] - Started server process [24131]
[2022-08-20 19:48:27,957.957] INFO [4370154880] - Waiting for application startup.
[2022-08-20 19:48:27,957.957] INFO [4370154880] - Application startup complete.
[2022-08-20 19:48:31,494.494] INFO [4370154880] - 127.0.0.1:55297 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:48:31,495.495] ERROR [4370154880] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: operator does not exist: timestamp without time zone >= integer
LINE 1: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2013/01/01 AND 20...
                                           ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f'SELECT * FROM "_DATA" WHERE "Date" BETWEEN {start_date.strftime("%Y/%m/%d")} AND {end_date.strftime("%Y/%m/%d")}; ')
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) operator does not exist: timestamp without time zone >= integer
LINE 1: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2013/01/01 AND 20...
                                           ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2013/01/01 AND 2014/01/01; ]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:48:44,196.196] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:48:44,294.294] INFO [4370154880] - Shutting down
[2022-08-20 19:48:44,396.396] INFO [4370154880] - Waiting for application shutdown.
[2022-08-20 19:48:44,396.396] INFO [4370154880] - Application shutdown complete.
[2022-08-20 19:48:44,396.396] INFO [4370154880] - Finished server process [24131]
[2022-08-20 19:48:45,063.063] INFO [4300211584] - Started server process [24156]
[2022-08-20 19:48:45,063.063] INFO [4300211584] - Waiting for application startup.
[2022-08-20 19:48:45,063.063] INFO [4300211584] - Application startup complete.
[2022-08-20 19:48:46,919.919] INFO [4300211584] - 127.0.0.1:55300 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:48:46,920.920] ERROR [4300211584] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: operator does not exist: timestamp without time zone >= integer
LINE 1: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2013-01-01 AND 20...
                                           ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f'SELECT * FROM "_DATA" WHERE "Date" BETWEEN {start_date.strftime("%Y-%m-%d")} AND {end_date.strftime("%Y-%m-%d")}; ')
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) operator does not exist: timestamp without time zone >= integer
LINE 1: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2013-01-01 AND 20...
                                           ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT * FROM "_DATA" WHERE "Date" BETWEEN 2013-01-01 AND 2014-01-01; ]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:50:01,188.188] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 19:50:01,260.260] INFO [4300211584] - Shutting down
[2022-08-20 19:50:01,361.361] INFO [4300211584] - Waiting for application shutdown.
[2022-08-20 19:50:01,364.364] INFO [4300211584] - Application shutdown complete.
[2022-08-20 19:50:01,364.364] INFO [4300211584] - Finished server process [24156]
[2022-08-20 19:50:01,864.864] INFO [4364420480] - Started server process [24246]
[2022-08-20 19:50:01,864.864] INFO [4364420480] - Waiting for application startup.
[2022-08-20 19:50:01,864.864] INFO [4364420480] - Application startup complete.
[2022-08-20 19:50:05,222.222] INFO [4364420480] - 127.0.0.1:55308 - "GET /SendReport/GET?_type=1&start_date=13%2F1%2F1&end_date=14%2F1%2F1&acceptor_email=YMcTzixv%25XJhVNHRkK0j5uzlZPP5Dg%40code%28edu%29az HTTP/1.1" 500
[2022-08-20 19:50:05,223.223] ERROR [4364420480] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column "2013-01-01" does not exist
LINE 1: SELECT * FROM "_DATA" WHERE "Date" BETWEEN "2013-01-01" AND ...
                                                   ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 110, in get_method
    a = conn.execute(f'SELECT * FROM "_DATA" WHERE "Date" BETWEEN "{start_date.strftime("%Y-%m-%d")}" AND "{end_date.strftime("%Y-%m-%d")}"; ')
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column "2013-01-01" does not exist
LINE 1: SELECT * FROM "_DATA" WHERE "Date" BETWEEN "2013-01-01" AND ...
                                                   ^

[SQL: SELECT * FROM "_DATA" WHERE "Date" BETWEEN "2013-01-01" AND "2014-01-01"; ]
(Background on this error at: https://sqlalche.me/e/14/f405)
[2022-08-20 19:53:44,293.293] INFO [4364420480] - 127.0.0.1:55344 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 22:51:16,145.145] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:51:16,178.178] INFO [4364420480] - Shutting down
[2022-08-20 22:51:16,279.279] INFO [4364420480] - Waiting for application shutdown.
[2022-08-20 22:51:16,280.280] INFO [4364420480] - Application shutdown complete.
[2022-08-20 22:51:16,280.280] INFO [4364420480] - Finished server process [24246]
[2022-08-20 22:51:28,167.167] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:51:28,683.683] INFO [4299490688] - Started server process [31851]
[2022-08-20 22:51:28,683.683] INFO [4299490688] - Waiting for application startup.
[2022-08-20 22:51:28,683.683] INFO [4299490688] - Application startup complete.
[2022-08-20 22:51:37,916.916] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:51:38,010.010] INFO [4299490688] - Shutting down
[2022-08-20 22:51:38,111.111] INFO [4299490688] - Waiting for application shutdown.
[2022-08-20 22:51:38,111.111] INFO [4299490688] - Application shutdown complete.
[2022-08-20 22:51:38,111.111] INFO [4299490688] - Finished server process [31851]
[2022-08-20 22:51:38,620.620] INFO [4348790144] - Started server process [31871]
[2022-08-20 22:51:38,620.620] INFO [4348790144] - Waiting for application startup.
[2022-08-20 22:51:38,620.620] INFO [4348790144] - Application startup complete.
[2022-08-20 22:51:52,532.532] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:51:52,593.593] INFO [4348790144] - Shutting down
[2022-08-20 22:51:52,694.694] INFO [4348790144] - Waiting for application shutdown.
[2022-08-20 22:51:52,694.694] INFO [4348790144] - Application shutdown complete.
[2022-08-20 22:51:52,694.694] INFO [4348790144] - Finished server process [31871]
[2022-08-20 22:51:53,203.203] INFO [4341892480] - Started server process [31888]
[2022-08-20 22:51:53,203.203] INFO [4341892480] - Waiting for application startup.
[2022-08-20 22:51:53,203.203] INFO [4341892480] - Application startup complete.
[2022-08-20 22:52:35,738.738] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:52:35,834.834] INFO [4341892480] - Shutting down
[2022-08-20 22:52:35,935.935] INFO [4341892480] - Waiting for application shutdown.
[2022-08-20 22:52:35,936.936] INFO [4341892480] - Application shutdown complete.
[2022-08-20 22:52:35,936.936] INFO [4341892480] - Finished server process [31888]
[2022-08-20 22:52:42,663.663] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:52:56,248.248] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:53:17,318.318] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:53:21,686.686] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:53:22,214.214] INFO [4344268160] - Started server process [31978]
[2022-08-20 22:53:22,214.214] INFO [4344268160] - Waiting for application startup.
[2022-08-20 22:53:22,214.214] INFO [4344268160] - Application startup complete.
[2022-08-20 22:53:30,327.327] INFO [4344268160] - 127.0.0.1:56297 - "GET /swagger HTTP/1.1" 200
[2022-08-20 22:53:30,895.895] INFO [4344268160] - 127.0.0.1:56297 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 22:54:50,102.102] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:54:50,133.133] INFO [4344268160] - Shutting down
[2022-08-20 22:54:50,234.234] INFO [4344268160] - Waiting for application shutdown.
[2022-08-20 22:54:50,234.234] INFO [4344268160] - Application shutdown complete.
[2022-08-20 22:54:50,234.234] INFO [4344268160] - Finished server process [31978]
[2022-08-20 22:54:57,770.770] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:54:58,246.246] INFO [4333864320] - Started server process [32086]
[2022-08-20 22:54:58,246.246] INFO [4333864320] - Waiting for application startup.
[2022-08-20 22:54:58,247.247] INFO [4333864320] - Application startup complete.
[2022-08-20 22:55:13,158.158] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:55:13,243.243] INFO [4333864320] - Shutting down
[2022-08-20 22:55:13,344.344] INFO [4333864320] - Waiting for application shutdown.
[2022-08-20 22:55:13,344.344] INFO [4333864320] - Application shutdown complete.
[2022-08-20 22:55:13,344.344] INFO [4333864320] - Finished server process [32086]
[2022-08-20 22:55:13,886.886] INFO [4378543488] - Started server process [32110]
[2022-08-20 22:55:13,886.886] INFO [4378543488] - Waiting for application startup.
[2022-08-20 22:55:13,887.887] INFO [4378543488] - Application startup complete.
[2022-08-20 22:55:25,189.189] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:55:25,227.227] INFO [4378543488] - Shutting down
[2022-08-20 22:55:25,329.329] INFO [4378543488] - Waiting for application shutdown.
[2022-08-20 22:55:25,329.329] INFO [4378543488] - Application shutdown complete.
[2022-08-20 22:55:25,329.329] INFO [4378543488] - Finished server process [32110]
[2022-08-20 22:55:33,860.860] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:55:57,522.522] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:55:58,034.034] INFO [4368156032] - Started server process [32156]
[2022-08-20 22:55:58,034.034] INFO [4368156032] - Waiting for application startup.
[2022-08-20 22:55:58,034.034] INFO [4368156032] - Application startup complete.
[2022-08-20 22:56:46,356.356] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:56:46,364.364] INFO [4368156032] - Shutting down
[2022-08-20 22:56:46,466.466] INFO [4368156032] - Waiting for application shutdown.
[2022-08-20 22:56:46,466.466] INFO [4368156032] - Application shutdown complete.
[2022-08-20 22:56:46,466.466] INFO [4368156032] - Finished server process [32156]
[2022-08-20 22:56:47,003.003] INFO [4308387200] - Started server process [32210]
[2022-08-20 22:56:47,003.003] INFO [4308387200] - Waiting for application startup.
[2022-08-20 22:56:47,003.003] INFO [4308387200] - Application startup complete.
[2022-08-20 22:57:13,205.205] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:57:13,216.216] INFO [4308387200] - Shutting down
[2022-08-20 22:57:13,317.317] INFO [4308387200] - Waiting for application shutdown.
[2022-08-20 22:57:13,318.318] INFO [4308387200] - Application shutdown complete.
[2022-08-20 22:57:13,318.318] INFO [4308387200] - Finished server process [32210]
[2022-08-20 22:57:30,867.867] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:57:31,364.364] INFO [4377380224] - Started server process [32271]
[2022-08-20 22:57:31,364.364] INFO [4377380224] - Waiting for application startup.
[2022-08-20 22:57:31,364.364] INFO [4377380224] - Application startup complete.
[2022-08-20 22:58:21,183.183] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 22:58:21,275.275] INFO [4377380224] - Shutting down
[2022-08-20 22:58:21,376.376] INFO [4377380224] - Waiting for application shutdown.
[2022-08-20 22:58:21,377.377] INFO [4377380224] - Application shutdown complete.
[2022-08-20 22:58:21,377.377] INFO [4377380224] - Finished server process [32271]
[2022-08-20 22:58:21,904.904] INFO [4343825792] - Started server process [32331]
[2022-08-20 22:58:21,905.905] INFO [4343825792] - Waiting for application startup.
[2022-08-20 22:58:21,905.905] INFO [4343825792] - Application startup complete.
[2022-08-20 22:58:29,174.174] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 22:58:29,201.201] INFO [4343825792] - Shutting down
[2022-08-20 22:58:29,302.302] INFO [4343825792] - Waiting for application shutdown.
[2022-08-20 22:58:29,302.302] INFO [4343825792] - Application shutdown complete.
[2022-08-20 22:58:29,302.302] INFO [4343825792] - Finished server process [32331]
[2022-08-20 22:58:29,807.807] INFO [4371334528] - Started server process [32347]
[2022-08-20 22:58:29,807.807] INFO [4371334528] - Waiting for application startup.
[2022-08-20 22:58:29,807.807] INFO [4371334528] - Application startup complete.
[2022-08-20 22:59:18,703.703] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:59:18,714.714] INFO [4371334528] - Shutting down
[2022-08-20 22:59:18,814.814] INFO [4371334528] - Waiting for application shutdown.
[2022-08-20 22:59:18,815.815] INFO [4371334528] - Application shutdown complete.
[2022-08-20 22:59:18,815.815] INFO [4371334528] - Finished server process [32347]
[2022-08-20 22:59:19,392.392] INFO [4377412992] - Started server process [32400]
[2022-08-20 22:59:19,392.392] INFO [4377412992] - Waiting for application startup.
[2022-08-20 22:59:19,392.392] INFO [4377412992] - Application startup complete.
[2022-08-20 22:59:23,002.002] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:59:23,033.033] INFO [4377412992] - Shutting down
[2022-08-20 22:59:23,134.134] INFO [4377412992] - Waiting for application shutdown.
[2022-08-20 22:59:23,135.135] INFO [4377412992] - Application shutdown complete.
[2022-08-20 22:59:23,135.135] INFO [4377412992] - Finished server process [32400]
[2022-08-20 22:59:23,702.702] INFO [4345152896] - Started server process [32408]
[2022-08-20 22:59:23,702.702] INFO [4345152896] - Waiting for application startup.
[2022-08-20 22:59:23,702.702] INFO [4345152896] - Application startup complete.
[2022-08-20 22:59:51,722.722] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 22:59:51,755.755] INFO [4345152896] - Shutting down
[2022-08-20 22:59:51,862.862] INFO [4345152896] - Waiting for application shutdown.
[2022-08-20 22:59:51,863.863] INFO [4345152896] - Application shutdown complete.
[2022-08-20 22:59:51,863.863] INFO [4345152896] - Finished server process [32408]
[2022-08-20 22:59:52,469.469] INFO [4368565632] - Started server process [32441]
[2022-08-20 22:59:52,469.469] INFO [4368565632] - Waiting for application startup.
[2022-08-20 22:59:52,469.469] INFO [4368565632] - Application startup complete.
[2022-08-20 23:00:00,394.394] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:00:00,471.471] INFO [4368565632] - Shutting down
[2022-08-20 23:00:00,573.573] INFO [4368565632] - Waiting for application shutdown.
[2022-08-20 23:00:00,573.573] INFO [4368565632] - Application shutdown complete.
[2022-08-20 23:00:00,573.573] INFO [4368565632] - Finished server process [32441]
[2022-08-20 23:00:01,086.086] INFO [4311319936] - Started server process [32457]
[2022-08-20 23:00:01,086.086] INFO [4311319936] - Waiting for application startup.
[2022-08-20 23:00:01,086.086] INFO [4311319936] - Application startup complete.
[2022-08-20 23:00:12,680.680] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:00:12,736.736] INFO [4311319936] - Shutting down
[2022-08-20 23:00:12,837.837] INFO [4311319936] - Waiting for application shutdown.
[2022-08-20 23:00:12,838.838] INFO [4311319936] - Application shutdown complete.
[2022-08-20 23:00:12,838.838] INFO [4311319936] - Finished server process [32457]
[2022-08-20 23:00:13,341.341] INFO [4368614784] - Started server process [32474]
[2022-08-20 23:00:13,342.342] INFO [4368614784] - Waiting for application startup.
[2022-08-20 23:00:13,342.342] INFO [4368614784] - Application startup complete.
[2022-08-20 23:00:26,016.016] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:00:26,100.100] INFO [4368614784] - Shutting down
[2022-08-20 23:00:26,202.202] INFO [4368614784] - Waiting for application shutdown.
[2022-08-20 23:00:26,202.202] INFO [4368614784] - Application shutdown complete.
[2022-08-20 23:00:26,202.202] INFO [4368614784] - Finished server process [32474]
[2022-08-20 23:00:26,692.692] INFO [4307715456] - Started server process [32495]
[2022-08-20 23:00:26,692.692] INFO [4307715456] - Waiting for application startup.
[2022-08-20 23:00:26,692.692] INFO [4307715456] - Application startup complete.
[2022-08-20 23:00:43,218.218] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:00:43,302.302] INFO [4307715456] - Shutting down
[2022-08-20 23:00:43,404.404] INFO [4307715456] - Waiting for application shutdown.
[2022-08-20 23:00:43,404.404] INFO [4307715456] - Application shutdown complete.
[2022-08-20 23:00:43,404.404] INFO [4307715456] - Finished server process [32495]
[2022-08-20 23:00:43,928.928] INFO [4366878080] - Started server process [32521]
[2022-08-20 23:00:43,928.928] INFO [4366878080] - Waiting for application startup.
[2022-08-20 23:00:43,928.928] INFO [4366878080] - Application startup complete.
[2022-08-20 23:01:11,462.462] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:01:11,462.462] INFO [4366878080] - Shutting down
[2022-08-20 23:01:11,564.564] INFO [4366878080] - Waiting for application shutdown.
[2022-08-20 23:01:11,564.564] INFO [4366878080] - Application shutdown complete.
[2022-08-20 23:01:11,564.564] INFO [4366878080] - Finished server process [32521]
[2022-08-20 23:01:12,125.125] INFO [4364371328] - Started server process [32551]
[2022-08-20 23:01:12,125.125] INFO [4364371328] - Waiting for application startup.
[2022-08-20 23:01:12,125.125] INFO [4364371328] - Application startup complete.
[2022-08-20 23:01:23,919.919] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:01:23,974.974] INFO [4364371328] - Shutting down
[2022-08-20 23:01:24,076.076] INFO [4364371328] - Waiting for application shutdown.
[2022-08-20 23:01:24,078.078] INFO [4364371328] - Application shutdown complete.
[2022-08-20 23:01:24,079.079] INFO [4364371328] - Finished server process [32551]
[2022-08-20 23:01:24,666.666] INFO [4367598976] - Started server process [32570]
[2022-08-20 23:01:24,666.666] INFO [4367598976] - Waiting for application startup.
[2022-08-20 23:01:24,666.666] INFO [4367598976] - Application startup complete.
[2022-08-20 23:01:35,465.465] INFO [4367598976] - 127.0.0.1:56354 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:01:35,664.664] INFO [4367598976] - 127.0.0.1:56354 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:01:40,222.222] INFO [4367598976] - 127.0.0.1:56354 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:01:40,331.331] INFO [4367598976] - 127.0.0.1:56354 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:01:54,328.328] INFO [4367598976] - 127.0.0.1:56355 - "POST /UploadData/POST HTTP/1.1" 422
[2022-08-20 23:02:55,054.054] INFO [4367598976] - 127.0.0.1:56361 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:02:55,170.170] INFO [4367598976] - 127.0.0.1:56361 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:03:06,385.385] INFO [4367598976] - 127.0.0.1:56362 - "POST /UploadData/POST HTTP/1.1" 422
[2022-08-20 23:03:25,093.093] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:03:25,108.108] INFO [4367598976] - Shutting down
[2022-08-20 23:03:25,210.210] INFO [4367598976] - Waiting for application shutdown.
[2022-08-20 23:03:25,210.210] INFO [4367598976] - Application shutdown complete.
[2022-08-20 23:03:25,210.210] INFO [4367598976] - Finished server process [32570]
[2022-08-20 23:03:25,854.854] INFO [4303684992] - Started server process [32708]
[2022-08-20 23:03:25,854.854] INFO [4303684992] - Waiting for application startup.
[2022-08-20 23:03:25,854.854] INFO [4303684992] - Application startup complete.
[2022-08-20 23:03:28,107.107] INFO [4303684992] - 127.0.0.1:56367 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:03:28,199.199] INFO [4303684992] - 127.0.0.1:56367 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:03:33,526.526] INFO [4303684992] - 127.0.0.1:56368 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-20 23:03:33,527.527] ERROR [4303684992] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 52, in upload
    if await FileValidation(upload.filename).validation(): #direct class method call for type and size validation
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/validation.py", line 14, in validation
    if self.file_object.content_type not in self.mime_types: # check file type
AttributeError: 'str' object has no attribute 'content_type'
[2022-08-20 23:03:50,178.178] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:03:50,257.257] INFO [4303684992] - Shutting down
[2022-08-20 23:03:50,358.358] INFO [4303684992] - Waiting for application shutdown.
[2022-08-20 23:03:50,359.359] INFO [4303684992] - Application shutdown complete.
[2022-08-20 23:03:50,359.359] INFO [4303684992] - Finished server process [32708]
[2022-08-20 23:03:50,857.857] INFO [4309370240] - Started server process [32748]
[2022-08-20 23:03:50,857.857] INFO [4309370240] - Waiting for application startup.
[2022-08-20 23:03:50,858.858] INFO [4309370240] - Application startup complete.
[2022-08-20 23:04:24,313.313] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:04:24,385.385] INFO [4309370240] - Shutting down
[2022-08-20 23:04:24,487.487] INFO [4309370240] - Waiting for application shutdown.
[2022-08-20 23:04:24,487.487] INFO [4309370240] - Application shutdown complete.
[2022-08-20 23:04:24,487.487] INFO [4309370240] - Finished server process [32748]
[2022-08-20 23:04:25,083.083] INFO [4342515072] - Started server process [32787]
[2022-08-20 23:04:25,083.083] INFO [4342515072] - Waiting for application startup.
[2022-08-20 23:04:25,083.083] INFO [4342515072] - Application startup complete.
[2022-08-20 23:04:26,863.863] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:04:26,907.907] INFO [4342515072] - Shutting down
[2022-08-20 23:04:27,011.011] INFO [4342515072] - Waiting for application shutdown.
[2022-08-20 23:04:27,013.013] INFO [4342515072] - Application shutdown complete.
[2022-08-20 23:04:27,014.014] INFO [4342515072] - Finished server process [32787]
[2022-08-20 23:04:27,581.581] INFO [4365665664] - Started server process [32794]
[2022-08-20 23:04:27,581.581] INFO [4365665664] - Waiting for application startup.
[2022-08-20 23:04:27,582.582] INFO [4365665664] - Application startup complete.
[2022-08-20 23:04:31,977.977] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:04:32,036.036] INFO [4365665664] - Shutting down
[2022-08-20 23:04:32,138.138] INFO [4365665664] - Waiting for application shutdown.
[2022-08-20 23:04:32,139.139] INFO [4365665664] - Application shutdown complete.
[2022-08-20 23:04:32,139.139] INFO [4365665664] - Finished server process [32794]
[2022-08-20 23:04:32,658.658] INFO [4370662784] - Started server process [32802]
[2022-08-20 23:04:32,658.658] INFO [4370662784] - Waiting for application startup.
[2022-08-20 23:04:32,658.658] INFO [4370662784] - Application startup complete.
[2022-08-20 23:04:39,941.941] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:04:39,949.949] INFO [4370662784] - Shutting down
[2022-08-20 23:04:40,050.050] INFO [4370662784] - Waiting for application shutdown.
[2022-08-20 23:04:40,051.051] INFO [4370662784] - Application shutdown complete.
[2022-08-20 23:04:40,051.051] INFO [4370662784] - Finished server process [32802]
[2022-08-20 23:04:40,579.579] INFO [4314531200] - Started server process [32812]
[2022-08-20 23:04:40,579.579] INFO [4314531200] - Waiting for application startup.
[2022-08-20 23:04:40,579.579] INFO [4314531200] - Application startup complete.
[2022-08-20 23:04:53,457.457] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:04:53,547.547] INFO [4314531200] - Shutting down
[2022-08-20 23:04:53,649.649] INFO [4314531200] - Waiting for application shutdown.
[2022-08-20 23:04:53,649.649] INFO [4314531200] - Application shutdown complete.
[2022-08-20 23:04:53,649.649] INFO [4314531200] - Finished server process [32812]
[2022-08-20 23:04:54,215.215] INFO [4373529984] - Started server process [32829]
[2022-08-20 23:04:54,216.216] INFO [4373529984] - Waiting for application startup.
[2022-08-20 23:04:54,216.216] INFO [4373529984] - Application startup complete.
[2022-08-20 23:04:55,543.543] INFO [4373529984] - 127.0.0.1:56385 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:04:55,638.638] INFO [4373529984] - 127.0.0.1:56385 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:04:59,145.145] INFO [4373529984] - 127.0.0.1:56385 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-20 23:04:59,146.146] ERROR [4373529984] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 46, in upload
    if await FileValidation(file.filename).validation():  # direct class method call for type and size validation
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/validation.py", line 14, in validation
    if self.file_object.content_type not in self.mime_types: # check file type
AttributeError: 'str' object has no attribute 'content_type'
[2022-08-20 23:06:30,208.208] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:06:30,216.216] INFO [4373529984] - Shutting down
[2022-08-20 23:06:30,317.317] INFO [4373529984] - Waiting for application shutdown.
[2022-08-20 23:06:30,317.317] INFO [4373529984] - Application shutdown complete.
[2022-08-20 23:06:30,317.317] INFO [4373529984] - Finished server process [32829]
[2022-08-20 23:06:30,823.823] INFO [4343661952] - Started server process [32926]
[2022-08-20 23:06:30,823.823] INFO [4343661952] - Waiting for application startup.
[2022-08-20 23:06:30,823.823] INFO [4343661952] - Application startup complete.
[2022-08-20 23:06:32,616.616] INFO [4343661952] - 127.0.0.1:56392 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:06:32,716.716] INFO [4343661952] - 127.0.0.1:56392 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:06:36,766.766] INFO [4343661952] - 127.0.0.1:56392 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-20 23:19:21,614.614] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:19:21,637.637] INFO [4343661952] - Shutting down
[2022-08-20 23:19:21,738.738] INFO [4343661952] - Waiting for application shutdown.
[2022-08-20 23:19:21,738.738] INFO [4343661952] - Application shutdown complete.
[2022-08-20 23:19:21,738.738] INFO [4343661952] - Finished server process [32926]
[2022-08-20 23:19:22,308.308] INFO [4370515328] - Started server process [46327]
[2022-08-20 23:19:22,308.308] INFO [4370515328] - Waiting for application startup.
[2022-08-20 23:19:22,308.308] INFO [4370515328] - Application startup complete.
[2022-08-20 23:19:40,608.608] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:19:40,647.647] INFO [4370515328] - Shutting down
[2022-08-20 23:19:40,749.749] INFO [4370515328] - Waiting for application shutdown.
[2022-08-20 23:19:40,749.749] INFO [4370515328] - Application shutdown complete.
[2022-08-20 23:19:40,749.749] INFO [4370515328] - Finished server process [46327]
[2022-08-20 23:19:41,232.232] INFO [4339631488] - Started server process [46354]
[2022-08-20 23:19:41,232.232] INFO [4339631488] - Waiting for application startup.
[2022-08-20 23:19:41,233.233] INFO [4339631488] - Application startup complete.
[2022-08-20 23:19:57,984.984] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:19:58,049.049] INFO [4339631488] - Shutting down
[2022-08-20 23:19:58,151.151] INFO [4339631488] - Waiting for application shutdown.
[2022-08-20 23:19:58,151.151] INFO [4339631488] - Application shutdown complete.
[2022-08-20 23:19:58,151.151] INFO [4339631488] - Finished server process [46354]
[2022-08-20 23:19:58,662.662] INFO [4332012928] - Started server process [46383]
[2022-08-20 23:19:58,662.662] INFO [4332012928] - Waiting for application startup.
[2022-08-20 23:19:58,662.662] INFO [4332012928] - Application startup complete.
[2022-08-20 23:22:08,341.341] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:22:08,390.390] INFO [4332012928] - Shutting down
[2022-08-20 23:22:08,494.494] INFO [4332012928] - Waiting for application shutdown.
[2022-08-20 23:22:08,494.494] INFO [4332012928] - Application shutdown complete.
[2022-08-20 23:22:08,495.495] INFO [4332012928] - Finished server process [46383]
[2022-08-20 23:22:09,083.083] INFO [4335388032] - Started server process [46504]
[2022-08-20 23:22:09,083.083] INFO [4335388032] - Waiting for application startup.
[2022-08-20 23:22:09,084.084] INFO [4335388032] - Application startup complete.
[2022-08-20 23:22:15,252.252] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:22:15,263.263] INFO [4335388032] - Shutting down
[2022-08-20 23:22:15,364.364] INFO [4335388032] - Waiting for application shutdown.
[2022-08-20 23:22:15,364.364] INFO [4335388032] - Application shutdown complete.
[2022-08-20 23:22:15,364.364] INFO [4335388032] - Finished server process [46504]
[2022-08-20 23:22:15,872.872] INFO [4333340032] - Started server process [46520]
[2022-08-20 23:22:15,872.872] INFO [4333340032] - Waiting for application startup.
[2022-08-20 23:22:15,872.872] INFO [4333340032] - Application startup complete.
[2022-08-20 23:24:51,042.042] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:24:51,046.046] INFO [4333340032] - Shutting down
[2022-08-20 23:24:51,148.148] INFO [4333340032] - Waiting for application shutdown.
[2022-08-20 23:24:51,149.149] INFO [4333340032] - Application shutdown complete.
[2022-08-20 23:24:51,149.149] INFO [4333340032] - Finished server process [46520]
[2022-08-20 23:24:51,756.756] INFO [4332307840] - Started server process [46666]
[2022-08-20 23:24:51,757.757] INFO [4332307840] - Waiting for application startup.
[2022-08-20 23:24:51,757.757] INFO [4332307840] - Application startup complete.
[2022-08-20 23:25:05,077.077] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:25:05,131.131] INFO [4332307840] - Shutting down
[2022-08-20 23:25:05,233.233] INFO [4332307840] - Waiting for application shutdown.
[2022-08-20 23:25:05,235.235] INFO [4332307840] - Application shutdown complete.
[2022-08-20 23:25:05,235.235] INFO [4332307840] - Finished server process [46666]
[2022-08-20 23:25:05,777.777] INFO [4379510144] - Started server process [46689]
[2022-08-20 23:25:05,777.777] INFO [4379510144] - Waiting for application startup.
[2022-08-20 23:25:05,777.777] INFO [4379510144] - Application startup complete.
[2022-08-20 23:25:09,444.444] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:25:09,520.520] INFO [4379510144] - Shutting down
[2022-08-20 23:25:09,621.621] INFO [4379510144] - Waiting for application shutdown.
[2022-08-20 23:25:09,622.622] INFO [4379510144] - Application shutdown complete.
[2022-08-20 23:25:09,622.622] INFO [4379510144] - Finished server process [46689]
[2022-08-20 23:25:10,137.137] INFO [4306273664] - Started server process [46700]
[2022-08-20 23:25:10,138.138] INFO [4306273664] - Waiting for application startup.
[2022-08-20 23:25:10,138.138] INFO [4306273664] - Application startup complete.
[2022-08-20 23:28:21,960.960] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:28:22,022.022] INFO [4306273664] - Shutting down
[2022-08-20 23:28:22,123.123] INFO [4306273664] - Waiting for application shutdown.
[2022-08-20 23:28:22,127.127] INFO [4306273664] - Application shutdown complete.
[2022-08-20 23:28:22,128.128] INFO [4306273664] - Finished server process [46700]
[2022-08-20 23:28:22,660.660] INFO [4375774592] - Started server process [46886]
[2022-08-20 23:28:22,661.661] INFO [4375774592] - Waiting for application startup.
[2022-08-20 23:28:22,661.661] INFO [4375774592] - Application startup complete.
[2022-08-20 23:29:12,765.765] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:29:12,804.804] INFO [4375774592] - Shutting down
[2022-08-20 23:29:12,906.906] INFO [4375774592] - Waiting for application shutdown.
[2022-08-20 23:29:12,906.906] INFO [4375774592] - Application shutdown complete.
[2022-08-20 23:29:12,906.906] INFO [4375774592] - Finished server process [46886]
[2022-08-20 23:29:13,417.417] INFO [4368680320] - Started server process [46945]
[2022-08-20 23:29:13,417.417] INFO [4368680320] - Waiting for application startup.
[2022-08-20 23:29:13,417.417] INFO [4368680320] - Application startup complete.
[2022-08-20 23:30:41,510.510] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:30:41,524.524] INFO [4368680320] - Shutting down
[2022-08-20 23:30:41,626.626] INFO [4368680320] - Waiting for application shutdown.
[2022-08-20 23:30:41,626.626] INFO [4368680320] - Application shutdown complete.
[2022-08-20 23:30:41,626.626] INFO [4368680320] - Finished server process [46945]
[2022-08-20 23:30:42,149.149] INFO [4336108928] - Started server process [47045]
[2022-08-20 23:30:42,149.149] INFO [4336108928] - Waiting for application startup.
[2022-08-20 23:30:42,149.149] INFO [4336108928] - Application startup complete.
[2022-08-20 23:31:22,744.744] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:31:22,767.767] INFO [4336108928] - Shutting down
[2022-08-20 23:31:22,868.868] INFO [4336108928] - Waiting for application shutdown.
[2022-08-20 23:31:22,868.868] INFO [4336108928] - Application shutdown complete.
[2022-08-20 23:31:22,868.868] INFO [4336108928] - Finished server process [47045]
[2022-08-20 23:31:23,469.469] INFO [4335191424] - Started server process [47096]
[2022-08-20 23:31:23,469.469] INFO [4335191424] - Waiting for application startup.
[2022-08-20 23:31:23,470.470] INFO [4335191424] - Application startup complete.
[2022-08-20 23:32:20,898.898] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:32:20,945.945] INFO [4335191424] - Shutting down
[2022-08-20 23:32:21,046.046] INFO [4335191424] - Waiting for application shutdown.
[2022-08-20 23:32:21,046.046] INFO [4335191424] - Application shutdown complete.
[2022-08-20 23:32:21,046.046] INFO [4335191424] - Finished server process [47096]
[2022-08-20 23:32:21,581.581] INFO [4310140288] - Started server process [47153]
[2022-08-20 23:32:21,582.582] INFO [4310140288] - Waiting for application startup.
[2022-08-20 23:32:21,582.582] INFO [4310140288] - Application startup complete.
[2022-08-20 23:32:56,006.006] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:32:56,106.106] INFO [4310140288] - Shutting down
[2022-08-20 23:32:56,207.207] INFO [4310140288] - Waiting for application shutdown.
[2022-08-20 23:32:56,207.207] INFO [4310140288] - Application shutdown complete.
[2022-08-20 23:32:56,207.207] INFO [4310140288] - Finished server process [47153]
[2022-08-20 23:32:56,734.734] INFO [4338943360] - Started server process [47193]
[2022-08-20 23:32:56,734.734] INFO [4338943360] - Waiting for application startup.
[2022-08-20 23:32:56,734.734] INFO [4338943360] - Application startup complete.
[2022-08-20 23:32:57,554.554] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:32:57,644.644] INFO [4338943360] - Shutting down
[2022-08-20 23:32:57,745.745] INFO [4338943360] - Waiting for application shutdown.
[2022-08-20 23:32:57,745.745] INFO [4338943360] - Application shutdown complete.
[2022-08-20 23:32:57,745.745] INFO [4338943360] - Finished server process [47193]
[2022-08-20 23:32:58,302.302] INFO [4330571136] - Started server process [47200]
[2022-08-20 23:32:58,302.302] INFO [4330571136] - Waiting for application startup.
[2022-08-20 23:32:58,302.302] INFO [4330571136] - Application startup complete.
[2022-08-20 23:33:27,542.542] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:33:27,550.550] INFO [4330571136] - Shutting down
[2022-08-20 23:33:27,651.651] INFO [4330571136] - Waiting for application shutdown.
[2022-08-20 23:33:27,652.652] INFO [4330571136] - Application shutdown complete.
[2022-08-20 23:33:27,652.652] INFO [4330571136] - Finished server process [47200]
[2022-08-20 23:33:28,202.202] INFO [4379592064] - Started server process [47237]
[2022-08-20 23:33:28,202.202] INFO [4379592064] - Waiting for application startup.
[2022-08-20 23:33:28,202.202] INFO [4379592064] - Application startup complete.
[2022-08-20 23:33:43,059.059] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:33:43,084.084] INFO [4379592064] - Shutting down
[2022-08-20 23:33:43,186.186] INFO [4379592064] - Waiting for application shutdown.
[2022-08-20 23:33:43,186.186] INFO [4379592064] - Application shutdown complete.
[2022-08-20 23:33:43,186.186] INFO [4379592064] - Finished server process [47237]
[2022-08-20 23:33:43,777.777] INFO [4346807680] - Started server process [47260]
[2022-08-20 23:33:43,783.783] INFO [4346807680] - Waiting for application startup.
[2022-08-20 23:33:43,783.783] INFO [4346807680] - Application startup complete.
[2022-08-20 23:33:50,758.758] INFO [4346807680] - 127.0.0.1:56514 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:33:50,911.911] INFO [4346807680] - 127.0.0.1:56514 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:34:07,640.640] INFO [4346807680] - 127.0.0.1:56515 - "GET /SendReport/GET?_type=1&start_date=13%2F01%2F01&end_date=14%2F12%2F12&acceptor_email=kZGO%25rjt%40codeNeduDaz HTTP/1.1" 500
[2022-08-20 23:34:07,641.641] ERROR [4346807680] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 86, in get_method
    start_date = datetime.datetime.strptime(start_date, '%Y/%m/%d 00:00:00')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 568, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/_strptime.py", line 349, in _strptime
    raise ValueError("time data %r does not match format %r" %
ValueError: time data '13/01/01' does not match format '%Y/%m/%d 00:00:00'
[2022-08-20 23:35:00,962.962] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:35:00,991.991] INFO [4346807680] - Shutting down
[2022-08-20 23:35:01,095.095] INFO [4346807680] - Waiting for application shutdown.
[2022-08-20 23:35:01,098.098] INFO [4346807680] - Application shutdown complete.
[2022-08-20 23:35:01,099.099] INFO [4346807680] - Finished server process [47260]
[2022-08-20 23:35:01,650.650] INFO [4307568000] - Started server process [47335]
[2022-08-20 23:35:01,650.650] INFO [4307568000] - Waiting for application startup.
[2022-08-20 23:35:01,650.650] INFO [4307568000] - Application startup complete.
[2022-08-20 23:38:12,643.643] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:38:12,710.710] INFO [4307568000] - Shutting down
[2022-08-20 23:38:12,811.811] INFO [4307568000] - Waiting for application shutdown.
[2022-08-20 23:38:12,812.812] INFO [4307568000] - Application shutdown complete.
[2022-08-20 23:38:12,812.812] INFO [4307568000] - Finished server process [47335]
[2022-08-20 23:38:13,340.340] INFO [4340925824] - Started server process [47512]
[2022-08-20 23:38:13,340.340] INFO [4340925824] - Waiting for application startup.
[2022-08-20 23:38:13,340.340] INFO [4340925824] - Application startup complete.
[2022-08-20 23:38:16,000.000] INFO [4340925824] - 127.0.0.1:56534 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:38:16,154.154] INFO [4340925824] - 127.0.0.1:56534 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:38:53,757.757] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:38:53,806.806] INFO [4340925824] - Shutting down
[2022-08-20 23:38:53,908.908] INFO [4340925824] - Waiting for application shutdown.
[2022-08-20 23:38:53,908.908] INFO [4340925824] - Application shutdown complete.
[2022-08-20 23:38:53,908.908] INFO [4340925824] - Finished server process [47512]
[2022-08-20 23:38:54,445.445] INFO [4302472576] - Started server process [47563]
[2022-08-20 23:38:54,445.445] INFO [4302472576] - Waiting for application startup.
[2022-08-20 23:38:54,446.446] INFO [4302472576] - Application startup complete.
[2022-08-20 23:38:56,815.815] INFO [4302472576] - 127.0.0.1:56538 - "GET /SendReport/GET?_type=1&start_date=2013-01-01&end_date=2014-01-01&acceptor_email=o-k_4uIFbO6.J%2BM8-3fxVt%2BmIB2fvQoSGtHV7eRNIf5dK.tQF8o3knOAgF5RfV_%2B1Q3piakUm3wJxdEP%40code%27edu%24az HTTP/1.1" 200
[2022-08-20 23:39:00,420.420] INFO [4302472576] - 127.0.0.1:56538 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:39:00,611.611] INFO [4302472576] - 127.0.0.1:56538 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:39:29,001.001] INFO [4302472576] - 127.0.0.1:56539 - "GET /SendReport/GET?_type=1&start_date=2013-01-01&end_date=2014-12-12 HTTP/1.1" 200
[2022-08-20 23:39:44,501.501] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:39:44,521.521] INFO [4302472576] - Shutting down
[2022-08-20 23:39:44,623.623] INFO [4302472576] - Waiting for application shutdown.
[2022-08-20 23:39:44,623.623] INFO [4302472576] - Application shutdown complete.
[2022-08-20 23:39:44,623.623] INFO [4302472576] - Finished server process [47563]
[2022-08-20 23:39:45,215.215] INFO [4376708480] - Started server process [47615]
[2022-08-20 23:39:45,215.215] INFO [4376708480] - Waiting for application startup.
[2022-08-20 23:39:45,215.215] INFO [4376708480] - Application startup complete.
[2022-08-20 23:39:45,647.647] INFO [4376708480] - 127.0.0.1:56547 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:39:45,839.839] INFO [4376708480] - 127.0.0.1:56547 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:40:26,393.393] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:40:26,404.404] INFO [4376708480] - Shutting down
[2022-08-20 23:40:26,505.505] INFO [4376708480] - Waiting for application shutdown.
[2022-08-20 23:40:26,505.505] INFO [4376708480] - Application shutdown complete.
[2022-08-20 23:40:26,505.505] INFO [4376708480] - Finished server process [47615]
[2022-08-20 23:40:27,285.285] INFO [4346250624] - Started server process [47668]
[2022-08-20 23:40:27,286.286] INFO [4346250624] - Waiting for application startup.
[2022-08-20 23:40:27,286.286] INFO [4346250624] - Application startup complete.
[2022-08-20 23:40:28,665.665] INFO [4346250624] - 127.0.0.1:56553 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:40:28,759.759] INFO [4346250624] - 127.0.0.1:56553 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:40:42,494.494] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:40:42,586.586] INFO [4346250624] - Shutting down
[2022-08-20 23:40:42,687.687] INFO [4346250624] - Waiting for application shutdown.
[2022-08-20 23:40:42,688.688] INFO [4346250624] - Application shutdown complete.
[2022-08-20 23:40:42,688.688] INFO [4346250624] - Finished server process [47668]
[2022-08-20 23:40:43,228.228] INFO [4346430848] - Started server process [47692]
[2022-08-20 23:40:43,228.228] INFO [4346430848] - Waiting for application startup.
[2022-08-20 23:40:43,228.228] INFO [4346430848] - Application startup complete.
[2022-08-20 23:40:43,867.867] INFO [4346430848] - 127.0.0.1:56558 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:40:43,981.981] INFO [4346430848] - 127.0.0.1:56558 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:41:07,409.409] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:41:07,436.436] INFO [4346430848] - Shutting down
[2022-08-20 23:41:07,538.538] INFO [4346430848] - Waiting for application shutdown.
[2022-08-20 23:41:07,538.538] INFO [4346430848] - Application shutdown complete.
[2022-08-20 23:41:07,538.538] INFO [4346430848] - Finished server process [47692]
[2022-08-20 23:41:08,099.099] INFO [4372071808] - Started server process [47723]
[2022-08-20 23:41:08,099.099] INFO [4372071808] - Waiting for application startup.
[2022-08-20 23:41:08,099.099] INFO [4372071808] - Application startup complete.
[2022-08-20 23:41:17,335.335] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:41:17,410.410] INFO [4372071808] - Shutting down
[2022-08-20 23:41:17,512.512] INFO [4372071808] - Waiting for application shutdown.
[2022-08-20 23:41:17,512.512] INFO [4372071808] - Application shutdown complete.
[2022-08-20 23:41:17,512.512] INFO [4372071808] - Finished server process [47723]
[2022-08-20 23:41:18,102.102] INFO [4309091712] - Started server process [47736]
[2022-08-20 23:41:18,102.102] INFO [4309091712] - Waiting for application startup.
[2022-08-20 23:41:18,102.102] INFO [4309091712] - Application startup complete.
[2022-08-20 23:41:33,703.703] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:41:33,793.793] INFO [4309091712] - Shutting down
[2022-08-20 23:41:33,895.895] INFO [4309091712] - Waiting for application shutdown.
[2022-08-20 23:41:33,895.895] INFO [4309091712] - Application shutdown complete.
[2022-08-20 23:41:33,895.895] INFO [4309091712] - Finished server process [47736]
[2022-08-20 23:41:34,442.442] INFO [4370171264] - Started server process [47760]
[2022-08-20 23:41:34,442.442] INFO [4370171264] - Waiting for application startup.
[2022-08-20 23:41:34,442.442] INFO [4370171264] - Application startup complete.
[2022-08-20 23:44:42,059.059] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:44:42,074.074] INFO [4370171264] - Shutting down
[2022-08-20 23:44:42,175.175] INFO [4370171264] - Waiting for application shutdown.
[2022-08-20 23:44:42,176.176] INFO [4370171264] - Application shutdown complete.
[2022-08-20 23:44:42,176.176] INFO [4370171264] - Finished server process [47760]
[2022-08-20 23:44:42,784.784] INFO [4374644096] - Started server process [47954]
[2022-08-20 23:44:42,784.784] INFO [4374644096] - Waiting for application startup.
[2022-08-20 23:44:42,785.785] INFO [4374644096] - Application startup complete.
[2022-08-20 23:44:45,046.046] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:44:45,111.111] INFO [4374644096] - Shutting down
[2022-08-20 23:44:45,212.212] INFO [4374644096] - Waiting for application shutdown.
[2022-08-20 23:44:45,212.212] INFO [4374644096] - Application shutdown complete.
[2022-08-20 23:44:45,212.212] INFO [4374644096] - Finished server process [47954]
[2022-08-20 23:44:45,731.731] INFO [4301161856] - Started server process [47967]
[2022-08-20 23:44:45,731.731] INFO [4301161856] - Waiting for application startup.
[2022-08-20 23:44:45,731.731] INFO [4301161856] - Application startup complete.
[2022-08-20 23:44:46,313.313] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:44:46,340.340] INFO [4301161856] - Shutting down
[2022-08-20 23:44:46,441.441] INFO [4301161856] - Waiting for application shutdown.
[2022-08-20 23:44:46,441.441] INFO [4301161856] - Application shutdown complete.
[2022-08-20 23:44:46,441.441] INFO [4301161856] - Finished server process [47967]
[2022-08-20 23:44:46,973.973] INFO [4339680640] - Started server process [47972]
[2022-08-20 23:44:46,973.973] INFO [4339680640] - Waiting for application startup.
[2022-08-20 23:44:46,973.973] INFO [4339680640] - Application startup complete.
[2022-08-20 23:44:52,890.890] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:44:52,945.945] INFO [4339680640] - Shutting down
[2022-08-20 23:44:53,047.047] INFO [4339680640] - Waiting for application shutdown.
[2022-08-20 23:44:53,047.047] INFO [4339680640] - Application shutdown complete.
[2022-08-20 23:44:53,047.047] INFO [4339680640] - Finished server process [47972]
[2022-08-20 23:44:53,656.656] INFO [4345873792] - Started server process [47985]
[2022-08-20 23:44:53,656.656] INFO [4345873792] - Waiting for application startup.
[2022-08-20 23:44:53,656.656] INFO [4345873792] - Application startup complete.
[2022-08-20 23:45:16,632.632] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:45:16,712.712] INFO [4345873792] - Shutting down
[2022-08-20 23:45:16,813.813] INFO [4345873792] - Waiting for application shutdown.
[2022-08-20 23:45:16,813.813] INFO [4345873792] - Application shutdown complete.
[2022-08-20 23:45:16,813.813] INFO [4345873792] - Finished server process [47985]
[2022-08-20 23:45:17,362.362] INFO [4311778688] - Started server process [48011]
[2022-08-20 23:45:17,362.362] INFO [4311778688] - Waiting for application startup.
[2022-08-20 23:45:17,362.362] INFO [4311778688] - Application startup complete.
[2022-08-20 23:46:07,822.822] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:46:07,827.827] INFO [4311778688] - Shutting down
[2022-08-20 23:46:07,928.928] INFO [4311778688] - Waiting for application shutdown.
[2022-08-20 23:46:07,929.929] INFO [4311778688] - Application shutdown complete.
[2022-08-20 23:46:07,929.929] INFO [4311778688] - Finished server process [48011]
[2022-08-20 23:46:08,487.487] INFO [4330046848] - Started server process [48617]
[2022-08-20 23:46:08,487.487] INFO [4330046848] - Waiting for application startup.
[2022-08-20 23:46:08,487.487] INFO [4330046848] - Application startup complete.
[2022-08-20 23:46:12,842.842] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:46:12,937.937] INFO [4330046848] - Shutting down
[2022-08-20 23:46:13,039.039] INFO [4330046848] - Waiting for application shutdown.
[2022-08-20 23:46:13,039.039] INFO [4330046848] - Application shutdown complete.
[2022-08-20 23:46:13,039.039] INFO [4330046848] - Finished server process [48617]
[2022-08-20 23:46:13,676.676] INFO [4311401856] - Started server process [48832]
[2022-08-20 23:46:13,677.677] INFO [4311401856] - Waiting for application startup.
[2022-08-20 23:46:13,677.677] INFO [4311401856] - Application startup complete.
[2022-08-20 23:46:18,460.460] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:46:18,532.532] INFO [4311401856] - Shutting down
[2022-08-20 23:46:18,633.633] INFO [4311401856] - Waiting for application shutdown.
[2022-08-20 23:46:18,633.633] INFO [4311401856] - Application shutdown complete.
[2022-08-20 23:46:18,633.633] INFO [4311401856] - Finished server process [48832]
[2022-08-20 23:46:19,174.174] INFO [4304373120] - Started server process [49594]
[2022-08-20 23:46:19,174.174] INFO [4304373120] - Waiting for application startup.
[2022-08-20 23:46:19,174.174] INFO [4304373120] - Application startup complete.
[2022-08-20 23:46:25,104.104] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:46:25,165.165] INFO [4304373120] - Shutting down
[2022-08-20 23:46:25,266.266] INFO [4304373120] - Waiting for application shutdown.
[2022-08-20 23:46:25,266.266] INFO [4304373120] - Application shutdown complete.
[2022-08-20 23:46:25,266.266] INFO [4304373120] - Finished server process [49594]
[2022-08-20 23:46:25,794.794] INFO [4369876352] - Started server process [49605]
[2022-08-20 23:46:25,794.794] INFO [4369876352] - Waiting for application startup.
[2022-08-20 23:46:25,794.794] INFO [4369876352] - Application startup complete.
[2022-08-20 23:46:36,851.851] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:46:36,923.923] INFO [4369876352] - Shutting down
[2022-08-20 23:46:37,025.025] INFO [4369876352] - Waiting for application shutdown.
[2022-08-20 23:46:37,025.025] INFO [4369876352] - Application shutdown complete.
[2022-08-20 23:46:37,025.025] INFO [4369876352] - Finished server process [49605]
[2022-08-20 23:46:37,558.558] INFO [4379952512] - Started server process [49644]
[2022-08-20 23:46:37,559.559] INFO [4379952512] - Waiting for application startup.
[2022-08-20 23:46:37,559.559] INFO [4379952512] - Application startup complete.
[2022-08-20 23:46:52,252.252] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:46:52,339.339] INFO [4379952512] - Shutting down
[2022-08-20 23:46:52,442.442] INFO [4379952512] - Waiting for application shutdown.
[2022-08-20 23:46:52,442.442] INFO [4379952512] - Application shutdown complete.
[2022-08-20 23:46:52,442.442] INFO [4379952512] - Finished server process [49644]
[2022-08-20 23:46:52,948.948] INFO [4379739520] - Started server process [50389]
[2022-08-20 23:46:52,948.948] INFO [4379739520] - Waiting for application startup.
[2022-08-20 23:46:52,948.948] INFO [4379739520] - Application startup complete.
[2022-08-20 23:47:37,388.388] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:47:37,488.488] INFO [4379739520] - Shutting down
[2022-08-20 23:47:37,589.589] INFO [4379739520] - Waiting for application shutdown.
[2022-08-20 23:47:37,590.590] INFO [4379739520] - Application shutdown complete.
[2022-08-20 23:47:37,590.590] INFO [4379739520] - Finished server process [50389]
[2022-08-20 23:47:38,164.164] INFO [4335437184] - Started server process [50438]
[2022-08-20 23:47:38,165.165] INFO [4335437184] - Waiting for application startup.
[2022-08-20 23:47:38,165.165] INFO [4335437184] - Application startup complete.
[2022-08-20 23:47:46,391.391] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:47:46,471.471] INFO [4335437184] - Shutting down
[2022-08-20 23:47:46,573.573] INFO [4335437184] - Waiting for application shutdown.
[2022-08-20 23:47:46,573.573] INFO [4335437184] - Application shutdown complete.
[2022-08-20 23:47:46,573.573] INFO [4335437184] - Finished server process [50438]
[2022-08-20 23:47:47,083.083] INFO [4346103168] - Started server process [50453]
[2022-08-20 23:47:47,083.083] INFO [4346103168] - Waiting for application startup.
[2022-08-20 23:47:47,083.083] INFO [4346103168] - Application startup complete.
[2022-08-20 23:48:46,787.787] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:48:46,869.869] INFO [4346103168] - Shutting down
[2022-08-20 23:48:46,975.975] INFO [4346103168] - Waiting for application shutdown.
[2022-08-20 23:48:46,976.976] INFO [4346103168] - Application shutdown complete.
[2022-08-20 23:48:46,976.976] INFO [4346103168] - Finished server process [50453]
[2022-08-20 23:48:47,641.641] INFO [4312614272] - Started server process [52023]
[2022-08-20 23:48:47,641.641] INFO [4312614272] - Waiting for application startup.
[2022-08-20 23:48:47,641.641] INFO [4312614272] - Application startup complete.
[2022-08-20 23:49:15,490.490] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:49:15,571.571] INFO [4312614272] - Shutting down
[2022-08-20 23:49:15,673.673] INFO [4312614272] - Waiting for application shutdown.
[2022-08-20 23:49:15,673.673] INFO [4312614272] - Application shutdown complete.
[2022-08-20 23:49:15,673.673] INFO [4312614272] - Finished server process [52023]
[2022-08-20 23:49:16,217.217] INFO [4368647552] - Started server process [52786]
[2022-08-20 23:49:16,217.217] INFO [4368647552] - Waiting for application startup.
[2022-08-20 23:49:16,217.217] INFO [4368647552] - Application startup complete.
[2022-08-20 23:49:44,746.746] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:49:44,794.794] INFO [4368647552] - Shutting down
[2022-08-20 23:49:44,896.896] INFO [4368647552] - Waiting for application shutdown.
[2022-08-20 23:49:44,896.896] INFO [4368647552] - Application shutdown complete.
[2022-08-20 23:49:44,896.896] INFO [4368647552] - Finished server process [52786]
[2022-08-20 23:49:45,414.414] INFO [4336043392] - Started server process [52823]
[2022-08-20 23:49:45,414.414] INFO [4336043392] - Waiting for application startup.
[2022-08-20 23:49:45,414.414] INFO [4336043392] - Application startup complete.
[2022-08-20 23:49:52,131.131] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:49:52,202.202] INFO [4336043392] - Shutting down
[2022-08-20 23:49:52,303.303] INFO [4336043392] - Waiting for application shutdown.
[2022-08-20 23:49:52,303.303] INFO [4336043392] - Application shutdown complete.
[2022-08-20 23:49:52,303.303] INFO [4336043392] - Finished server process [52823]
[2022-08-20 23:49:52,810.810] INFO [4337337728] - Started server process [52835]
[2022-08-20 23:49:52,810.810] INFO [4337337728] - Waiting for application startup.
[2022-08-20 23:49:52,810.810] INFO [4337337728] - Application startup complete.
[2022-08-20 23:49:54,928.928] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:49:54,939.939] INFO [4337337728] - Shutting down
[2022-08-20 23:49:55,040.040] INFO [4337337728] - Waiting for application shutdown.
[2022-08-20 23:49:55,040.040] INFO [4337337728] - Application shutdown complete.
[2022-08-20 23:49:55,040.040] INFO [4337337728] - Finished server process [52835]
[2022-08-20 23:49:55,584.584] INFO [4347184512] - Started server process [52841]
[2022-08-20 23:49:55,584.584] INFO [4347184512] - Waiting for application startup.
[2022-08-20 23:49:55,585.585] INFO [4347184512] - Application startup complete.
[2022-08-20 23:50:25,346.346] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:50:25,347.347] INFO [4347184512] - Shutting down
[2022-08-20 23:50:25,451.451] INFO [4347184512] - Waiting for application shutdown.
[2022-08-20 23:50:25,452.452] INFO [4347184512] - Application shutdown complete.
[2022-08-20 23:50:25,453.453] INFO [4347184512] - Finished server process [52841]
[2022-08-20 23:50:26,063.063] INFO [4299523456] - Started server process [52877]
[2022-08-20 23:50:26,063.063] INFO [4299523456] - Waiting for application startup.
[2022-08-20 23:50:26,063.063] INFO [4299523456] - Application startup complete.
[2022-08-20 23:50:30,949.949] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:50:31,028.028] INFO [4299523456] - Shutting down
[2022-08-20 23:50:31,129.129] INFO [4299523456] - Waiting for application shutdown.
[2022-08-20 23:50:31,130.130] INFO [4299523456] - Application shutdown complete.
[2022-08-20 23:50:31,130.130] INFO [4299523456] - Finished server process [52877]
[2022-08-20 23:50:31,685.685] INFO [4346398080] - Started server process [52888]
[2022-08-20 23:50:31,685.685] INFO [4346398080] - Waiting for application startup.
[2022-08-20 23:50:31,685.685] INFO [4346398080] - Application startup complete.
[2022-08-20 23:50:52,222.222] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:50:52,239.239] INFO [4346398080] - Shutting down
[2022-08-20 23:50:52,340.340] INFO [4346398080] - Waiting for application shutdown.
[2022-08-20 23:50:52,340.340] INFO [4346398080] - Application shutdown complete.
[2022-08-20 23:50:52,340.340] INFO [4346398080] - Finished server process [52888]
[2022-08-20 23:50:52,847.847] INFO [4371613056] - Started server process [52920]
[2022-08-20 23:50:52,847.847] INFO [4371613056] - Waiting for application startup.
[2022-08-20 23:50:52,847.847] INFO [4371613056] - Application startup complete.
[2022-08-20 23:51:21,373.373] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:51:21,399.399] INFO [4371613056] - Shutting down
[2022-08-20 23:51:21,500.500] INFO [4371613056] - Waiting for application shutdown.
[2022-08-20 23:51:21,501.501] INFO [4371613056] - Application shutdown complete.
[2022-08-20 23:51:21,501.501] INFO [4371613056] - Finished server process [52920]
[2022-08-20 23:51:22,041.041] INFO [4304127360] - Started server process [52952]
[2022-08-20 23:51:22,042.042] INFO [4304127360] - Waiting for application startup.
[2022-08-20 23:51:22,042.042] INFO [4304127360] - Application startup complete.
[2022-08-20 23:51:23,603.603] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:51:23,656.656] INFO [4304127360] - Shutting down
[2022-08-20 23:51:23,757.757] INFO [4304127360] - Waiting for application shutdown.
[2022-08-20 23:51:23,758.758] INFO [4304127360] - Application shutdown complete.
[2022-08-20 23:51:23,758.758] INFO [4304127360] - Finished server process [52952]
[2022-08-20 23:51:24,323.323] INFO [4372137344] - Started server process [52961]
[2022-08-20 23:51:24,323.323] INFO [4372137344] - Waiting for application startup.
[2022-08-20 23:51:24,323.323] INFO [4372137344] - Application startup complete.
[2022-08-20 23:51:27,399.399] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:51:27,458.458] INFO [4372137344] - Shutting down
[2022-08-20 23:51:27,559.559] INFO [4372137344] - Waiting for application shutdown.
[2022-08-20 23:51:27,559.559] INFO [4372137344] - Application shutdown complete.
[2022-08-20 23:51:27,559.559] INFO [4372137344] - Finished server process [52961]
[2022-08-20 23:51:28,079.079] INFO [4332389760] - Started server process [52967]
[2022-08-20 23:51:28,079.079] INFO [4332389760] - Waiting for application startup.
[2022-08-20 23:51:28,079.079] INFO [4332389760] - Application startup complete.
[2022-08-20 23:52:01,739.739] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:52:01,790.790] INFO [4332389760] - Shutting down
[2022-08-20 23:52:01,892.892] INFO [4332389760] - Waiting for application shutdown.
[2022-08-20 23:52:01,892.892] INFO [4332389760] - Application shutdown complete.
[2022-08-20 23:52:01,892.892] INFO [4332389760] - Finished server process [52967]
[2022-08-20 23:52:02,501.501] INFO [4315956608] - Started server process [53001]
[2022-08-20 23:52:02,501.501] INFO [4315956608] - Waiting for application startup.
[2022-08-20 23:52:02,501.501] INFO [4315956608] - Application startup complete.
[2022-08-20 23:52:09,416.416] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-20 23:52:09,482.482] INFO [4315956608] - Shutting down
[2022-08-20 23:52:09,584.584] INFO [4315956608] - Waiting for application shutdown.
[2022-08-20 23:52:09,584.584] INFO [4315956608] - Application shutdown complete.
[2022-08-20 23:52:09,585.585] INFO [4315956608] - Finished server process [53001]
[2022-08-20 23:52:10,136.136] INFO [4298933632] - Started server process [53015]
[2022-08-20 23:52:10,136.136] INFO [4298933632] - Waiting for application startup.
[2022-08-20 23:52:10,136.136] INFO [4298933632] - Application startup complete.
[2022-08-20 23:52:32,451.451] WARNING [4299998592] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-20 23:52:32,516.516] INFO [4298933632] - Shutting down
[2022-08-20 23:52:32,617.617] INFO [4298933632] - Waiting for application shutdown.
[2022-08-20 23:52:32,617.617] INFO [4298933632] - Application shutdown complete.
[2022-08-20 23:52:32,617.617] INFO [4298933632] - Finished server process [53015]
[2022-08-20 23:52:33,166.166] INFO [4372530560] - Started server process [53040]
[2022-08-20 23:52:33,166.166] INFO [4372530560] - Waiting for application startup.
[2022-08-20 23:52:33,166.166] INFO [4372530560] - Application startup complete.
[2022-08-20 23:52:42,393.393] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:52:42,471.471] INFO [4372530560] - Shutting down
[2022-08-20 23:52:42,573.573] INFO [4372530560] - Waiting for application shutdown.
[2022-08-20 23:52:42,573.573] INFO [4372530560] - Application shutdown complete.
[2022-08-20 23:52:42,573.573] INFO [4372530560] - Finished server process [53040]
[2022-08-20 23:52:58,083.083] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:53:03,749.749] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:53:04,307.307] INFO [4304405888] - Started server process [53826]
[2022-08-20 23:53:04,307.307] INFO [4304405888] - Waiting for application startup.
[2022-08-20 23:53:04,307.307] INFO [4304405888] - Application startup complete.
[2022-08-20 23:53:04,308.308] INFO [4304405888] - 127.0.0.1:56647 - "GET /swagger HTTP/1.1" 200
[2022-08-20 23:53:04,452.452] INFO [4304405888] - 127.0.0.1:56647 - "GET /openapi.json HTTP/1.1" 200
[2022-08-20 23:53:43,455.455] INFO [4304405888] - 127.0.0.1:56648 - "GET /SendReport/GET?_type=2&start_date=2013-01-01&end_date=2014-12-12&acceptor_email=eDrgXyQDi-lU32dlgrVXvJx%25BPfDjKL1TReZd9OaI3dLALjpYyBjBoMCCmcKoVR_-4U5sXzei-SL9-sDPdrXcMWyE3.t%40codeUeduZaz HTTP/1.1" 200
[2022-08-20 23:54:05,356.356] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:54:05,383.383] INFO [4304405888] - Shutting down
[2022-08-20 23:54:05,484.484] INFO [4304405888] - Waiting for application shutdown.
[2022-08-20 23:54:05,484.484] INFO [4304405888] - Application shutdown complete.
[2022-08-20 23:54:05,484.484] INFO [4304405888] - Finished server process [53826]
[2022-08-20 23:54:06,014.014] INFO [4312319360] - Started server process [53887]
[2022-08-20 23:54:06,014.014] INFO [4312319360] - Waiting for application startup.
[2022-08-20 23:54:06,014.014] INFO [4312319360] - Application startup complete.
[2022-08-20 23:54:49,273.273] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-20 23:54:49,298.298] INFO [4312319360] - Shutting down
[2022-08-20 23:54:49,400.400] INFO [4312319360] - Waiting for application shutdown.
[2022-08-20 23:54:49,401.401] INFO [4312319360] - Application shutdown complete.
[2022-08-20 23:54:49,401.401] INFO [4312319360] - Finished server process [53887]
[2022-08-20 23:54:50,005.005] INFO [4335715712] - Started server process [53930]
[2022-08-20 23:54:50,005.005] INFO [4335715712] - Waiting for application startup.
[2022-08-20 23:54:50,006.006] INFO [4335715712] - Application startup complete.
[2022-08-21 00:00:10,108.108] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:00:10,132.132] INFO [4335715712] - Shutting down
[2022-08-21 00:00:10,233.233] INFO [4335715712] - Waiting for application shutdown.
[2022-08-21 00:00:10,234.234] INFO [4335715712] - Application shutdown complete.
[2022-08-21 00:00:10,234.234] INFO [4335715712] - Finished server process [53930]
[2022-08-21 00:00:45,849.849] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:01:21,547.547] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:01:33,331.331] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:01:46,177.177] WARNING [4299998592] - StatReload detected changes in 'db/models.py'. Reloading...
[2022-08-21 00:02:28,047.047] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:02:32,148.148] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:02:38,065.065] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:02:38,525.525] INFO [4311385472] - Started server process [54443]
[2022-08-21 00:02:38,525.525] INFO [4311385472] - Waiting for application startup.
[2022-08-21 00:02:38,526.526] INFO [4311385472] - Application startup complete.
[2022-08-21 00:02:44,801.801] INFO [4311385472] - 127.0.0.1:56697 - "GET /swagger HTTP/1.1" 200
[2022-08-21 00:02:44,964.964] INFO [4311385472] - 127.0.0.1:56697 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 00:03:18,628.628] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:03:18,717.717] INFO [4311385472] - Shutting down
[2022-08-21 00:03:18,819.819] INFO [4311385472] - Waiting for application shutdown.
[2022-08-21 00:03:18,820.820] INFO [4311385472] - Application shutdown complete.
[2022-08-21 00:03:18,820.820] INFO [4311385472] - Finished server process [54443]
[2022-08-21 00:03:19,366.366] INFO [4301260160] - Started server process [54490]
[2022-08-21 00:03:19,366.366] INFO [4301260160] - Waiting for application startup.
[2022-08-21 00:03:19,366.366] INFO [4301260160] - Application startup complete.
[2022-08-21 00:03:49,997.997] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:03:50,029.029] INFO [4301260160] - Shutting down
[2022-08-21 00:03:50,130.130] INFO [4301260160] - Waiting for application shutdown.
[2022-08-21 00:03:50,130.130] INFO [4301260160] - Application shutdown complete.
[2022-08-21 00:03:50,130.130] INFO [4301260160] - Finished server process [54490]
[2022-08-21 00:03:50,688.688] INFO [4309468544] - Started server process [54524]
[2022-08-21 00:03:50,688.688] INFO [4309468544] - Waiting for application startup.
[2022-08-21 00:03:50,688.688] INFO [4309468544] - Application startup complete.
[2022-08-21 00:03:55,577.577] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:03:55,649.649] INFO [4309468544] - Shutting down
[2022-08-21 00:03:55,751.751] INFO [4309468544] - Waiting for application shutdown.
[2022-08-21 00:03:55,751.751] INFO [4309468544] - Application shutdown complete.
[2022-08-21 00:03:55,751.751] INFO [4309468544] - Finished server process [54524]
[2022-08-21 00:03:56,260.260] INFO [4333192576] - Started server process [54536]
[2022-08-21 00:03:56,260.260] INFO [4333192576] - Waiting for application startup.
[2022-08-21 00:03:56,261.261] INFO [4333192576] - Application startup complete.
[2022-08-21 00:04:50,102.102] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:04:50,134.134] INFO [4333192576] - Shutting down
[2022-08-21 00:04:50,235.235] INFO [4333192576] - Waiting for application shutdown.
[2022-08-21 00:04:50,236.236] INFO [4333192576] - Application shutdown complete.
[2022-08-21 00:04:50,236.236] INFO [4333192576] - Finished server process [54536]
[2022-08-21 00:04:50,809.809] INFO [4312548736] - Started server process [54591]
[2022-08-21 00:04:50,809.809] INFO [4312548736] - Waiting for application startup.
[2022-08-21 00:04:50,809.809] INFO [4312548736] - Application startup complete.
[2022-08-21 00:05:02,909.909] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:05:02,952.952] INFO [4312548736] - Shutting down
[2022-08-21 00:05:03,056.056] INFO [4312548736] - Waiting for application shutdown.
[2022-08-21 00:05:03,058.058] INFO [4312548736] - Application shutdown complete.
[2022-08-21 00:05:03,058.058] INFO [4312548736] - Finished server process [54591]
[2022-08-21 00:06:29,847.847] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:06:39,037.037] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:08:28,431.431] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:09:02,882.882] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:09:37,203.203] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:10:09,311.311] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:12:06,184.184] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:13:30,075.075] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:14:16,275.275] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:15:50,118.118] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:16:09,894.894] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:16:10,413.413] INFO [4314121600] - Started server process [55364]
[2022-08-21 00:16:10,413.413] INFO [4314121600] - Waiting for application startup.
[2022-08-21 00:16:10,413.413] INFO [4314121600] - Application startup complete.
[2022-08-21 00:16:14,236.236] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:16:14,263.263] INFO [4314121600] - Shutting down
[2022-08-21 00:16:14,364.364] INFO [4314121600] - Waiting for application shutdown.
[2022-08-21 00:16:14,364.364] INFO [4314121600] - Application shutdown complete.
[2022-08-21 00:16:14,364.364] INFO [4314121600] - Finished server process [55364]
[2022-08-21 00:16:14,872.872] INFO [4340319616] - Started server process [55376]
[2022-08-21 00:16:14,872.872] INFO [4340319616] - Waiting for application startup.
[2022-08-21 00:16:14,872.872] INFO [4340319616] - Application startup complete.
[2022-08-21 00:16:57,277.277] WARNING [4299998592] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 00:16:57,314.314] INFO [4340319616] - Shutting down
[2022-08-21 00:16:57,415.415] INFO [4340319616] - Waiting for application shutdown.
[2022-08-21 00:16:57,415.415] INFO [4340319616] - Application shutdown complete.
[2022-08-21 00:16:57,415.415] INFO [4340319616] - Finished server process [55376]
[2022-08-21 00:16:57,975.975] INFO [4311254400] - Started server process [55422]
[2022-08-21 00:16:57,975.975] INFO [4311254400] - Waiting for application startup.
[2022-08-21 00:16:57,975.975] INFO [4311254400] - Application startup complete.
[2022-08-21 00:17:08,245.245] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:17:08,303.303] INFO [4311254400] - Shutting down
[2022-08-21 00:17:08,406.406] INFO [4311254400] - Waiting for application shutdown.
[2022-08-21 00:17:08,407.407] INFO [4311254400] - Application shutdown complete.
[2022-08-21 00:17:08,407.407] INFO [4311254400] - Finished server process [55422]
[2022-08-21 00:17:08,945.945] INFO [4366255488] - Started server process [55440]
[2022-08-21 00:17:08,945.945] INFO [4366255488] - Waiting for application startup.
[2022-08-21 00:17:08,945.945] INFO [4366255488] - Application startup complete.
[2022-08-21 00:17:30,545.545] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:17:30,619.619] INFO [4366255488] - Shutting down
[2022-08-21 00:17:30,721.721] INFO [4366255488] - Waiting for application shutdown.
[2022-08-21 00:17:30,721.721] INFO [4366255488] - Application shutdown complete.
[2022-08-21 00:17:30,721.721] INFO [4366255488] - Finished server process [55440]
[2022-08-21 00:17:33,342.342] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:17:33,810.810] INFO [4372022656] - Started server process [55471]
[2022-08-21 00:17:33,810.810] INFO [4372022656] - Waiting for application startup.
[2022-08-21 00:17:33,810.810] INFO [4372022656] - Application startup complete.
[2022-08-21 00:17:52,409.409] INFO [4372022656] - 127.0.0.1:56803 - "GET /swagger HTTP/1.1" 200
[2022-08-21 00:17:52,519.519] INFO [4372022656] - 127.0.0.1:56803 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 00:18:12,270.270] INFO [4372022656] - 127.0.0.1:56804 - "GET /SendReport/GET?_type=3&start_date=2013-01-01&end_date=2014-01-01&acceptor_email=code%40code.edu.az HTTP/1.1" 200
[2022-08-21 00:18:44,171.171] INFO [4372022656] - 127.0.0.1:56806 - "GET /SendReport/GET?_type=1&start_date=2013-01-01&end_date=2014-01-01&acceptor_email=code%40code.edu.az HTTP/1.1" 200
[2022-08-21 00:18:52,017.017] INFO [4372022656] - 127.0.0.1:56807 - "GET /SendReport/GET?_type=2&start_date=2013-01-01&end_date=2014-01-01&acceptor_email=code%40code.edu.az HTTP/1.1" 200
[2022-08-21 00:18:58,030.030] INFO [4372022656] - 127.0.0.1:56808 - "GET /SendReport/GET?_type=4&start_date=2013-01-01&end_date=2014-01-01&acceptor_email=code%40code.edu.az HTTP/1.1" 500
[2022-08-21 00:18:58,031.031] ERROR [4372022656] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 104, in get_method
    res: sqlalchemy = services.queries(start_date=start_date,
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/db/services.py", line 34, in queries
    query_res = conn.execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1365, in execute
    return self._exec_driver_sql(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1669, in _exec_driver_sql
    ret = self._execute_context(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2128, in _handle_dbapi_exception
    util.raise_(exc_info[1], with_traceback=exc_info[2])
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
TypeError: dict is not a sequence
[2022-08-21 00:19:58,146.146] WARNING [4299998592] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 00:19:58,246.246] INFO [4372022656] - Shutting down
[2022-08-21 00:19:58,347.347] INFO [4372022656] - Waiting for application shutdown.
[2022-08-21 00:19:58,348.348] INFO [4372022656] - Application shutdown complete.
[2022-08-21 00:19:58,348.348] INFO [4372022656] - Finished server process [55471]
[2022-08-21 00:19:58,943.943] INFO [4298556800] - Started server process [55606]
[2022-08-21 00:19:58,943.943] INFO [4298556800] - Waiting for application startup.
[2022-08-21 00:19:58,943.943] INFO [4298556800] - Application startup complete.
[2022-08-21 00:20:02,418.418] INFO [4298556800] - 127.0.0.1:56813 - "GET /SendReport/GET?_type=4&start_date=2013-01-01&end_date=2014-01-01&acceptor_email=code%40code.edu.az HTTP/1.1" 200
[2022-08-21 00:53:08,049.049] WARNING [4299998592] - StatReload detected changes in 'db/database.py'. Reloading...
[2022-08-21 00:53:08,140.140] INFO [4298556800] - Shutting down
[2022-08-21 00:53:08,242.242] INFO [4298556800] - Waiting for application shutdown.
[2022-08-21 00:53:08,242.242] INFO [4298556800] - Application shutdown complete.
[2022-08-21 00:53:08,242.242] INFO [4298556800] - Finished server process [55606]
[2022-08-21 09:09:36,507.507] INFO [4303193472] - Will watch for changes in these directories: ['/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src']
[2022-08-21 09:09:36,508.508] INFO [4303193472] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
[2022-08-21 09:09:36,508.508] INFO [4303193472] - Started reloader process [5431] using StatReload
[2022-08-21 09:09:36,971.971] INFO [4309583232] - Started server process [5435]
[2022-08-21 09:09:36,971.971] INFO [4309583232] - Waiting for application startup.
[2022-08-21 09:09:36,972.972] INFO [4309583232] - Application startup complete.
[2022-08-21 09:10:06,913.913] INFO [4309583232] - 127.0.0.1:49882 - "GET /swagger HTTP/1.1" 200
[2022-08-21 09:10:07,467.467] INFO [4309583232] - 127.0.0.1:49882 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 09:10:16,508.508] INFO [4309583232] - 127.0.0.1:49883 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-21 09:10:16,508.508] ERROR [4309583232] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 69, in upload
    df.to_sql("data", engine, if_exists='replace', index_label='ID')
NameError: name 'engine' is not defined
[2022-08-21 09:11:15,205.205] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 09:11:15,248.248] INFO [4309583232] - Shutting down
[2022-08-21 09:11:15,349.349] INFO [4309583232] - Waiting for application shutdown.
[2022-08-21 09:11:15,349.349] INFO [4309583232] - Application shutdown complete.
[2022-08-21 09:11:15,349.349] INFO [4309583232] - Finished server process [5435]
[2022-08-21 09:11:15,865.865] INFO [4308157824] - Started server process [5575]
[2022-08-21 09:11:15,865.865] INFO [4308157824] - Waiting for application startup.
[2022-08-21 09:11:15,866.866] INFO [4308157824] - Application startup complete.
[2022-08-21 09:11:16,712.712] INFO [4308157824] - 127.0.0.1:49891 - "GET /swagger HTTP/1.1" 200
[2022-08-21 09:11:16,848.848] INFO [4308157824] - 127.0.0.1:49891 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 09:11:21,439.439] INFO [4308157824] - 127.0.0.1:49891 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-21 09:13:07,422.422] INFO [4308157824] - 127.0.0.1:49899 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2018-12-12&acceptor_email=q%40code.edu.az HTTP/1.1" 200
[2022-08-21 09:13:19,716.716] INFO [4308157824] - 127.0.0.1:49900 - "GET /SendReport/GET?_type=2&start_date=2010-01-01&end_date=2018-12-12&acceptor_email=q%40code.edu.az HTTP/1.1" 200
[2022-08-21 09:13:27,626.626] INFO [4308157824] - 127.0.0.1:49901 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2018-12-12&acceptor_email=q%40code.edu.az HTTP/1.1" 200
[2022-08-21 09:13:33,194.194] INFO [4308157824] - 127.0.0.1:49902 - "GET /SendReport/GET?_type=4&start_date=2010-01-01&end_date=2018-12-12&acceptor_email=q%40code.edu.az HTTP/1.1" 200
[2022-08-21 10:10:52,116.116] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 10:10:52,201.201] INFO [4308157824] - Shutting down
[2022-08-21 10:10:52,302.302] INFO [4308157824] - Waiting for application shutdown.
[2022-08-21 10:10:52,302.302] INFO [4308157824] - Application shutdown complete.
[2022-08-21 10:10:52,302.302] INFO [4308157824] - Finished server process [5575]
[2022-08-21 10:10:52,871.871] INFO [4303373696] - Started server process [9986]
[2022-08-21 10:10:52,871.871] INFO [4303373696] - Waiting for application startup.
[2022-08-21 10:10:52,871.871] INFO [4303373696] - Application startup complete.
[2022-08-21 10:12:21,889.889] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 10:12:21,921.921] INFO [4303373696] - Shutting down
[2022-08-21 10:12:22,022.022] INFO [4303373696] - Waiting for application shutdown.
[2022-08-21 10:12:22,022.022] INFO [4303373696] - Application shutdown complete.
[2022-08-21 10:12:22,022.022] INFO [4303373696] - Finished server process [9986]
[2022-08-21 10:12:22,567.567] INFO [4310336896] - Started server process [10070]
[2022-08-21 10:12:22,567.567] INFO [4310336896] - Waiting for application startup.
[2022-08-21 10:12:22,567.567] INFO [4310336896] - Application startup complete.
[2022-08-21 11:34:40,796.796] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 11:34:40,824.824] INFO [4310336896] - Shutting down
[2022-08-21 11:34:40,924.924] INFO [4310336896] - Waiting for application shutdown.
[2022-08-21 11:34:40,924.924] INFO [4310336896] - Application shutdown complete.
[2022-08-21 11:34:40,924.924] INFO [4310336896] - Finished server process [10070]
[2022-08-21 11:34:41,489.489] INFO [4335273344] - Started server process [11995]
[2022-08-21 11:34:41,489.489] INFO [4335273344] - Waiting for application startup.
[2022-08-21 11:34:41,489.489] INFO [4335273344] - Application startup complete.
[2022-08-21 11:34:48,441.441] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 11:34:48,474.474] INFO [4335273344] - Shutting down
[2022-08-21 11:34:48,575.575] INFO [4335273344] - Waiting for application shutdown.
[2022-08-21 11:34:48,576.576] INFO [4335273344] - Application shutdown complete.
[2022-08-21 11:34:48,576.576] INFO [4335273344] - Finished server process [11995]
[2022-08-21 11:34:49,179.179] INFO [4298753408] - Started server process [12015]
[2022-08-21 11:34:49,179.179] INFO [4298753408] - Waiting for application startup.
[2022-08-21 11:34:49,179.179] INFO [4298753408] - Application startup complete.
[2022-08-21 11:35:10,257.257] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 11:35:10,358.358] INFO [4298753408] - Shutting down
[2022-08-21 11:35:10,459.459] INFO [4298753408] - Waiting for application shutdown.
[2022-08-21 11:35:10,460.460] INFO [4298753408] - Application shutdown complete.
[2022-08-21 11:35:10,460.460] INFO [4298753408] - Finished server process [12015]
[2022-08-21 11:35:11,059.059] INFO [4312384896] - Started server process [12043]
[2022-08-21 11:35:11,059.059] INFO [4312384896] - Waiting for application startup.
[2022-08-21 11:35:11,060.060] INFO [4312384896] - Application startup complete.
[2022-08-21 11:35:21,053.053] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 11:35:21,082.082] INFO [4312384896] - Shutting down
[2022-08-21 11:35:21,184.184] INFO [4312384896] - Waiting for application shutdown.
[2022-08-21 11:35:21,184.184] INFO [4312384896] - Application shutdown complete.
[2022-08-21 11:35:21,184.184] INFO [4312384896] - Finished server process [12043]
[2022-08-21 11:35:21,763.763] INFO [4302374272] - Started server process [12060]
[2022-08-21 11:35:21,763.763] INFO [4302374272] - Waiting for application startup.
[2022-08-21 11:35:21,763.763] INFO [4302374272] - Application startup complete.
[2022-08-21 11:36:08,245.245] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 11:36:08,334.334] INFO [4302374272] - Shutting down
[2022-08-21 11:36:08,442.442] INFO [4302374272] - Waiting for application shutdown.
[2022-08-21 11:36:08,442.442] INFO [4302374272] - Application shutdown complete.
[2022-08-21 11:36:08,442.442] INFO [4302374272] - Finished server process [12060]
[2022-08-21 11:36:08,979.979] INFO [4344497536] - Started server process [12115]
[2022-08-21 11:36:08,979.979] INFO [4344497536] - Waiting for application startup.
[2022-08-21 11:36:08,979.979] INFO [4344497536] - Application startup complete.
[2022-08-21 11:36:20,045.045] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 11:36:20,123.123] INFO [4344497536] - Shutting down
[2022-08-21 11:36:20,224.224] INFO [4344497536] - Waiting for application shutdown.
[2022-08-21 11:36:20,225.225] INFO [4344497536] - Application shutdown complete.
[2022-08-21 11:36:20,225.225] INFO [4344497536] - Finished server process [12115]
[2022-08-21 11:36:20,753.753] INFO [4335338880] - Started server process [12131]
[2022-08-21 11:36:20,754.754] INFO [4335338880] - Waiting for application startup.
[2022-08-21 11:36:20,754.754] INFO [4335338880] - Application startup complete.
[2022-08-21 11:36:27,506.506] INFO [4335338880] - 127.0.0.1:50646 - "GET /swagger HTTP/1.1" 200
[2022-08-21 11:36:28,739.739] INFO [4335338880] - 127.0.0.1:50646 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 11:36:52,458.458] INFO [4335338880] - {'data': {'is_valid': True, 'is_empty': False, 'file_name': 'example_data.xlsx', 'mime_type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}}
[2022-08-21 11:36:52,459.459] INFO [4335338880] - 127.0.0.1:50647 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-21 11:37:48,030.030] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 11:37:48,041.041] INFO [4335338880] - Shutting down
[2022-08-21 11:37:48,143.143] INFO [4335338880] - Waiting for application shutdown.
[2022-08-21 11:37:48,143.143] INFO [4335338880] - Application shutdown complete.
[2022-08-21 11:37:48,143.143] INFO [4335338880] - Finished server process [12131]
[2022-08-21 11:37:48,720.720] INFO [4347626880] - Started server process [12241]
[2022-08-21 11:37:48,720.720] INFO [4347626880] - Waiting for application startup.
[2022-08-21 11:37:48,720.720] INFO [4347626880] - Application startup complete.
[2022-08-21 11:38:18,684.684] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 11:38:18,785.785] INFO [4347626880] - Shutting down
[2022-08-21 11:38:18,886.886] INFO [4347626880] - Waiting for application shutdown.
[2022-08-21 11:38:18,886.886] INFO [4347626880] - Application shutdown complete.
[2022-08-21 11:38:18,887.887] INFO [4347626880] - Finished server process [12241]
[2022-08-21 11:38:19,447.447] INFO [4343219584] - Started server process [12285]
[2022-08-21 11:38:19,447.447] INFO [4343219584] - Waiting for application startup.
[2022-08-21 11:38:19,448.448] INFO [4343219584] - Application startup complete.
[2022-08-21 11:42:37,608.608] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 11:42:37,620.620] INFO [4343219584] - Shutting down
[2022-08-21 11:42:37,722.722] INFO [4343219584] - Waiting for application shutdown.
[2022-08-21 11:42:37,722.722] INFO [4343219584] - Application shutdown complete.
[2022-08-21 11:42:37,722.722] INFO [4343219584] - Finished server process [12285]
[2022-08-21 11:42:38,260.260] INFO [4348675456] - Started server process [12528]
[2022-08-21 11:42:38,260.260] INFO [4348675456] - Waiting for application startup.
[2022-08-21 11:42:38,260.260] INFO [4348675456] - Application startup complete.
[2022-08-21 12:33:15,279.279] INFO [4348675456] - 127.0.0.1:50783 - "GET /swagger HTTP/1.1" 200
[2022-08-21 12:33:15,481.481] INFO [4348675456] - 127.0.0.1:50783 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 12:33:19,744.744] INFO [4348675456] - {'data': {'is_valid': True, 'is_empty': False, 'file_name': 'example_data.xlsx', 'mime_type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}}
[2022-08-21 12:33:19,744.744] INFO [4348675456] - 127.0.0.1:50783 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-21 12:33:35,583.583] INFO [4348675456] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['zjR42bzc5PdQVoige31-eUYl8+gpKBIvXcKZRWJDOrlzaQy7zGh9o+ccigZ7JGQY232DnN_qwMx8JBoM8Vr3i+2_qibBg2iGj@code;edu_az']}, 'query res': [('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50'))]}
[2022-08-21 12:33:35,584.584] INFO [4348675456] - 127.0.0.1:50784 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=zjR42bzc5PdQVoige31-eUYl8%2BgpKBIvXcKZRWJDOrlzaQy7zGh9o%2BccigZ7JGQY232DnN_qwMx8JBoM8Vr3i%2B2_qibBg2iGj%40code%3Bedu_az HTTP/1.1" 200
[2022-08-21 12:35:39,395.395] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:35:39,453.453] INFO [4348675456] - Shutting down
[2022-08-21 12:35:39,554.554] INFO [4348675456] - Waiting for application shutdown.
[2022-08-21 12:35:39,554.554] INFO [4348675456] - Application shutdown complete.
[2022-08-21 12:35:39,555.555] INFO [4348675456] - Finished server process [12528]
[2022-08-21 12:35:40,174.174] INFO [4378576256] - Started server process [13360]
[2022-08-21 12:35:40,174.174] INFO [4378576256] - Waiting for application startup.
[2022-08-21 12:35:40,174.174] INFO [4378576256] - Application startup complete.
[2022-08-21 12:36:39,119.119] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:36:39,212.212] INFO [4378576256] - Shutting down
[2022-08-21 12:36:39,314.314] INFO [4378576256] - Waiting for application shutdown.
[2022-08-21 12:36:39,314.314] INFO [4378576256] - Application shutdown complete.
[2022-08-21 12:36:39,314.314] INFO [4378576256] - Finished server process [13360]
[2022-08-21 12:36:55,086.086] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:37:04,334.334] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:37:25,382.382] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:37:47,166.166] WARNING [4303193472] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-21 12:38:07,684.684] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:38:12,032.032] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:38:15,626.626] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:38:17,435.435] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:38:36,691.691] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:38:37,249.249] INFO [4333077888] - Started server process [13575]
[2022-08-21 12:38:37,249.249] INFO [4333077888] - Waiting for application startup.
[2022-08-21 12:38:37,250.250] INFO [4333077888] - Application startup complete.
[2022-08-21 12:39:14,037.037] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:39:14,094.094] INFO [4333077888] - Shutting down
[2022-08-21 12:39:14,195.195] INFO [4333077888] - Waiting for application shutdown.
[2022-08-21 12:39:14,196.196] INFO [4333077888] - Application shutdown complete.
[2022-08-21 12:39:14,196.196] INFO [4333077888] - Finished server process [13575]
[2022-08-21 12:39:14,772.772] INFO [4300719488] - Started server process [13626]
[2022-08-21 12:39:14,772.772] INFO [4300719488] - Waiting for application startup.
[2022-08-21 12:39:14,772.772] INFO [4300719488] - Application startup complete.
[2022-08-21 12:39:36,859.859] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:39:36,950.950] INFO [4300719488] - Shutting down
[2022-08-21 12:39:37,050.050] INFO [4300719488] - Waiting for application shutdown.
[2022-08-21 12:39:37,051.051] INFO [4300719488] - Application shutdown complete.
[2022-08-21 12:39:37,051.051] INFO [4300719488] - Finished server process [13626]
[2022-08-21 12:39:37,615.615] INFO [4304323968] - Started server process [13662]
[2022-08-21 12:39:37,615.615] INFO [4304323968] - Waiting for application startup.
[2022-08-21 12:39:37,616.616] INFO [4304323968] - Application startup complete.
[2022-08-21 12:40:01,939.939] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:40:02,012.012] INFO [4304323968] - Shutting down
[2022-08-21 12:40:02,114.114] INFO [4304323968] - Waiting for application shutdown.
[2022-08-21 12:40:02,114.114] INFO [4304323968] - Application shutdown complete.
[2022-08-21 12:40:02,114.114] INFO [4304323968] - Finished server process [13662]
[2022-08-21 12:40:02,646.646] INFO [4377593216] - Started server process [13697]
[2022-08-21 12:40:02,646.646] INFO [4377593216] - Waiting for application startup.
[2022-08-21 12:40:02,646.646] INFO [4377593216] - Application startup complete.
[2022-08-21 12:40:24,022.022] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:40:24,024.024] INFO [4377593216] - Shutting down
[2022-08-21 12:40:24,125.125] INFO [4377593216] - Waiting for application shutdown.
[2022-08-21 12:40:24,126.126] INFO [4377593216] - Application shutdown complete.
[2022-08-21 12:40:24,126.126] INFO [4377593216] - Finished server process [13697]
[2022-08-21 12:40:24,690.690] INFO [4365763968] - Started server process [13728]
[2022-08-21 12:40:24,691.691] INFO [4365763968] - Waiting for application startup.
[2022-08-21 12:40:24,691.691] INFO [4365763968] - Application startup complete.
[2022-08-21 12:40:33,417.417] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:40:33,500.500] INFO [4365763968] - Shutting down
[2022-08-21 12:40:33,602.602] INFO [4365763968] - Waiting for application shutdown.
[2022-08-21 12:40:33,604.604] INFO [4365763968] - Application shutdown complete.
[2022-08-21 12:40:33,604.604] INFO [4365763968] - Finished server process [13728]
[2022-08-21 12:40:34,174.174] INFO [4310910336] - Started server process [13745]
[2022-08-21 12:40:34,174.174] INFO [4310910336] - Waiting for application startup.
[2022-08-21 12:40:34,175.175] INFO [4310910336] - Application startup complete.
[2022-08-21 12:41:10,444.444] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:41:10,531.531] INFO [4310910336] - Shutting down
[2022-08-21 12:41:10,633.633] INFO [4310910336] - Waiting for application shutdown.
[2022-08-21 12:41:10,633.633] INFO [4310910336] - Application shutdown complete.
[2022-08-21 12:41:10,633.633] INFO [4310910336] - Finished server process [13745]
[2022-08-21 12:41:20,406.406] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:41:20,888.888] INFO [4341466496] - Started server process [13798]
[2022-08-21 12:41:20,888.888] INFO [4341466496] - Waiting for application startup.
[2022-08-21 12:41:20,889.889] INFO [4341466496] - Application startup complete.
[2022-08-21 12:42:15,683.683] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:42:15,694.694] INFO [4341466496] - Shutting down
[2022-08-21 12:42:15,796.796] INFO [4341466496] - Waiting for application shutdown.
[2022-08-21 12:42:15,796.796] INFO [4341466496] - Application shutdown complete.
[2022-08-21 12:42:15,796.796] INFO [4341466496] - Finished server process [13798]
[2022-08-21 12:42:16,395.395] INFO [4333618560] - Started server process [13857]
[2022-08-21 12:42:16,395.395] INFO [4333618560] - Waiting for application startup.
[2022-08-21 12:42:16,396.396] INFO [4333618560] - Application startup complete.
[2022-08-21 12:42:20,993.993] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:42:21,070.070] INFO [4333618560] - Shutting down
[2022-08-21 12:42:21,171.171] INFO [4333618560] - Waiting for application shutdown.
[2022-08-21 12:42:21,171.171] INFO [4333618560] - Application shutdown complete.
[2022-08-21 12:42:21,171.171] INFO [4333618560] - Finished server process [13857]
[2022-08-21 12:42:21,700.700] INFO [4365632896] - Started server process [13874]
[2022-08-21 12:42:21,700.700] INFO [4365632896] - Waiting for application startup.
[2022-08-21 12:42:21,700.700] INFO [4365632896] - Application startup complete.
[2022-08-21 12:42:26,097.097] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:42:26,154.154] INFO [4365632896] - Shutting down
[2022-08-21 12:42:26,254.254] INFO [4365632896] - Waiting for application shutdown.
[2022-08-21 12:42:26,255.255] INFO [4365632896] - Application shutdown complete.
[2022-08-21 12:42:26,255.255] INFO [4365632896] - Finished server process [13874]
[2022-08-21 12:42:26,807.807] INFO [4372088192] - Started server process [13882]
[2022-08-21 12:42:26,807.807] INFO [4372088192] - Waiting for application startup.
[2022-08-21 12:42:26,807.807] INFO [4372088192] - Application startup complete.
[2022-08-21 12:42:36,389.389] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:42:36,436.436] INFO [4372088192] - Shutting down
[2022-08-21 12:42:36,537.537] INFO [4372088192] - Waiting for application shutdown.
[2022-08-21 12:42:36,537.537] INFO [4372088192] - Application shutdown complete.
[2022-08-21 12:42:36,537.537] INFO [4372088192] - Finished server process [13882]
[2022-08-21 12:42:37,053.053] INFO [4310287744] - Started server process [13895]
[2022-08-21 12:42:37,053.053] INFO [4310287744] - Waiting for application startup.
[2022-08-21 12:42:37,053.053] INFO [4310287744] - Application startup complete.
[2022-08-21 12:42:39,427.427] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:42:39,482.482] INFO [4310287744] - Shutting down
[2022-08-21 12:42:39,583.583] INFO [4310287744] - Waiting for application shutdown.
[2022-08-21 12:42:39,584.584] INFO [4310287744] - Application shutdown complete.
[2022-08-21 12:42:39,584.584] INFO [4310287744] - Finished server process [13895]
[2022-08-21 12:42:40,129.129] INFO [4375364992] - Started server process [13904]
[2022-08-21 12:42:40,129.129] INFO [4375364992] - Waiting for application startup.
[2022-08-21 12:42:40,130.130] INFO [4375364992] - Application startup complete.
[2022-08-21 12:42:54,063.063] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:42:54,114.114] INFO [4375364992] - Shutting down
[2022-08-21 12:42:54,216.216] INFO [4375364992] - Waiting for application shutdown.
[2022-08-21 12:42:54,218.218] INFO [4375364992] - Application shutdown complete.
[2022-08-21 12:42:54,218.218] INFO [4375364992] - Finished server process [13904]
[2022-08-21 12:42:54,795.795] INFO [4304258432] - Started server process [13925]
[2022-08-21 12:42:54,795.795] INFO [4304258432] - Waiting for application startup.
[2022-08-21 12:42:54,795.795] INFO [4304258432] - Application startup complete.
[2022-08-21 12:43:14,070.070] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:43:14,133.133] INFO [4304258432] - Shutting down
[2022-08-21 12:43:14,235.235] INFO [4304258432] - Waiting for application shutdown.
[2022-08-21 12:43:14,236.236] INFO [4304258432] - Application shutdown complete.
[2022-08-21 12:43:14,236.236] INFO [4304258432] - Finished server process [13925]
[2022-08-21 12:43:14,834.834] INFO [4340712832] - Started server process [13953]
[2022-08-21 12:43:14,834.834] INFO [4340712832] - Waiting for application startup.
[2022-08-21 12:43:14,834.834] INFO [4340712832] - Application startup complete.
[2022-08-21 12:43:27,378.378] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:43:27,395.395] INFO [4340712832] - Shutting down
[2022-08-21 12:43:27,497.497] INFO [4340712832] - Waiting for application shutdown.
[2022-08-21 12:43:27,498.498] INFO [4340712832] - Application shutdown complete.
[2022-08-21 12:43:27,498.498] INFO [4340712832] - Finished server process [13953]
[2022-08-21 12:43:28,095.095] INFO [4342973824] - Started server process [13974]
[2022-08-21 12:43:28,095.095] INFO [4342973824] - Waiting for application startup.
[2022-08-21 12:43:28,095.095] INFO [4342973824] - Application startup complete.
[2022-08-21 12:45:10,590.590] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:45:10,598.598] INFO [4342973824] - Shutting down
[2022-08-21 12:45:10,699.699] INFO [4342973824] - Waiting for application shutdown.
[2022-08-21 12:45:10,699.699] INFO [4342973824] - Application shutdown complete.
[2022-08-21 12:45:10,699.699] INFO [4342973824] - Finished server process [13974]
[2022-08-21 12:45:45,381.381] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:45:45,875.875] INFO [4347200896] - Started server process [14132]
[2022-08-21 12:45:45,875.875] INFO [4347200896] - Waiting for application startup.
[2022-08-21 12:45:45,875.875] INFO [4347200896] - Application startup complete.
[2022-08-21 12:46:10,765.765] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:46:10,775.775] INFO [4347200896] - Shutting down
[2022-08-21 12:46:10,876.876] INFO [4347200896] - Waiting for application shutdown.
[2022-08-21 12:46:10,877.877] INFO [4347200896] - Application shutdown complete.
[2022-08-21 12:46:10,877.877] INFO [4347200896] - Finished server process [14132]
[2022-08-21 12:46:11,370.370] INFO [4371105152] - Started server process [14167]
[2022-08-21 12:46:11,370.370] INFO [4371105152] - Waiting for application startup.
[2022-08-21 12:46:11,371.371] INFO [4371105152] - Application startup complete.
[2022-08-21 12:46:39,603.603] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 12:46:39,619.619] INFO [4371105152] - Shutting down
[2022-08-21 12:46:39,720.720] INFO [4371105152] - Waiting for application shutdown.
[2022-08-21 12:46:39,721.721] INFO [4371105152] - Application shutdown complete.
[2022-08-21 12:46:39,721.721] INFO [4371105152] - Finished server process [14167]
[2022-08-21 12:46:40,265.265] INFO [4373054848] - Started server process [14204]
[2022-08-21 12:46:40,265.265] INFO [4373054848] - Waiting for application startup.
[2022-08-21 12:46:40,266.266] INFO [4373054848] - Application startup complete.
[2022-08-21 12:47:31,483.483] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:47:31,494.494] INFO [4373054848] - Shutting down
[2022-08-21 12:47:31,596.596] INFO [4373054848] - Waiting for application shutdown.
[2022-08-21 12:47:31,596.596] INFO [4373054848] - Application shutdown complete.
[2022-08-21 12:47:31,596.596] INFO [4373054848] - Finished server process [14204]
[2022-08-21 12:47:32,214.214] INFO [4374971776] - Started server process [14262]
[2022-08-21 12:47:32,214.214] INFO [4374971776] - Waiting for application startup.
[2022-08-21 12:47:32,214.214] INFO [4374971776] - Application startup complete.
[2022-08-21 12:47:35,739.739] INFO [4374971776] - 127.0.0.1:50907 - "GET /swagger HTTP/1.1" 200
[2022-08-21 12:47:35,904.904] INFO [4374971776] - 127.0.0.1:50907 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 12:48:19,794.794] INFO [4374971776] - 127.0.0.1:50908 - "GET /SendReport/GET?_type=1&start_date=2011-01-01&end_date=2018-12-12&acceptor_email=aa%40code.edu.az HTTP/1.1" 500
[2022-08-21 12:48:19,796.796] ERROR [4374971776] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 112, in get_method
    sg_instance = SendMail()
NameError: name 'SendMail' is not defined
[2022-08-21 12:48:26,811.811] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:48:26,907.907] INFO [4374971776] - Shutting down
[2022-08-21 12:48:27,008.008] INFO [4374971776] - Waiting for application shutdown.
[2022-08-21 12:48:27,008.008] INFO [4374971776] - Application shutdown complete.
[2022-08-21 12:48:27,009.009] INFO [4374971776] - Finished server process [14262]
[2022-08-21 12:48:27,687.687] INFO [4369859968] - Started server process [14322]
[2022-08-21 12:48:27,687.687] INFO [4369859968] - Waiting for application startup.
[2022-08-21 12:48:27,687.687] INFO [4369859968] - Application startup complete.
[2022-08-21 12:48:28,541.541] INFO [4369859968] - 127.0.0.1:50913 - "GET /swagger HTTP/1.1" 200
[2022-08-21 12:48:28,704.704] INFO [4369859968] - 127.0.0.1:50913 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 12:48:37,935.935] INFO [4369859968] - 127.0.0.1:50914 - "GET /SendReport/GET?_type=1&start_date=2011-012&end_date=12314&acceptor_email=zVox%2BdJa2j_JRv-dDLbuz8%2Bg3Vsh%2BQJEkacgE8lQmfqyR%25McA1i93-ro2jakY0Pq%40codeHeducaz HTTP/1.1" 422
[2022-08-21 12:48:54,790.790] INFO [4369859968] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2011, 1, 1), 'end_date': datetime.date(2018, 1, 1), 'emails': ['aw@code.edu.az']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 12:48:54,791.791] INFO [4369859968] - 127.0.0.1:50916 - "GET /SendReport/GET?_type=1&start_date=2011-01-01&end_date=2018-01-01&acceptor_email=aw%40code.edu.az HTTP/1.1" 200
[2022-08-21 12:49:15,812.812] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:49:15,884.884] INFO [4369859968] - Shutting down
[2022-08-21 12:49:15,987.987] INFO [4369859968] - Waiting for application shutdown.
[2022-08-21 12:49:15,988.988] INFO [4369859968] - Application shutdown complete.
[2022-08-21 12:49:15,988.988] INFO [4369859968] - Finished server process [14322]
[2022-08-21 12:49:16,522.522] INFO [4297786752] - Started server process [14381]
[2022-08-21 12:49:16,522.522] INFO [4297786752] - Waiting for application startup.
[2022-08-21 12:49:16,522.522] INFO [4297786752] - Application startup complete.
[2022-08-21 12:49:18,089.089] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:49:18,142.142] INFO [4297786752] - Shutting down
[2022-08-21 12:49:18,243.243] INFO [4297786752] - Waiting for application shutdown.
[2022-08-21 12:49:18,243.243] INFO [4297786752] - Application shutdown complete.
[2022-08-21 12:49:18,244.244] INFO [4297786752] - Finished server process [14381]
[2022-08-21 12:49:18,889.889] INFO [4371416448] - Started server process [14388]
[2022-08-21 12:49:18,889.889] INFO [4371416448] - Waiting for application startup.
[2022-08-21 12:49:18,890.890] INFO [4371416448] - Application startup complete.
[2022-08-21 12:49:21,481.481] INFO [4371416448] - 127.0.0.1:50924 - "GET /swagger HTTP/1.1" 200
[2022-08-21 12:49:21,650.650] INFO [4371416448] - 127.0.0.1:50924 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 12:49:48,174.174] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:49:48,205.205] INFO [4371416448] - Shutting down
[2022-08-21 12:49:48,306.306] INFO [4371416448] - Waiting for application shutdown.
[2022-08-21 12:49:48,307.307] INFO [4371416448] - Application shutdown complete.
[2022-08-21 12:49:48,307.307] INFO [4371416448] - Finished server process [14388]
[2022-08-21 12:50:16,375.375] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:51:24,487.487] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:51:28,845.845] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:51:29,378.378] INFO [4333208960] - Started server process [14549]
[2022-08-21 12:51:29,378.378] INFO [4333208960] - Waiting for application startup.
[2022-08-21 12:51:29,379.379] INFO [4333208960] - Application startup complete.
[2022-08-21 12:51:29,379.379] INFO [4333208960] - 127.0.0.1:50929 - "GET /swagger HTTP/1.1" 200
[2022-08-21 12:51:29,513.513] INFO [4333208960] - 127.0.0.1:50929 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 12:51:50,302.302] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:51:50,338.338] INFO [4333208960] - Shutting down
[2022-08-21 12:51:50,439.439] INFO [4333208960] - Waiting for application shutdown.
[2022-08-21 12:51:50,439.439] INFO [4333208960] - Application shutdown complete.
[2022-08-21 12:51:50,439.439] INFO [4333208960] - Finished server process [14549]
[2022-08-21 12:51:51,004.004] INFO [4378101120] - Started server process [14576]
[2022-08-21 12:51:51,004.004] INFO [4378101120] - Waiting for application startup.
[2022-08-21 12:51:51,004.004] INFO [4378101120] - Application startup complete.
[2022-08-21 12:51:55,037.037] INFO [4378101120] - 127.0.0.1:50949 - "GET /swagger HTTP/1.1" 200
[2022-08-21 12:51:55,192.192] INFO [4378101120] - 127.0.0.1:50949 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 12:52:14,704.704] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:52:14,731.731] INFO [4378101120] - Shutting down
[2022-08-21 12:52:14,846.846] INFO [4378101120] - Waiting for application shutdown.
[2022-08-21 12:52:14,846.846] INFO [4378101120] - Application shutdown complete.
[2022-08-21 12:52:14,847.847] INFO [4378101120] - Finished server process [14576]
[2022-08-21 12:52:15,408.408] INFO [4344382848] - Started server process [14606]
[2022-08-21 12:52:15,408.408] INFO [4344382848] - Waiting for application startup.
[2022-08-21 12:52:15,408.408] INFO [4344382848] - Application startup complete.
[2022-08-21 12:52:16,625.625] INFO [4344382848] - 127.0.0.1:50955 - "GET /swagger HTTP/1.1" 200
[2022-08-21 12:52:16,760.760] INFO [4344382848] - 127.0.0.1:50955 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 12:53:56,966.966] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:53:57,042.042] INFO [4344382848] - Shutting down
[2022-08-21 12:53:57,143.143] INFO [4344382848] - Waiting for application shutdown.
[2022-08-21 12:53:57,143.143] INFO [4344382848] - Application shutdown complete.
[2022-08-21 12:53:57,143.143] INFO [4344382848] - Finished server process [14606]
[2022-08-21 12:53:57,705.705] INFO [4372825472] - Started server process [14710]
[2022-08-21 12:53:57,705.705] INFO [4372825472] - Waiting for application startup.
[2022-08-21 12:53:57,705.705] INFO [4372825472] - Application startup complete.
[2022-08-21 12:54:05,123.123] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:54:05,186.186] INFO [4372825472] - Shutting down
[2022-08-21 12:54:05,287.287] INFO [4372825472] - Waiting for application shutdown.
[2022-08-21 12:54:05,288.288] INFO [4372825472] - Application shutdown complete.
[2022-08-21 12:54:05,288.288] INFO [4372825472] - Finished server process [14710]
[2022-08-21 12:54:05,858.858] INFO [4310795648] - Started server process [14723]
[2022-08-21 12:54:05,858.858] INFO [4310795648] - Waiting for application startup.
[2022-08-21 12:54:05,858.858] INFO [4310795648] - Application startup complete.
[2022-08-21 12:54:10,705.705] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:54:10,723.723] INFO [4310795648] - Shutting down
[2022-08-21 12:54:10,825.825] INFO [4310795648] - Waiting for application shutdown.
[2022-08-21 12:54:10,825.825] INFO [4310795648] - Application shutdown complete.
[2022-08-21 12:54:10,825.825] INFO [4310795648] - Finished server process [14723]
[2022-08-21 12:54:11,399.399] INFO [4333864320] - Started server process [14732]
[2022-08-21 12:54:11,399.399] INFO [4333864320] - Waiting for application startup.
[2022-08-21 12:54:11,399.399] INFO [4333864320] - Application startup complete.
[2022-08-21 12:54:23,776.776] INFO [4333864320] - 127.0.0.1:50976 - "GET /swagger HTTP/1.1" 200
[2022-08-21 12:54:23,786.786] INFO [4333864320] - 127.0.0.1:50976 - "GET /favicon.ico HTTP/1.1" 404
[2022-08-21 12:54:24,174.174] INFO [4333864320] - 127.0.0.1:50976 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 12:54:47,711.711] INFO [4333864320] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 2, 2), 'emails': ['af@code.edu.az']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 12:54:47,713.713] INFO [4333864320] - 127.0.0.1:50977 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-02-02 HTTP/1.1" 200
[2022-08-21 12:55:06,507.507] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:55:06,592.592] INFO [4333864320] - Shutting down
[2022-08-21 12:55:06,693.693] INFO [4333864320] - Waiting for application shutdown.
[2022-08-21 12:55:06,694.694] INFO [4333864320] - Application shutdown complete.
[2022-08-21 12:55:06,694.694] INFO [4333864320] - Finished server process [14732]
[2022-08-21 12:55:07,246.246] INFO [4301653376] - Started server process [14796]
[2022-08-21 12:55:07,246.246] INFO [4301653376] - Waiting for application startup.
[2022-08-21 12:55:07,246.246] INFO [4301653376] - Application startup complete.
[2022-08-21 12:56:07,822.822] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:56:07,867.867] INFO [4301653376] - Shutting down
[2022-08-21 12:56:07,969.969] INFO [4301653376] - Waiting for application shutdown.
[2022-08-21 12:56:07,969.969] INFO [4301653376] - Application shutdown complete.
[2022-08-21 12:56:07,969.969] INFO [4301653376] - Finished server process [14796]
[2022-08-21 12:56:08,605.605] INFO [4370138496] - Started server process [14874]
[2022-08-21 12:56:08,605.605] INFO [4370138496] - Waiting for application startup.
[2022-08-21 12:56:08,605.605] INFO [4370138496] - Application startup complete.
[2022-08-21 12:56:12,481.481] INFO [4370138496] - 127.0.0.1:50988 - "GET /swagger HTTP/1.1" 200
[2022-08-21 12:56:12,607.607] INFO [4370138496] - 127.0.0.1:50988 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 12:57:16,252.252] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 12:57:16,352.352] INFO [4370138496] - Shutting down
[2022-08-21 12:57:16,454.454] INFO [4370138496] - Waiting for application shutdown.
[2022-08-21 12:57:16,454.454] INFO [4370138496] - Application shutdown complete.
[2022-08-21 12:57:16,454.454] INFO [4370138496] - Finished server process [14874]
[2022-08-21 12:57:16,999.999] INFO [4372153728] - Started server process [14944]
[2022-08-21 12:57:16,999.999] INFO [4372153728] - Waiting for application startup.
[2022-08-21 12:57:16,999.999] INFO [4372153728] - Application startup complete.
[2022-08-21 12:58:02,277.277] INFO [4372153728] - 127.0.0.1:50999 - "GET /swagger HTTP/1.1" 200
[2022-08-21 12:58:02,437.437] INFO [4372153728] - 127.0.0.1:50999 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:00:24,492.492] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:00:24,518.518] INFO [4372153728] - Shutting down
[2022-08-21 13:00:24,619.619] INFO [4372153728] - Waiting for application shutdown.
[2022-08-21 13:00:24,619.619] INFO [4372153728] - Application shutdown complete.
[2022-08-21 13:00:24,619.619] INFO [4372153728] - Finished server process [14944]
[2022-08-21 13:00:25,250.250] INFO [4338025856] - Started server process [15130]
[2022-08-21 13:00:25,250.250] INFO [4338025856] - Waiting for application startup.
[2022-08-21 13:00:25,250.250] INFO [4338025856] - Application startup complete.
[2022-08-21 13:00:29,316.316] INFO [4338025856] - 127.0.0.1:51011 - "GET /swagger HTTP/1.1" 200
[2022-08-21 13:00:29,426.426] INFO [4338025856] - 127.0.0.1:51011 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:00:50,568.568] INFO [4338025856] - 127.0.0.1:51012 - "GET /requestProvider.js.map HTTP/1.1" 404
[2022-08-21 13:01:13,547.547] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:01:13,645.645] INFO [4338025856] - Shutting down
[2022-08-21 13:01:13,747.747] INFO [4338025856] - Waiting for application shutdown.
[2022-08-21 13:01:13,747.747] INFO [4338025856] - Application shutdown complete.
[2022-08-21 13:01:13,747.747] INFO [4338025856] - Finished server process [15130]
[2022-08-21 13:01:14,343.343] INFO [4302194048] - Started server process [15193]
[2022-08-21 13:01:14,343.343] INFO [4302194048] - Waiting for application startup.
[2022-08-21 13:01:14,343.343] INFO [4302194048] - Application startup complete.
[2022-08-21 13:01:14,687.687] INFO [4302194048] - 127.0.0.1:51047 - "GET /swagger HTTP/1.1" 200
[2022-08-21 13:01:14,874.874] INFO [4302194048] - 127.0.0.1:51047 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:01:28,217.217] INFO [4302194048] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['fUmjZt%D0ccnXnYJz-q6rfY@code{eduMaz']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:01:28,219.219] INFO [4302194048] - 127.0.0.1:51048 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=fUmjZt%25D0ccnXnYJz-q6rfY%40code%7BeduMaz HTTP/1.1" 200
[2022-08-21 13:01:56,301.301] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:01:56,316.316] INFO [4302194048] - Shutting down
[2022-08-21 13:01:56,417.417] INFO [4302194048] - Waiting for application shutdown.
[2022-08-21 13:01:56,421.421] INFO [4302194048] - Application shutdown complete.
[2022-08-21 13:01:56,422.422] INFO [4302194048] - Finished server process [15193]
[2022-08-21 13:01:57,001.001] INFO [4313630080] - Started server process [15241]
[2022-08-21 13:01:57,001.001] INFO [4313630080] - Waiting for application startup.
[2022-08-21 13:01:57,001.001] INFO [4313630080] - Application startup complete.
[2022-08-21 13:01:59,820.820] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:01:59,835.835] INFO [4313630080] - Shutting down
[2022-08-21 13:01:59,936.936] INFO [4313630080] - Waiting for application shutdown.
[2022-08-21 13:01:59,936.936] INFO [4313630080] - Application shutdown complete.
[2022-08-21 13:01:59,936.936] INFO [4313630080] - Finished server process [15241]
[2022-08-21 13:02:00,505.505] INFO [4309878144] - Started server process [15255]
[2022-08-21 13:02:00,505.505] INFO [4309878144] - Waiting for application startup.
[2022-08-21 13:02:00,505.505] INFO [4309878144] - Application startup complete.
[2022-08-21 13:02:01,289.289] INFO [4309878144] - 127.0.0.1:51057 - "GET /swagger HTTP/1.1" 200
[2022-08-21 13:02:01,497.497] INFO [4309878144] - 127.0.0.1:51057 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:02:15,596.596] INFO [4309878144] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['awd@code.', 'string']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:02:15,597.597] INFO [4309878144] - 127.0.0.1:51058 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=awd%40code.&acceptor_email=string HTTP/1.1" 200
[2022-08-21 13:02:29,682.682] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:02:29,732.732] INFO [4309878144] - Shutting down
[2022-08-21 13:02:29,834.834] INFO [4309878144] - Waiting for application shutdown.
[2022-08-21 13:02:29,834.834] INFO [4309878144] - Application shutdown complete.
[2022-08-21 13:02:29,834.834] INFO [4309878144] - Finished server process [15255]
[2022-08-21 13:02:30,495.495] INFO [4336944512] - Started server process [15291]
[2022-08-21 13:02:30,495.495] INFO [4336944512] - Waiting for application startup.
[2022-08-21 13:02:30,495.495] INFO [4336944512] - Application startup complete.
[2022-08-21 13:02:31,210.210] INFO [4336944512] - 127.0.0.1:51063 - "GET /swagger HTTP/1.1" 200
[2022-08-21 13:02:31,307.307] INFO [4336944512] - 127.0.0.1:51063 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:03:05,883.883] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:03:05,960.960] INFO [4336944512] - Shutting down
[2022-08-21 13:03:06,061.061] INFO [4336944512] - Waiting for application shutdown.
[2022-08-21 13:03:06,062.062] INFO [4336944512] - Application shutdown complete.
[2022-08-21 13:03:06,062.062] INFO [4336944512] - Finished server process [15291]
[2022-08-21 13:03:18,691.691] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:03:19,189.189] INFO [4332324224] - Started server process [15347]
[2022-08-21 13:03:19,189.189] INFO [4332324224] - Waiting for application startup.
[2022-08-21 13:03:19,189.189] INFO [4332324224] - Application startup complete.
[2022-08-21 13:03:22,138.138] INFO [4332324224] - 127.0.0.1:51069 - "GET /swagger HTTP/1.1" 200
[2022-08-21 13:03:22,228.228] INFO [4332324224] - 127.0.0.1:51069 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:04:16,636.636] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:04:16,681.681] INFO [4332324224] - Shutting down
[2022-08-21 13:04:16,782.782] INFO [4332324224] - Waiting for application shutdown.
[2022-08-21 13:04:16,782.782] INFO [4332324224] - Application shutdown complete.
[2022-08-21 13:04:16,782.782] INFO [4332324224] - Finished server process [15347]
[2022-08-21 13:04:17,387.387] INFO [4296197504] - Started server process [15403]
[2022-08-21 13:04:17,387.387] INFO [4296197504] - Waiting for application startup.
[2022-08-21 13:04:17,387.387] INFO [4296197504] - Application startup complete.
[2022-08-21 13:04:19,129.129] INFO [4296197504] - 127.0.0.1:51077 - "GET /swagger HTTP/1.1" 200
[2022-08-21 13:04:19,335.335] INFO [4296197504] - 127.0.0.1:51077 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:04:32,586.586] INFO [4296197504] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['string']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:04:32,587.587] INFO [4296197504] - 127.0.0.1:51078 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string HTTP/1.1" 200
[2022-08-21 13:04:39,033.033] INFO [4296197504] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['string', 'string', 'string', 'string']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:04:39,035.035] INFO [4296197504] - 127.0.0.1:51082 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=string&acceptor_email=string&acceptor_email=string HTTP/1.1" 200
[2022-08-21 13:05:04,245.245] INFO [4296197504] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['string', 'string', 'string', 'string']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:05:04,247.247] INFO [4296197504] - 127.0.0.1:51083 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=string&acceptor_email=string&acceptor_email=string HTTP/1.1" 200
[2022-08-21 13:05:04,924.924] INFO [4296197504] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['string', 'string', 'string', 'string']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:05:04,925.925] INFO [4296197504] - 127.0.0.1:51083 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=string&acceptor_email=string&acceptor_email=string HTTP/1.1" 200
[2022-08-21 13:05:33,224.224] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:05:33,241.241] INFO [4296197504] - Shutting down
[2022-08-21 13:05:33,343.343] INFO [4296197504] - Waiting for application shutdown.
[2022-08-21 13:05:33,343.343] INFO [4296197504] - Application shutdown complete.
[2022-08-21 13:05:33,344.344] INFO [4296197504] - Finished server process [15403]
[2022-08-21 13:05:33,920.920] INFO [4335519104] - Started server process [15495]
[2022-08-21 13:05:33,920.920] INFO [4335519104] - Waiting for application startup.
[2022-08-21 13:05:33,920.920] INFO [4335519104] - Application startup complete.
[2022-08-21 13:05:45,728.728] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:05:45,752.752] INFO [4335519104] - Shutting down
[2022-08-21 13:05:45,853.853] INFO [4335519104] - Waiting for application shutdown.
[2022-08-21 13:05:45,854.854] INFO [4335519104] - Application shutdown complete.
[2022-08-21 13:05:45,854.854] INFO [4335519104] - Finished server process [15495]
[2022-08-21 13:06:01,562.562] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:07:32,185.185] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:07:34,225.225] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:07:41,150.150] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:07:47,338.338] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:08:34,466.466] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:08:34,972.972] INFO [4334355840] - Started server process [15704]
[2022-08-21 13:08:34,972.972] INFO [4334355840] - Waiting for application startup.
[2022-08-21 13:08:34,972.972] INFO [4334355840] - Application startup complete.
[2022-08-21 13:08:44,471.471] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:08:44,497.497] INFO [4334355840] - Shutting down
[2022-08-21 13:08:44,598.598] INFO [4334355840] - Waiting for application shutdown.
[2022-08-21 13:08:44,599.599] INFO [4334355840] - Application shutdown complete.
[2022-08-21 13:08:44,599.599] INFO [4334355840] - Finished server process [15704]
[2022-08-21 13:08:45,185.185] INFO [4302439808] - Started server process [15723]
[2022-08-21 13:08:45,185.185] INFO [4302439808] - Waiting for application startup.
[2022-08-21 13:08:45,185.185] INFO [4302439808] - Application startup complete.
[2022-08-21 13:08:49,772.772] INFO [4302439808] - 127.0.0.1:51261 - "GET /swagger HTTP/1.1" 200
[2022-08-21 13:08:49,968.968] INFO [4302439808] - 127.0.0.1:51261 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:09:18,519.519] INFO [4302439808] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['ar@code.edu.az', 'ar@code.edu.az', 'ar@code.edu.az', 'string', 'ar@code.edu.az', 'string']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:09:18,521.521] INFO [4302439808] - 127.0.0.1:51262 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=ar%40code.edu.az&acceptor_email=ar%40code.edu.az&acceptor_email=ar%40code.edu.az&acceptor_email=awdawd&acceptor_email=string&acceptor_email=string&acceptor_email=ar%40code.edu.az&acceptor_email=stringawd&acceptor_email=string HTTP/1.1" 200
[2022-08-21 13:10:19,350.350] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:10:19,437.437] INFO [4302439808] - Shutting down
[2022-08-21 13:10:19,539.539] INFO [4302439808] - Waiting for application shutdown.
[2022-08-21 13:10:19,540.540] INFO [4302439808] - Application shutdown complete.
[2022-08-21 13:10:19,540.540] INFO [4302439808] - Finished server process [15723]
[2022-08-21 13:10:20,231.231] INFO [4333520256] - Started server process [15810]
[2022-08-21 13:10:20,232.232] INFO [4333520256] - Waiting for application startup.
[2022-08-21 13:10:20,232.232] INFO [4333520256] - Application startup complete.
[2022-08-21 13:12:20,126.126] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:12:20,144.144] INFO [4333520256] - Shutting down
[2022-08-21 13:12:20,246.246] INFO [4333520256] - Waiting for application shutdown.
[2022-08-21 13:12:20,246.246] INFO [4333520256] - Application shutdown complete.
[2022-08-21 13:12:20,246.246] INFO [4333520256] - Finished server process [15810]
[2022-08-21 13:12:20,811.811] INFO [4380181888] - Started server process [15944]
[2022-08-21 13:12:20,811.811] INFO [4380181888] - Waiting for application startup.
[2022-08-21 13:12:20,811.811] INFO [4380181888] - Application startup complete.
[2022-08-21 13:12:26,945.945] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:12:26,982.982] INFO [4380181888] - Shutting down
[2022-08-21 13:12:27,084.084] INFO [4380181888] - Waiting for application shutdown.
[2022-08-21 13:12:27,084.084] INFO [4380181888] - Application shutdown complete.
[2022-08-21 13:12:27,084.084] INFO [4380181888] - Finished server process [15944]
[2022-08-21 13:12:27,717.717] INFO [4336256384] - Started server process [15958]
[2022-08-21 13:12:27,717.717] INFO [4336256384] - Waiting for application startup.
[2022-08-21 13:12:27,717.717] INFO [4336256384] - Application startup complete.
[2022-08-21 13:12:39,208.208] INFO [4336256384] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['ar@code.edu.az', 'ar@code.edu.az', 'ar@code.edu.az', 'string', 'ar@code.edu.az', 'string', 'awdawdawd']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:12:39,210.210] INFO [4336256384] - 127.0.0.1:51296 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=ar%40code.edu.az&acceptor_email=ar%40code.edu.az&acceptor_email=ar%40code.edu.az&acceptor_email=awdawd&acceptor_email=string&acceptor_email=string&acceptor_email=ar%40code.edu.az&acceptor_email=stringawd&acceptor_email=string&acceptor_email=stringawadw%40mail.ru&acceptor_email=awdawdawd HTTP/1.1" 200
[2022-08-21 13:12:44,844.844] INFO [4336256384] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['ar@code.edu.az', 'ar@code.edu.az', 'ar@code.edu.az', 'string', 'ar@code.edu.az', 'string', 'awdawdawd']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:12:44,845.845] INFO [4336256384] - 127.0.0.1:51297 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=ar%40code.edu.az&acceptor_email=ar%40code.edu.az&acceptor_email=ar%40code.edu.az&acceptor_email=awdawd&acceptor_email=string&acceptor_email=string&acceptor_email=ar%40code.edu.az&acceptor_email=stringawd&acceptor_email=string&acceptor_email=stringawadw%40mail.ru&acceptor_email=awdawdawd HTTP/1.1" 200
[2022-08-21 13:13:50,504.504] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:13:50,594.594] INFO [4336256384] - Shutting down
[2022-08-21 13:13:50,696.696] INFO [4336256384] - Waiting for application shutdown.
[2022-08-21 13:13:50,696.696] INFO [4336256384] - Application shutdown complete.
[2022-08-21 13:13:50,696.696] INFO [4336256384] - Finished server process [15958]
[2022-08-21 13:13:51,232.232] INFO [4346643840] - Started server process [16044]
[2022-08-21 13:13:51,232.232] INFO [4346643840] - Waiting for application startup.
[2022-08-21 13:13:51,232.232] INFO [4346643840] - Application startup complete.
[2022-08-21 13:13:53,438.438] INFO [4346643840] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['ar@code.edu.az', 'ar@code.edu.az', 'ar@code.edu.az', 'string', 'ar@code.edu.az', 'string', 'awdawdawd']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:13:53,439.439] INFO [4346643840] - 127.0.0.1:51301 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=ar%40code.edu.az&acceptor_email=ar%40code.edu.az&acceptor_email=ar%40code.edu.az&acceptor_email=awdawd&acceptor_email=string&acceptor_email=string&acceptor_email=ar%40code.edu.az&acceptor_email=stringawd&acceptor_email=string&acceptor_email=stringawadw%40mail.ru&acceptor_email=awdawdawd HTTP/1.1" 200
[2022-08-21 13:17:32,699.699] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:17:32,785.785] INFO [4346643840] - Shutting down
[2022-08-21 13:17:32,886.886] INFO [4346643840] - Waiting for application shutdown.
[2022-08-21 13:17:32,887.887] INFO [4346643840] - Application shutdown complete.
[2022-08-21 13:17:32,887.887] INFO [4346643840] - Finished server process [16044]
[2022-08-21 13:17:33,484.484] INFO [4331308416] - Started server process [16244]
[2022-08-21 13:17:33,484.484] INFO [4331308416] - Waiting for application startup.
[2022-08-21 13:17:33,484.484] INFO [4331308416] - Application startup complete.
[2022-08-21 13:17:49,842.842] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:17:49,891.891] INFO [4331308416] - Shutting down
[2022-08-21 13:17:49,992.992] INFO [4331308416] - Waiting for application shutdown.
[2022-08-21 13:17:49,993.993] INFO [4331308416] - Application shutdown complete.
[2022-08-21 13:17:49,993.993] INFO [4331308416] - Finished server process [16244]
[2022-08-21 13:17:50,555.555] INFO [4369991040] - Started server process [16275]
[2022-08-21 13:17:50,555.555] INFO [4369991040] - Waiting for application startup.
[2022-08-21 13:17:50,555.555] INFO [4369991040] - Application startup complete.
[2022-08-21 13:17:54,661.661] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:17:54,705.705] INFO [4369991040] - Shutting down
[2022-08-21 13:17:54,806.806] INFO [4369991040] - Waiting for application shutdown.
[2022-08-21 13:17:54,807.807] INFO [4369991040] - Application shutdown complete.
[2022-08-21 13:17:54,807.807] INFO [4369991040] - Finished server process [16275]
[2022-08-21 13:17:55,332.332] INFO [4332602752] - Started server process [16285]
[2022-08-21 13:17:55,332.332] INFO [4332602752] - Waiting for application startup.
[2022-08-21 13:17:55,332.332] INFO [4332602752] - Application startup complete.
[2022-08-21 13:17:56,892.892] INFO [4332602752] - 127.0.0.1:51316 - "GET /swagger HTTP/1.1" 200
[2022-08-21 13:17:57,051.051] INFO [4332602752] - 127.0.0.1:51316 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:18:41,398.398] INFO [4332602752] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['awd@code.edu.az', 'test@code.edu.az', '3da@code.edu.az']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}
[2022-08-21 13:18:41,401.401] INFO [4332602752] - 127.0.0.1:51317 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=awd%40mail.ru&acceptor_email=awd%40code.edu.az&acceptor_email=awd&acceptor_email=dwa&acceptor_email=awd&acceptor_email=string&acceptor_email=test%40code.edu.az&acceptor_email=3da%40code.edu.az HTTP/1.1" 200
[2022-08-21 13:18:57,011.011] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:18:57,112.112] INFO [4332602752] - Shutting down
[2022-08-21 13:18:57,214.214] INFO [4332602752] - Waiting for application shutdown.
[2022-08-21 13:18:57,214.214] INFO [4332602752] - Application shutdown complete.
[2022-08-21 13:18:57,214.214] INFO [4332602752] - Finished server process [16285]
[2022-08-21 13:18:57,803.803] INFO [4338779520] - Started server process [16350]
[2022-08-21 13:18:57,803.803] INFO [4338779520] - Waiting for application startup.
[2022-08-21 13:18:57,803.803] INFO [4338779520] - Application startup complete.
[2022-08-21 13:19:11,125.125] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:19:11,167.167] INFO [4338779520] - Shutting down
[2022-08-21 13:19:11,268.268] INFO [4338779520] - Waiting for application shutdown.
[2022-08-21 13:19:11,268.268] INFO [4338779520] - Application shutdown complete.
[2022-08-21 13:19:11,268.268] INFO [4338779520] - Finished server process [16350]
[2022-08-21 13:19:11,832.832] INFO [4300211584] - Started server process [16368]
[2022-08-21 13:19:11,832.832] INFO [4300211584] - Waiting for application startup.
[2022-08-21 13:19:11,832.832] INFO [4300211584] - Application startup complete.
[2022-08-21 13:19:35,910.910] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:19:35,924.924] INFO [4300211584] - Shutting down
[2022-08-21 13:19:36,025.025] INFO [4300211584] - Waiting for application shutdown.
[2022-08-21 13:19:36,025.025] INFO [4300211584] - Application shutdown complete.
[2022-08-21 13:19:36,026.026] INFO [4300211584] - Finished server process [16368]
[2022-08-21 13:19:36,556.556] INFO [4374185344] - Started server process [16396]
[2022-08-21 13:19:36,556.556] INFO [4374185344] - Waiting for application startup.
[2022-08-21 13:19:36,556.556] INFO [4374185344] - Application startup complete.
[2022-08-21 13:20:53,267.267] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:20:53,298.298] INFO [4374185344] - Shutting down
[2022-08-21 13:20:53,399.399] INFO [4374185344] - Waiting for application shutdown.
[2022-08-21 13:20:53,400.400] INFO [4374185344] - Application shutdown complete.
[2022-08-21 13:20:53,400.400] INFO [4374185344] - Finished server process [16396]
[2022-08-21 13:20:53,947.947] INFO [4308796800] - Started server process [16476]
[2022-08-21 13:20:53,948.948] INFO [4308796800] - Waiting for application startup.
[2022-08-21 13:20:53,948.948] INFO [4308796800] - Application startup complete.
[2022-08-21 13:21:36,016.016] WARNING [4303193472] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-21 13:21:36,048.048] INFO [4308796800] - Shutting down
[2022-08-21 13:21:36,150.150] INFO [4308796800] - Waiting for application shutdown.
[2022-08-21 13:21:36,150.150] INFO [4308796800] - Application shutdown complete.
[2022-08-21 13:21:36,150.150] INFO [4308796800] - Finished server process [16476]
[2022-08-21 13:21:36,723.723] INFO [4345218432] - Started server process [16528]
[2022-08-21 13:21:36,723.723] INFO [4345218432] - Waiting for application startup.
[2022-08-21 13:21:36,723.723] INFO [4345218432] - Application startup complete.
[2022-08-21 13:21:48,982.982] WARNING [4303193472] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-21 13:21:49,068.068] INFO [4345218432] - Shutting down
[2022-08-21 13:21:49,169.169] INFO [4345218432] - Waiting for application shutdown.
[2022-08-21 13:21:49,170.170] INFO [4345218432] - Application shutdown complete.
[2022-08-21 13:21:49,170.170] INFO [4345218432] - Finished server process [16528]
[2022-08-21 13:21:49,709.709] INFO [4306847104] - Started server process [16548]
[2022-08-21 13:21:49,709.709] INFO [4306847104] - Waiting for application startup.
[2022-08-21 13:21:49,709.709] INFO [4306847104] - Application startup complete.
[2022-08-21 13:22:30,432.432] WARNING [4303193472] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-21 13:22:30,514.514] INFO [4306847104] - Shutting down
[2022-08-21 13:22:30,616.616] INFO [4306847104] - Waiting for application shutdown.
[2022-08-21 13:22:30,616.616] INFO [4306847104] - Application shutdown complete.
[2022-08-21 13:22:30,617.617] INFO [4306847104] - Finished server process [16548]
[2022-08-21 13:22:31,199.199] INFO [4304586112] - Started server process [16585]
[2022-08-21 13:22:31,199.199] INFO [4304586112] - Waiting for application startup.
[2022-08-21 13:22:31,199.199] INFO [4304586112] - Application startup complete.
[2022-08-21 13:32:20,494.494] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:32:20,590.590] INFO [4304586112] - Shutting down
[2022-08-21 13:32:20,691.691] INFO [4304586112] - Waiting for application shutdown.
[2022-08-21 13:32:20,691.691] INFO [4304586112] - Application shutdown complete.
[2022-08-21 13:32:20,691.691] INFO [4304586112] - Finished server process [16585]
[2022-08-21 13:32:21,235.235] INFO [4301276544] - Started server process [17142]
[2022-08-21 13:32:21,235.235] INFO [4301276544] - Waiting for application startup.
[2022-08-21 13:32:21,235.235] INFO [4301276544] - Application startup complete.
[2022-08-21 13:32:48,940.940] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:32:48,968.968] INFO [4301276544] - Shutting down
[2022-08-21 13:32:49,069.069] INFO [4301276544] - Waiting for application shutdown.
[2022-08-21 13:32:49,070.070] INFO [4301276544] - Application shutdown complete.
[2022-08-21 13:32:49,070.070] INFO [4301276544] - Finished server process [17142]
[2022-08-21 13:33:00,436.436] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:33:00,960.960] INFO [4343498112] - Started server process [17184]
[2022-08-21 13:33:00,960.960] INFO [4343498112] - Waiting for application startup.
[2022-08-21 13:33:00,960.960] INFO [4343498112] - Application startup complete.
[2022-08-21 13:34:02,617.617] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:34:02,658.658] INFO [4343498112] - Shutting down
[2022-08-21 13:34:02,758.758] INFO [4343498112] - Waiting for application shutdown.
[2022-08-21 13:34:02,759.759] INFO [4343498112] - Application shutdown complete.
[2022-08-21 13:34:02,759.759] INFO [4343498112] - Finished server process [17184]
[2022-08-21 13:34:37,232.232] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:35:13,444.444] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:35:14,146.146] INFO [4368844160] - Started server process [17350]
[2022-08-21 13:35:14,146.146] INFO [4368844160] - Waiting for application startup.
[2022-08-21 13:35:14,146.146] INFO [4368844160] - Application startup complete.
[2022-08-21 13:36:35,267.267] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:36:35,277.277] INFO [4368844160] - Shutting down
[2022-08-21 13:36:35,378.378] INFO [4368844160] - Waiting for application shutdown.
[2022-08-21 13:36:35,378.378] INFO [4368844160] - Application shutdown complete.
[2022-08-21 13:36:35,378.378] INFO [4368844160] - Finished server process [17350]
[2022-08-21 13:36:36,022.022] INFO [4376839552] - Started server process [17448]
[2022-08-21 13:36:36,022.022] INFO [4376839552] - Waiting for application startup.
[2022-08-21 13:36:36,022.022] INFO [4376839552] - Application startup complete.
[2022-08-21 13:39:15,926.926] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:39:15,961.961] INFO [4376839552] - Shutting down
[2022-08-21 13:39:16,063.063] INFO [4376839552] - Waiting for application shutdown.
[2022-08-21 13:39:16,063.063] INFO [4376839552] - Application shutdown complete.
[2022-08-21 13:39:16,063.063] INFO [4376839552] - Finished server process [17448]
[2022-08-21 13:39:16,634.634] INFO [4311057792] - Started server process [17626]
[2022-08-21 13:39:16,634.634] INFO [4311057792] - Waiting for application startup.
[2022-08-21 13:39:16,635.635] INFO [4311057792] - Application startup complete.
[2022-08-21 13:39:49,526.526] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:39:49,588.588] INFO [4311057792] - Shutting down
[2022-08-21 13:39:49,690.690] INFO [4311057792] - Waiting for application shutdown.
[2022-08-21 13:39:49,690.690] INFO [4311057792] - Application shutdown complete.
[2022-08-21 13:39:49,691.691] INFO [4311057792] - Finished server process [17626]
[2022-08-21 13:39:55,691.691] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:40:02,090.090] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:40:05,938.938] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:40:20,073.073] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:40:20,628.628] INFO [4369876352] - Started server process [17703]
[2022-08-21 13:40:20,628.628] INFO [4369876352] - Waiting for application startup.
[2022-08-21 13:40:20,629.629] INFO [4369876352] - Application startup complete.
[2022-08-21 13:44:25,072.072] INFO [4369876352] - 127.0.0.1:51548 - "GET /swagger HTTP/1.1" 200
[2022-08-21 13:44:25,226.226] INFO [4369876352] - 127.0.0.1:51548 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:44:59,893.893] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:44:59,993.993] INFO [4369876352] - Shutting down
[2022-08-21 13:45:00,094.094] INFO [4369876352] - Waiting for application shutdown.
[2022-08-21 13:45:00,095.095] INFO [4369876352] - Application shutdown complete.
[2022-08-21 13:45:00,095.095] INFO [4369876352] - Finished server process [17703]
[2022-08-21 13:45:46,287.287] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:45:46,800.800] INFO [4339762560] - Started server process [18036]
[2022-08-21 13:45:46,800.800] INFO [4339762560] - Waiting for application startup.
[2022-08-21 13:45:46,800.800] INFO [4339762560] - Application startup complete.
[2022-08-21 13:46:01,975.975] INFO [4339762560] - 127.0.0.1:51555 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az&acceptor_email=test%40mail.ru&acceptor_email=totwa HTTP/1.1" 500
[2022-08-21 13:46:01,975.975] ERROR [4339762560] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 131, in get_method
    data_to_return['email responses'].append(f"{email} {sg_instance.send_mail(is_all=True, subject=EMAIL_SUBJECTS[_type], content=data_to_return['query res'])}")
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 29, in send_mail
    mm = Mail(self.from_email, to_email, subject, content)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sendgrid/helpers/mail/mail.py", line 76, in __init__
    self.add_content(plain_text_content, MimeType.text)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sendgrid/helpers/mail/mail.py", line 734, in add_content
    if content.mime_type == MimeType.text:
AttributeError: 'list' object has no attribute 'mime_type'
[2022-08-21 13:47:05,597.597] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 13:47:05,683.683] INFO [4339762560] - Shutting down
[2022-08-21 13:47:05,784.784] INFO [4339762560] - Waiting for application shutdown.
[2022-08-21 13:47:05,784.784] INFO [4339762560] - Application shutdown complete.
[2022-08-21 13:47:05,784.784] INFO [4339762560] - Finished server process [18036]
[2022-08-21 13:47:06,334.334] INFO [4332750208] - Started server process [18122]
[2022-08-21 13:47:06,334.334] INFO [4332750208] - Waiting for application startup.
[2022-08-21 13:47:06,335.335] INFO [4332750208] - Application startup complete.
[2022-08-21 13:47:25,937.937] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:47:25,989.989] INFO [4332750208] - Shutting down
[2022-08-21 13:47:26,090.090] INFO [4332750208] - Waiting for application shutdown.
[2022-08-21 13:47:26,090.090] INFO [4332750208] - Application shutdown complete.
[2022-08-21 13:47:26,090.090] INFO [4332750208] - Finished server process [18122]
[2022-08-21 13:47:45,138.138] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:48:22,436.436] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 13:48:51,978.978] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 13:49:04,031.031] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 13:49:09,175.175] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 13:49:24,606.606] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 13:49:44,445.445] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 13:52:00,639.639] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:52:01,146.146] INFO [4333340032] - Started server process [18431]
[2022-08-21 13:52:01,147.147] INFO [4333340032] - Waiting for application startup.
[2022-08-21 13:52:01,147.147] INFO [4333340032] - Application startup complete.
[2022-08-21 13:52:11,862.862] INFO [4333340032] - 127.0.0.1:51565 - "GET /swagger HTTP/1.1" 200
[2022-08-21 13:52:12,056.056] INFO [4333340032] - 127.0.0.1:51565 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 13:52:35,190.190] INFO [4333340032] - 127.0.0.1:51566 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 13:52:35,191.191] ERROR [4333340032] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 130, in get_method
    sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 35, in send_mail
    response = self.sg.client.mail.send.post(request_body=mm.get())
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/python_http_client/client.py", line 257, in http_request
    data = json.dumps(request_body).encode('utf-8')
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type LegacyRow is not JSON serializable
[2022-08-21 13:56:21,019.019] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 13:56:21,095.095] INFO [4333340032] - Shutting down
[2022-08-21 13:56:21,197.197] INFO [4333340032] - Waiting for application shutdown.
[2022-08-21 13:56:21,197.197] INFO [4333340032] - Application shutdown complete.
[2022-08-21 13:56:21,197.197] INFO [4333340032] - Finished server process [18431]
[2022-08-21 13:56:21,768.768] INFO [4369859968] - Started server process [18683]
[2022-08-21 13:56:21,768.768] INFO [4369859968] - Waiting for application startup.
[2022-08-21 13:56:21,768.768] INFO [4369859968] - Application startup complete.
[2022-08-21 13:56:34,605.605] INFO [4369859968] - 127.0.0.1:51609 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 13:56:34,606.606] ERROR [4369859968] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 130, in get_method
    sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=str(data_to_return['query res']), is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 35, in send_mail
    response = self.sg.client.mail.send.post(request_body=mm.get())
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/python_http_client/client.py", line 277, in http_request
    self._make_request(opener, request, timeout=timeout)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/python_http_client/client.py", line 184, in _make_request
    raise exc
python_http_client.exceptions.ForbiddenError: HTTP Error 403: Forbidden
[2022-08-21 13:59:15,786.786] INFO [4369859968] - 127.0.0.1:51695 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 13:59:15,788.788] ERROR [4369859968] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 130, in get_method
    sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=str(data_to_return['query res']), is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 35, in send_mail
    response = self.sg.client.mail.send.post(request_body=mm.get())
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/python_http_client/client.py", line 277, in http_request
    self._make_request(opener, request, timeout=timeout)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/python_http_client/client.py", line 184, in _make_request
    raise exc
python_http_client.exceptions.ForbiddenError: HTTP Error 403: Forbidden
[2022-08-21 14:01:26,289.289] WARNING [4303193472] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-21 14:01:26,297.297] INFO [4369859968] - Shutting down
[2022-08-21 14:01:26,400.400] INFO [4369859968] - Waiting for application shutdown.
[2022-08-21 14:01:26,401.401] INFO [4369859968] - Application shutdown complete.
[2022-08-21 14:01:26,401.401] INFO [4369859968] - Finished server process [18683]
[2022-08-21 14:01:26,986.986] INFO [4303701376] - Started server process [18990]
[2022-08-21 14:01:26,986.986] INFO [4303701376] - Waiting for application startup.
[2022-08-21 14:01:26,986.986] INFO [4303701376] - Application startup complete.
[2022-08-21 14:02:38,131.131] INFO [4303701376] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))], 'email responses': [None]}
[2022-08-21 14:02:38,133.133] INFO [4303701376] - 127.0.0.1:51783 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 200
[2022-08-21 14:04:24,742.742] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:04:24,838.838] INFO [4303701376] - Shutting down
[2022-08-21 14:04:24,939.939] INFO [4303701376] - Waiting for application shutdown.
[2022-08-21 14:04:24,940.940] INFO [4303701376] - Application shutdown complete.
[2022-08-21 14:04:24,940.940] INFO [4303701376] - Finished server process [18990]
[2022-08-21 14:04:25,515.515] INFO [4340827520] - Started server process [19173]
[2022-08-21 14:04:25,515.515] INFO [4340827520] - Waiting for application startup.
[2022-08-21 14:04:25,515.515] INFO [4340827520] - Application startup complete.
[2022-08-21 14:04:58,108.108] INFO [4340827520] - {'data': {'type': <ModelGET.three: 3>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Amarilla', Decimal('155315.00'), Decimal('19037279.50'), Decimal('1290163.44'), Decimal('2814104.06')), ('Carretera', Decimal('146846.00'), Decimal('14937520.50'), Decimal('1122212.62'), Decimal('1826804.89')), ('Montana', Decimal('154198.00'), Decimal('16549834.50'), Decimal('1159032.62'), Decimal('2114754.88')), ('Velo', Decimal('162424.50'), Decimal('19826768.50'), Decimal('1576709.04'), Decimal('2305992.47')), ('Paseo', Decimal('338239.50'), Decimal('35611662.00'), Decimal('2600518.05'), Decimal('4797437.95')), ('VTT', Decimal('168783.00'), Decimal('21968533.50'), Decimal('1456612.48'), Decimal('3034608.02'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x11f6e6520>}}}
[2022-08-21 14:04:58,113.113] INFO [4340827520] - 127.0.0.1:51791 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 200
[2022-08-21 14:05:56,582.582] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:05:56,627.627] INFO [4340827520] - Shutting down
[2022-08-21 14:05:56,728.728] INFO [4340827520] - Waiting for application shutdown.
[2022-08-21 14:05:56,729.729] INFO [4340827520] - Application shutdown complete.
[2022-08-21 14:05:56,729.729] INFO [4340827520] - Finished server process [19173]
[2022-08-21 14:05:57,342.342] INFO [4301718912] - Started server process [19277]
[2022-08-21 14:05:57,342.342] INFO [4301718912] - Waiting for application startup.
[2022-08-21 14:05:57,342.342] INFO [4301718912] - Application startup complete.
[2022-08-21 14:06:12,221.221] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:06:12,240.240] INFO [4301718912] - Shutting down
[2022-08-21 14:06:12,340.340] INFO [4301718912] - Waiting for application shutdown.
[2022-08-21 14:06:12,341.341] INFO [4301718912] - Application shutdown complete.
[2022-08-21 14:06:12,341.341] INFO [4301718912] - Finished server process [19277]
[2022-08-21 14:06:12,902.902] INFO [4301931904] - Started server process [19300]
[2022-08-21 14:06:12,902.902] INFO [4301931904] - Waiting for application startup.
[2022-08-21 14:06:12,902.902] INFO [4301931904] - Application startup complete.
[2022-08-21 14:06:31,374.374] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:06:31,445.445] INFO [4301931904] - Shutting down
[2022-08-21 14:06:31,546.546] INFO [4301931904] - Waiting for application shutdown.
[2022-08-21 14:06:31,547.547] INFO [4301931904] - Application shutdown complete.
[2022-08-21 14:06:31,547.547] INFO [4301931904] - Finished server process [19300]
[2022-08-21 14:06:32,139.139] INFO [4302308736] - Started server process [19321]
[2022-08-21 14:06:32,139.139] INFO [4302308736] - Waiting for application startup.
[2022-08-21 14:06:32,139.139] INFO [4302308736] - Application startup complete.
[2022-08-21 14:06:36,659.659] INFO [4302308736] - 127.0.0.1:51809 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:06:36,661.661] ERROR [4302308736] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 130, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 32, in send_mail
    content = Content("text/plain", json.load(_content))
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 293, in load
    return loads(fp.read(),
AttributeError: 'list' object has no attribute 'read'
[2022-08-21 14:07:19,696.696] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:07:19,741.741] INFO [4302308736] - Shutting down
[2022-08-21 14:07:19,842.842] INFO [4302308736] - Waiting for application shutdown.
[2022-08-21 14:07:19,843.843] INFO [4302308736] - Application shutdown complete.
[2022-08-21 14:07:19,843.843] INFO [4302308736] - Finished server process [19321]
[2022-08-21 14:07:20,376.376] INFO [4306158976] - Started server process [19381]
[2022-08-21 14:07:20,376.376] INFO [4306158976] - Waiting for application startup.
[2022-08-21 14:07:20,376.376] INFO [4306158976] - Application startup complete.
[2022-08-21 14:07:23,111.111] INFO [4306158976] - 127.0.0.1:51814 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:07:23,112.112] ERROR [4306158976] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 132, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 32, in send_mail
    content = Content("text/plain", json.load(_content))
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 293, in load
    return loads(fp.read(),
AttributeError: 'list' object has no attribute 'read'
[2022-08-21 14:07:42,549.549] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:07:42,609.609] INFO [4306158976] - Shutting down
[2022-08-21 14:07:42,712.712] INFO [4306158976] - Waiting for application shutdown.
[2022-08-21 14:07:42,713.713] INFO [4306158976] - Application shutdown complete.
[2022-08-21 14:07:42,713.713] INFO [4306158976] - Finished server process [19381]
[2022-08-21 14:07:43,352.352] INFO [4331750784] - Started server process [19414]
[2022-08-21 14:07:43,353.353] INFO [4331750784] - Waiting for application startup.
[2022-08-21 14:07:43,353.353] INFO [4331750784] - Application startup complete.
[2022-08-21 14:08:43,305.305] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:08:43,404.404] INFO [4331750784] - Shutting down
[2022-08-21 14:08:43,507.507] INFO [4331750784] - Waiting for application shutdown.
[2022-08-21 14:08:43,508.508] INFO [4331750784] - Application shutdown complete.
[2022-08-21 14:08:43,509.509] INFO [4331750784] - Finished server process [19414]
[2022-08-21 14:08:44,090.090] INFO [4339664256] - Started server process [19481]
[2022-08-21 14:08:44,090.090] INFO [4339664256] - Waiting for application startup.
[2022-08-21 14:08:44,090.090] INFO [4339664256] - Application startup complete.
[2022-08-21 14:08:58,721.721] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:08:58,768.768] INFO [4339664256] - Shutting down
[2022-08-21 14:08:58,869.869] INFO [4339664256] - Waiting for application shutdown.
[2022-08-21 14:08:58,870.870] INFO [4339664256] - Application shutdown complete.
[2022-08-21 14:08:58,871.871] INFO [4339664256] - Finished server process [19481]
[2022-08-21 14:08:59,443.443] INFO [4305077632] - Started server process [19504]
[2022-08-21 14:08:59,443.443] INFO [4305077632] - Waiting for application startup.
[2022-08-21 14:08:59,443.443] INFO [4305077632] - Application startup complete.
[2022-08-21 14:09:08,940.940] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:09:08,958.958] INFO [4305077632] - Shutting down
[2022-08-21 14:09:09,060.060] INFO [4305077632] - Waiting for application shutdown.
[2022-08-21 14:09:09,060.060] INFO [4305077632] - Application shutdown complete.
[2022-08-21 14:09:09,060.060] INFO [4305077632] - Finished server process [19504]
[2022-08-21 14:09:09,657.657] INFO [4371957120] - Started server process [19522]
[2022-08-21 14:09:09,657.657] INFO [4371957120] - Waiting for application startup.
[2022-08-21 14:09:09,657.657] INFO [4371957120] - Application startup complete.
[2022-08-21 14:09:21,190.190] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:09:21,199.199] INFO [4371957120] - Shutting down
[2022-08-21 14:09:21,300.300] INFO [4371957120] - Waiting for application shutdown.
[2022-08-21 14:09:21,300.300] INFO [4371957120] - Application shutdown complete.
[2022-08-21 14:09:21,300.300] INFO [4371957120] - Finished server process [19522]
[2022-08-21 14:09:21,837.837] INFO [4341024128] - Started server process [19544]
[2022-08-21 14:09:21,837.837] INFO [4341024128] - Waiting for application startup.
[2022-08-21 14:09:21,837.837] INFO [4341024128] - Application startup complete.
[2022-08-21 14:09:26,758.758] INFO [4341024128] - 127.0.0.1:51834 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:09:26,759.759] ERROR [4341024128] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 128, in get_method
    print(json.dumps(dict(data_to_return['query res'])))
ValueError: dictionary update sequence element #0 has length 5; 2 is required
[2022-08-21 14:18:13,156.156] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:18:13,189.189] INFO [4341024128] - Shutting down
[2022-08-21 14:18:13,290.290] INFO [4341024128] - Waiting for application shutdown.
[2022-08-21 14:18:13,291.291] INFO [4341024128] - Application shutdown complete.
[2022-08-21 14:18:13,291.291] INFO [4341024128] - Finished server process [19544]
[2022-08-21 14:18:13,881.881] INFO [4334945664] - Started server process [20025]
[2022-08-21 14:18:13,881.881] INFO [4334945664] - Waiting for application startup.
[2022-08-21 14:18:13,881.881] INFO [4334945664] - Application startup complete.
[2022-08-21 14:18:20,436.436] INFO [4334945664] - 127.0.0.1:52042 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:18:20,436.436] ERROR [4334945664] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 134, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 32, in send_mail
    content = Content("text/plain", json.load(_content))
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 293, in load
    return loads(fp.read(),
AttributeError: 'list' object has no attribute 'read'
[2022-08-21 14:18:34,028.028] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:18:34,116.116] INFO [4334945664] - Shutting down
[2022-08-21 14:18:34,217.217] INFO [4334945664] - Waiting for application shutdown.
[2022-08-21 14:18:34,217.217] INFO [4334945664] - Application shutdown complete.
[2022-08-21 14:18:34,218.218] INFO [4334945664] - Finished server process [20025]
[2022-08-21 14:18:34,765.765] INFO [4370990464] - Started server process [20060]
[2022-08-21 14:18:34,766.766] INFO [4370990464] - Waiting for application startup.
[2022-08-21 14:18:34,766.766] INFO [4370990464] - Application startup complete.
[2022-08-21 14:18:52,283.283] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:18:52,289.289] INFO [4370990464] - Shutting down
[2022-08-21 14:18:52,390.390] INFO [4370990464] - Waiting for application shutdown.
[2022-08-21 14:18:52,390.390] INFO [4370990464] - Application shutdown complete.
[2022-08-21 14:18:52,390.390] INFO [4370990464] - Finished server process [20060]
[2022-08-21 14:18:52,926.926] INFO [4343219584] - Started server process [20077]
[2022-08-21 14:18:52,926.926] INFO [4343219584] - Waiting for application startup.
[2022-08-21 14:18:52,926.926] INFO [4343219584] - Application startup complete.
[2022-08-21 14:18:55,939.939] INFO [4343219584] - 127.0.0.1:52049 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:18:55,940.940] ERROR [4343219584] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 135, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 32, in send_mail
    content = Content("text/plain", json.load(_content))
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 293, in load
    return loads(fp.read(),
AttributeError: 'list' object has no attribute 'read'
[2022-08-21 14:22:56,358.358] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:22:56,438.438] INFO [4343219584] - Shutting down
[2022-08-21 14:22:56,541.541] INFO [4343219584] - Waiting for application shutdown.
[2022-08-21 14:22:56,541.541] INFO [4343219584] - Application shutdown complete.
[2022-08-21 14:22:56,541.541] INFO [4343219584] - Finished server process [20077]
[2022-08-21 14:22:57,102.102] INFO [4342236544] - Started server process [20311]
[2022-08-21 14:22:57,103.103] INFO [4342236544] - Waiting for application startup.
[2022-08-21 14:22:57,103.103] INFO [4342236544] - Application startup complete.
[2022-08-21 14:23:19,513.513] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:23:19,613.613] INFO [4342236544] - Shutting down
[2022-08-21 14:23:19,717.717] INFO [4342236544] - Waiting for application shutdown.
[2022-08-21 14:23:19,721.721] INFO [4342236544] - Application shutdown complete.
[2022-08-21 14:23:19,722.722] INFO [4342236544] - Finished server process [20311]
[2022-08-21 14:23:20,286.286] INFO [4313335168] - Started server process [20341]
[2022-08-21 14:23:20,287.287] INFO [4313335168] - Waiting for application startup.
[2022-08-21 14:23:20,287.287] INFO [4313335168] - Application startup complete.
[2022-08-21 14:23:35,245.245] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:23:35,291.291] INFO [4313335168] - Shutting down
[2022-08-21 14:23:35,392.392] INFO [4313335168] - Waiting for application shutdown.
[2022-08-21 14:23:35,392.392] INFO [4313335168] - Application shutdown complete.
[2022-08-21 14:23:35,392.392] INFO [4313335168] - Finished server process [20341]
[2022-08-21 14:23:35,957.957] INFO [4335928704] - Started server process [20362]
[2022-08-21 14:23:35,958.958] INFO [4335928704] - Waiting for application startup.
[2022-08-21 14:23:35,958.958] INFO [4335928704] - Application startup complete.
[2022-08-21 14:26:11,150.150] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:26:11,211.211] INFO [4335928704] - Shutting down
[2022-08-21 14:26:11,314.314] INFO [4335928704] - Waiting for application shutdown.
[2022-08-21 14:26:11,315.315] INFO [4335928704] - Application shutdown complete.
[2022-08-21 14:26:11,315.315] INFO [4335928704] - Finished server process [20362]
[2022-08-21 14:26:11,891.891] INFO [4376855936] - Started server process [20503]
[2022-08-21 14:26:11,891.891] INFO [4376855936] - Waiting for application startup.
[2022-08-21 14:26:11,891.891] INFO [4376855936] - Application startup complete.
[2022-08-21 14:26:30,441.441] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:26:30,536.536] INFO [4376855936] - Shutting down
[2022-08-21 14:26:30,637.637] INFO [4376855936] - Waiting for application shutdown.
[2022-08-21 14:26:30,638.638] INFO [4376855936] - Application shutdown complete.
[2022-08-21 14:26:30,638.638] INFO [4376855936] - Finished server process [20503]
[2022-08-21 14:26:31,202.202] INFO [4369352064] - Started server process [20531]
[2022-08-21 14:26:31,202.202] INFO [4369352064] - Waiting for application startup.
[2022-08-21 14:26:31,203.203] INFO [4369352064] - Application startup complete.
[2022-08-21 14:26:37,896.896] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:26:37,987.987] INFO [4369352064] - Shutting down
[2022-08-21 14:26:38,089.089] INFO [4369352064] - Waiting for application shutdown.
[2022-08-21 14:26:38,090.090] INFO [4369352064] - Application shutdown complete.
[2022-08-21 14:26:38,091.091] INFO [4369352064] - Finished server process [20531]
[2022-08-21 14:26:38,705.705] INFO [4368614784] - Started server process [20543]
[2022-08-21 14:26:38,705.705] INFO [4368614784] - Waiting for application startup.
[2022-08-21 14:26:38,705.705] INFO [4368614784] - Application startup complete.
[2022-08-21 14:26:41,993.993] INFO [4368614784] - 127.0.0.1:52086 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:26:41,994.994] ERROR [4368614784] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 125, in get_method
    'query res': await res.fetchall(),
TypeError: object list can't be used in 'await' expression
[2022-08-21 14:27:24,022.022] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:27:24,119.119] INFO [4368614784] - Shutting down
[2022-08-21 14:27:24,221.221] INFO [4368614784] - Waiting for application shutdown.
[2022-08-21 14:27:24,222.222] INFO [4368614784] - Application shutdown complete.
[2022-08-21 14:27:24,223.223] INFO [4368614784] - Finished server process [20543]
[2022-08-21 14:27:24,817.817] INFO [4337468800] - Started server process [20590]
[2022-08-21 14:27:24,817.817] INFO [4337468800] - Waiting for application startup.
[2022-08-21 14:27:24,817.817] INFO [4337468800] - Application startup complete.
[2022-08-21 14:27:25,971.971] INFO [4337468800] - 127.0.0.1:52090 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:27:25,972.972] ERROR [4337468800] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 128, in get_method
    print(json.dumps([dict(data_to_return['query res']._mapping) for row in data_to_return['query res']]))
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 128, in <listcomp>
    print(json.dumps([dict(data_to_return['query res']._mapping) for row in data_to_return['query res']]))
AttributeError: 'list' object has no attribute '_mapping'
[2022-08-21 14:29:27,219.219] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:29:27,231.231] INFO [4337468800] - Shutting down
[2022-08-21 14:29:27,333.333] INFO [4337468800] - Waiting for application shutdown.
[2022-08-21 14:29:27,333.333] INFO [4337468800] - Application shutdown complete.
[2022-08-21 14:29:27,333.333] INFO [4337468800] - Finished server process [20590]
[2022-08-21 14:29:27,942.942] INFO [4330964352] - Started server process [20722]
[2022-08-21 14:29:27,942.942] INFO [4330964352] - Waiting for application startup.
[2022-08-21 14:29:27,942.942] INFO [4330964352] - Application startup complete.
[2022-08-21 14:29:47,679.679] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:29:47,693.693] INFO [4330964352] - Shutting down
[2022-08-21 14:29:47,794.794] INFO [4330964352] - Waiting for application shutdown.
[2022-08-21 14:29:47,795.795] INFO [4330964352] - Application shutdown complete.
[2022-08-21 14:29:47,795.795] INFO [4330964352] - Finished server process [20722]
[2022-08-21 14:29:48,374.374] INFO [4374742400] - Started server process [20752]
[2022-08-21 14:29:48,374.374] INFO [4374742400] - Waiting for application startup.
[2022-08-21 14:29:48,374.374] INFO [4374742400] - Application startup complete.
[2022-08-21 14:30:15,268.268] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:30:15,338.338] INFO [4374742400] - Shutting down
[2022-08-21 14:30:15,439.439] INFO [4374742400] - Waiting for application shutdown.
[2022-08-21 14:30:15,439.439] INFO [4374742400] - Application shutdown complete.
[2022-08-21 14:30:15,439.439] INFO [4374742400] - Finished server process [20752]
[2022-08-21 14:30:16,062.062] INFO [4372415872] - Started server process [20787]
[2022-08-21 14:30:16,062.062] INFO [4372415872] - Waiting for application startup.
[2022-08-21 14:30:16,062.062] INFO [4372415872] - Application startup complete.
[2022-08-21 14:30:19,358.358] INFO [4372415872] - 127.0.0.1:52112 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:30:19,359.359] ERROR [4372415872] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 134, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 33, in send_mail
    print(_content.User().as_dict())
AttributeError: 'list' object has no attribute 'User'
[2022-08-21 14:30:34,288.288] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:30:34,293.293] INFO [4372415872] - Shutting down
[2022-08-21 14:30:34,395.395] INFO [4372415872] - Waiting for application shutdown.
[2022-08-21 14:30:34,395.395] INFO [4372415872] - Application shutdown complete.
[2022-08-21 14:30:34,395.395] INFO [4372415872] - Finished server process [20787]
[2022-08-21 14:30:34,992.992] INFO [4370023808] - Started server process [20824]
[2022-08-21 14:30:34,993.993] INFO [4370023808] - Waiting for application startup.
[2022-08-21 14:30:34,993.993] INFO [4370023808] - Application startup complete.
[2022-08-21 14:30:36,418.418] INFO [4370023808] - 127.0.0.1:52116 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:30:36,418.418] ERROR [4370023808] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 134, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 33, in send_mail
    print(User().as_dict())
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 31, in as_dict
    return {c.name: getattr(self, c.name) for c in self.__table__.columns}
AttributeError: 'User' object has no attribute '__table__'
[2022-08-21 14:30:51,448.448] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:30:51,531.531] INFO [4370023808] - Shutting down
[2022-08-21 14:30:51,633.633] INFO [4370023808] - Waiting for application shutdown.
[2022-08-21 14:30:51,633.633] INFO [4370023808] - Application shutdown complete.
[2022-08-21 14:30:51,633.633] INFO [4370023808] - Finished server process [20824]
[2022-08-21 14:30:52,228.228] INFO [4371613056] - Started server process [20848]
[2022-08-21 14:30:52,229.229] INFO [4371613056] - Waiting for application startup.
[2022-08-21 14:30:52,229.229] INFO [4371613056] - Application startup complete.
[2022-08-21 14:30:53,330.330] INFO [4371613056] - 127.0.0.1:52120 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:30:53,331.331] ERROR [4371613056] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 134, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 33, in send_mail
    print(User().as_dict(_content))
TypeError: as_dict() takes 1 positional argument but 2 were given
[2022-08-21 14:31:03,798.798] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:31:03,881.881] INFO [4371613056] - Shutting down
[2022-08-21 14:31:03,983.983] INFO [4371613056] - Waiting for application shutdown.
[2022-08-21 14:31:03,985.985] INFO [4371613056] - Application shutdown complete.
[2022-08-21 14:31:03,985.985] INFO [4371613056] - Finished server process [20848]
[2022-08-21 14:31:04,595.595] INFO [4344087936] - Started server process [20868]
[2022-08-21 14:31:04,595.595] INFO [4344087936] - Waiting for application startup.
[2022-08-21 14:31:04,595.595] INFO [4344087936] - Application startup complete.
[2022-08-21 14:31:08,960.960] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:31:09,060.060] INFO [4344087936] - Shutting down
[2022-08-21 14:31:09,162.162] INFO [4344087936] - Waiting for application shutdown.
[2022-08-21 14:31:09,162.162] INFO [4344087936] - Application shutdown complete.
[2022-08-21 14:31:09,162.162] INFO [4344087936] - Finished server process [20868]
[2022-08-21 14:31:09,704.704] INFO [4302292352] - Started server process [20879]
[2022-08-21 14:31:09,705.705] INFO [4302292352] - Waiting for application startup.
[2022-08-21 14:31:09,705.705] INFO [4302292352] - Application startup complete.
[2022-08-21 14:31:11,017.017] INFO [4302292352] - 127.0.0.1:52129 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:31:11,017.017] ERROR [4302292352] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 134, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 33, in send_mail
    print(User(_content).as_dict())
TypeError: User() takes no arguments
[2022-08-21 14:31:30,324.324] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:31:30,398.398] INFO [4302292352] - Shutting down
[2022-08-21 14:31:30,500.500] INFO [4302292352] - Waiting for application shutdown.
[2022-08-21 14:31:30,503.503] INFO [4302292352] - Application shutdown complete.
[2022-08-21 14:31:30,504.504] INFO [4302292352] - Finished server process [20879]
[2022-08-21 14:31:31,164.164] INFO [4305503616] - Started server process [20904]
[2022-08-21 14:31:31,164.164] INFO [4305503616] - Waiting for application startup.
[2022-08-21 14:31:31,165.165] INFO [4305503616] - Application startup complete.
[2022-08-21 14:31:51,239.239] INFO [4305503616] - 127.0.0.1:52136 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:31:51,239.239] ERROR [4305503616] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 134, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 33, in send_mail
    print(User().as_dict())
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 31, in as_dict
    return {c.name: getattr(self, c.name) for c in self.__table__.columns}
AttributeError: 'User' object has no attribute '__table__'
[2022-08-21 14:33:06,935.935] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:33:06,939.939] INFO [4305503616] - Shutting down
[2022-08-21 14:33:07,041.041] INFO [4305503616] - Waiting for application shutdown.
[2022-08-21 14:33:07,041.041] INFO [4305503616] - Application shutdown complete.
[2022-08-21 14:33:07,041.041] INFO [4305503616] - Finished server process [20904]
[2022-08-21 14:33:12,269.269] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:33:12,804.804] INFO [4303897984] - Started server process [21010]
[2022-08-21 14:33:12,804.804] INFO [4303897984] - Waiting for application startup.
[2022-08-21 14:33:12,804.804] INFO [4303897984] - Application startup complete.
[2022-08-21 14:33:14,395.395] INFO [4303897984] - 127.0.0.1:52144 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:33:14,395.395] ERROR [4303897984] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 134, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 29, in send_mail
    print(_content.__table__.columns)
AttributeError: 'list' object has no attribute '__table__'
[2022-08-21 14:34:55,987.987] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:34:56,070.070] INFO [4303897984] - Shutting down
[2022-08-21 14:34:56,171.171] INFO [4303897984] - Waiting for application shutdown.
[2022-08-21 14:34:56,174.174] INFO [4303897984] - Application shutdown complete.
[2022-08-21 14:34:56,175.175] INFO [4303897984] - Finished server process [21010]
[2022-08-21 14:34:56,729.729] INFO [4307568000] - Started server process [21112]
[2022-08-21 14:34:56,729.729] INFO [4307568000] - Waiting for application startup.
[2022-08-21 14:34:56,729.729] INFO [4307568000] - Application startup complete.
[2022-08-21 14:35:11,618.618] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:35:11,624.624] INFO [4307568000] - Shutting down
[2022-08-21 14:35:11,726.726] INFO [4307568000] - Waiting for application shutdown.
[2022-08-21 14:35:11,726.726] INFO [4307568000] - Application shutdown complete.
[2022-08-21 14:35:11,726.726] INFO [4307568000] - Finished server process [21112]
[2022-08-21 14:35:12,283.283] INFO [4347168128] - Started server process [21139]
[2022-08-21 14:35:12,283.283] INFO [4347168128] - Waiting for application startup.
[2022-08-21 14:35:12,283.283] INFO [4347168128] - Application startup complete.
[2022-08-21 14:35:13,354.354] INFO [4347168128] - 127.0.0.1:52155 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:35:13,360.360] ERROR [4347168128] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 138, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 29, in send_mail
    print(_content.__table__.columns)
AttributeError: 'list' object has no attribute '__table__'
[2022-08-21 14:37:01,958.958] WARNING [4303193472] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 14:37:01,964.964] INFO [4347168128] - Shutting down
[2022-08-21 14:37:02,065.065] INFO [4347168128] - Waiting for application shutdown.
[2022-08-21 14:37:02,065.065] INFO [4347168128] - Application shutdown complete.
[2022-08-21 14:37:02,065.065] INFO [4347168128] - Finished server process [21139]
[2022-08-21 14:37:02,630.630] INFO [4376069504] - Started server process [21256]
[2022-08-21 14:37:02,630.630] INFO [4376069504] - Waiting for application startup.
[2022-08-21 14:37:02,630.630] INFO [4376069504] - Application startup complete.
[2022-08-21 14:37:08,006.006] WARNING [4303193472] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 14:37:08,097.097] INFO [4376069504] - Shutting down
[2022-08-21 14:37:08,198.198] INFO [4376069504] - Waiting for application shutdown.
[2022-08-21 14:37:08,198.198] INFO [4376069504] - Application shutdown complete.
[2022-08-21 14:37:08,199.199] INFO [4376069504] - Finished server process [21256]
[2022-08-21 14:37:08,728.728] INFO [4296410496] - Started server process [21274]
[2022-08-21 14:37:08,729.729] INFO [4296410496] - Waiting for application startup.
[2022-08-21 14:37:08,729.729] INFO [4296410496] - Application startup complete.
[2022-08-21 14:37:20,288.288] INFO [4296410496] - 127.0.0.1:52203 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:37:20,289.289] ERROR [4296410496] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 115, in get_method
    res: sqlalchemy = services.queries(start_date=start_date,
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/db/services.py", line 41, in queries
    return json.dumps([dict(r) for r in query_res])
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Decimal is not JSON serializable
[2022-08-21 14:39:18,401.401] WARNING [4303193472] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 14:39:18,452.452] INFO [4296410496] - Shutting down
[2022-08-21 14:39:18,554.554] INFO [4296410496] - Waiting for application shutdown.
[2022-08-21 14:39:18,554.554] INFO [4296410496] - Application shutdown complete.
[2022-08-21 14:39:18,554.554] INFO [4296410496] - Finished server process [21274]
[2022-08-21 14:39:28,912.912] WARNING [4303193472] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 14:39:29,466.466] INFO [4382819712] - Started server process [21430]
[2022-08-21 14:39:29,466.466] INFO [4382819712] - Waiting for application startup.
[2022-08-21 14:39:29,467.467] INFO [4382819712] - Application startup complete.
[2022-08-21 14:39:32,709.709] INFO [4382819712] - 127.0.0.1:52212 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:39:32,710.710] ERROR [4382819712] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 115, in get_method
    res: sqlalchemy = services.queries(start_date=start_date,
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/db/services.py", line 41, in queries
    return json.dumps([dict(str(r)) for r in query_res])
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/db/services.py", line 41, in <listcomp>
    return json.dumps([dict(str(r)) for r in query_res])
ValueError: dictionary update sequence element #0 has length 1; 2 is required
[2022-08-21 14:39:55,393.393] WARNING [4303193472] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 14:39:55,442.442] INFO [4382819712] - Shutting down
[2022-08-21 14:39:55,543.543] INFO [4382819712] - Waiting for application shutdown.
[2022-08-21 14:39:55,544.544] INFO [4382819712] - Application shutdown complete.
[2022-08-21 14:39:55,544.544] INFO [4382819712] - Finished server process [21430]
[2022-08-21 14:39:56,116.116] INFO [4371465600] - Started server process [21459]
[2022-08-21 14:39:56,116.116] INFO [4371465600] - Waiting for application startup.
[2022-08-21 14:39:56,116.116] INFO [4371465600] - Application startup complete.
[2022-08-21 14:40:07,143.143] WARNING [4303193472] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 14:40:07,147.147] INFO [4371465600] - Shutting down
[2022-08-21 14:40:07,248.248] INFO [4371465600] - Waiting for application shutdown.
[2022-08-21 14:40:07,249.249] INFO [4371465600] - Application shutdown complete.
[2022-08-21 14:40:07,249.249] INFO [4371465600] - Finished server process [21459]
[2022-08-21 14:40:07,805.805] INFO [4306388352] - Started server process [21476]
[2022-08-21 14:40:07,805.805] INFO [4306388352] - Waiting for application startup.
[2022-08-21 14:40:07,805.805] INFO [4306388352] - Application startup complete.
[2022-08-21 14:40:17,532.532] INFO [4306388352] - 127.0.0.1:52220 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:40:17,532.532] ERROR [4306388352] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 115, in get_method
    res: sqlalchemy = services.queries(start_date=start_date,
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/db/services.py", line 41, in queries
    return json.dumps(query_res.fetchone())
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type LegacyRow is not JSON serializable
[2022-08-21 14:40:32,952.952] WARNING [4303193472] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 14:40:33,050.050] INFO [4306388352] - Shutting down
[2022-08-21 14:40:33,151.151] INFO [4306388352] - Waiting for application shutdown.
[2022-08-21 14:40:33,151.151] INFO [4306388352] - Application shutdown complete.
[2022-08-21 14:40:33,152.152] INFO [4306388352] - Finished server process [21476]
[2022-08-21 14:40:33,731.731] INFO [4334257536] - Started server process [21512]
[2022-08-21 14:40:33,731.731] INFO [4334257536] - Waiting for application startup.
[2022-08-21 14:40:33,732.732] INFO [4334257536] - Application startup complete.
[2022-08-21 14:40:34,770.770] INFO [4334257536] - 127.0.0.1:52224 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:40:34,770.770] ERROR [4334257536] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 115, in get_method
    res: sqlalchemy = services.queries(start_date=start_date,
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/db/services.py", line 41, in queries
    return json.dumps(query_res.fetchall())
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type LegacyRow is not JSON serializable
[2022-08-21 14:41:46,142.142] WARNING [4303193472] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 14:41:46,199.199] INFO [4334257536] - Shutting down
[2022-08-21 14:41:46,302.302] INFO [4334257536] - Waiting for application shutdown.
[2022-08-21 14:41:46,303.303] INFO [4334257536] - Application shutdown complete.
[2022-08-21 14:41:46,303.303] INFO [4334257536] - Finished server process [21512]
[2022-08-21 14:41:46,848.848] INFO [4377511296] - Started server process [21594]
[2022-08-21 14:41:46,848.848] INFO [4377511296] - Waiting for application startup.
[2022-08-21 14:41:46,848.848] INFO [4377511296] - Application startup complete.
[2022-08-21 14:41:49,229.229] INFO [4377511296] - 127.0.0.1:52233 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:41:49,230.230] ERROR [4377511296] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 115, in get_method
    res: sqlalchemy = services.queries(start_date=start_date,
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/db/services.py", line 41, in queries
    return json.dumps([dict(row) for row in query_res.fetchall()])
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Decimal is not JSON serializable
[2022-08-21 14:58:59,704.704] WARNING [4303193472] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 14:58:59,760.760] INFO [4377511296] - Shutting down
[2022-08-21 14:58:59,862.862] INFO [4377511296] - Waiting for application shutdown.
[2022-08-21 14:58:59,862.862] INFO [4377511296] - Application shutdown complete.
[2022-08-21 14:58:59,863.863] INFO [4377511296] - Finished server process [21594]
[2022-08-21 14:59:00,434.434] INFO [4376970624] - Started server process [22512]
[2022-08-21 14:59:00,434.434] INFO [4376970624] - Waiting for application startup.
[2022-08-21 14:59:00,434.434] INFO [4376970624] - Application startup complete.
[2022-08-21 14:59:02,599.599] INFO [4376970624] - 127.0.0.1:52282 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:59:02,600.600] ERROR [4376970624] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 138, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 29, in send_mail
    print(_content.__table__.columns)
AttributeError: 'list' object has no attribute '__table__'
[2022-08-21 14:59:13,263.263] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:59:13,266.266] INFO [4376970624] - Shutting down
[2022-08-21 14:59:13,367.367] INFO [4376970624] - Waiting for application shutdown.
[2022-08-21 14:59:13,367.367] INFO [4376970624] - Application shutdown complete.
[2022-08-21 14:59:13,367.367] INFO [4376970624] - Finished server process [22512]
[2022-08-21 14:59:13,895.895] INFO [4344087936] - Started server process [22535]
[2022-08-21 14:59:13,895.895] INFO [4344087936] - Waiting for application startup.
[2022-08-21 14:59:13,895.895] INFO [4344087936] - Application startup complete.
[2022-08-21 14:59:20,853.853] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 14:59:20,879.879] INFO [4344087936] - Shutting down
[2022-08-21 14:59:20,981.981] INFO [4344087936] - Waiting for application shutdown.
[2022-08-21 14:59:20,981.981] INFO [4344087936] - Application shutdown complete.
[2022-08-21 14:59:20,981.981] INFO [4344087936] - Finished server process [22535]
[2022-08-21 14:59:21,557.557] INFO [4369253760] - Started server process [22546]
[2022-08-21 14:59:21,558.558] INFO [4369253760] - Waiting for application startup.
[2022-08-21 14:59:21,558.558] INFO [4369253760] - Application startup complete.
[2022-08-21 14:59:44,566.566] INFO [4369253760] - 127.0.0.1:52289 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 14:59:44,566.566] ERROR [4369253760] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 137, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 29, in send_mail
    print(_content.__table__.columns)
AttributeError: 'list' object has no attribute '__table__'
[2022-08-21 14:59:59,069.069] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 14:59:59,170.170] INFO [4369253760] - Shutting down
[2022-08-21 14:59:59,276.276] INFO [4369253760] - Waiting for application shutdown.
[2022-08-21 14:59:59,283.283] INFO [4369253760] - Application shutdown complete.
[2022-08-21 14:59:59,283.283] INFO [4369253760] - Finished server process [22546]
[2022-08-21 14:59:59,931.931] INFO [4338386304] - Started server process [22589]
[2022-08-21 14:59:59,931.931] INFO [4338386304] - Waiting for application startup.
[2022-08-21 14:59:59,931.931] INFO [4338386304] - Application startup complete.
[2022-08-21 15:00:01,183.183] INFO [4338386304] - 127.0.0.1:52293 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 15:00:01,183.183] ERROR [4338386304] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 137, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 32, in send_mail
    content = Content("text/plain", json.load(_content))
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py", line 293, in load
    return loads(fp.read(),
AttributeError: 'list' object has no attribute 'read'
[2022-08-21 15:00:13,470.470] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 15:00:13,558.558] INFO [4338386304] - Shutting down
[2022-08-21 15:00:13,660.660] INFO [4338386304] - Waiting for application shutdown.
[2022-08-21 15:00:13,660.660] INFO [4338386304] - Application shutdown complete.
[2022-08-21 15:00:13,660.660] INFO [4338386304] - Finished server process [22589]
[2022-08-21 15:00:14,236.236] INFO [4302570880] - Started server process [22610]
[2022-08-21 15:00:14,236.236] INFO [4302570880] - Waiting for application startup.
[2022-08-21 15:00:14,236.236] INFO [4302570880] - Application startup complete.
[2022-08-21 15:00:16,612.612] INFO [4302570880] - 127.0.0.1:52297 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 15:00:16,614.614] ERROR [4302570880] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 137, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 36, in send_mail
    response = self.sg.client.mail.send.post(request_body=mm.get())
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/python_http_client/client.py", line 277, in http_request
    self._make_request(opener, request, timeout=timeout)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/python_http_client/client.py", line 184, in _make_request
    raise exc
python_http_client.exceptions.BadRequestsError: HTTP Error 400: Bad Request
[2022-08-21 15:00:31,516.516] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 15:00:31,568.568] INFO [4302570880] - Shutting down
[2022-08-21 15:00:31,669.669] INFO [4302570880] - Waiting for application shutdown.
[2022-08-21 15:00:31,670.670] INFO [4302570880] - Application shutdown complete.
[2022-08-21 15:00:31,670.670] INFO [4302570880] - Finished server process [22610]
[2022-08-21 15:00:32,303.303] INFO [4333585792] - Started server process [22629]
[2022-08-21 15:00:32,303.303] INFO [4333585792] - Waiting for application startup.
[2022-08-21 15:00:32,303.303] INFO [4333585792] - Application startup complete.
[2022-08-21 15:00:33,997.997] INFO [4333585792] - 127.0.0.1:52302 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 500
[2022-08-21 15:00:33,999.999] ERROR [4333585792] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 137, in get_method
    data_to_return['email responses'] = sg_instance.send_mail(subject=EMAIL_SUBJECTS[_type], _content=data_to_return['query res'], is_all=True)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/api/models/models.py", line 36, in send_mail
    response = self.sg.client.mail.send.post(request_body=mm.get())
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/python_http_client/client.py", line 277, in http_request
    self._make_request(opener, request, timeout=timeout)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/python_http_client/client.py", line 184, in _make_request
    raise exc
python_http_client.exceptions.BadRequestsError: HTTP Error 400: Bad Request
[2022-08-21 15:00:56,714.714] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 15:00:56,756.756] INFO [4333585792] - Shutting down
[2022-08-21 15:00:56,858.858] INFO [4333585792] - Waiting for application shutdown.
[2022-08-21 15:00:56,859.859] INFO [4333585792] - Application shutdown complete.
[2022-08-21 15:00:56,859.859] INFO [4333585792] - Finished server process [22629]
[2022-08-21 15:00:57,430.430] INFO [4378428800] - Started server process [22658]
[2022-08-21 15:00:57,430.430] INFO [4378428800] - Waiting for application startup.
[2022-08-21 15:00:57,430.430] INFO [4378428800] - Application startup complete.
[2022-08-21 15:00:59,144.144] INFO [4378428800] - {'data': {'type': <ModelGET.three: 3>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x160a4e550>}}}
[2022-08-21 15:00:59,147.147] INFO [4378428800] - 127.0.0.1:52307 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 200
[2022-08-21 15:03:31,129.129] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 15:03:31,136.136] INFO [4378428800] - Shutting down
[2022-08-21 15:03:31,237.237] INFO [4378428800] - Waiting for application shutdown.
[2022-08-21 15:03:31,237.237] INFO [4378428800] - Application shutdown complete.
[2022-08-21 15:03:31,238.238] INFO [4378428800] - Finished server process [22658]
[2022-08-21 15:03:31,796.796] INFO [4309419392] - Started server process [22809]
[2022-08-21 15:03:31,796.796] INFO [4309419392] - Waiting for application startup.
[2022-08-21 15:03:31,796.796] INFO [4309419392] - Application startup complete.
[2022-08-21 15:03:42,850.850] INFO [4309419392] - {'data': {'type': <ModelGET.three: 3>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x121acb550>}}}
[2022-08-21 15:03:42,854.854] INFO [4309419392] - 127.0.0.1:52319 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az&acceptor_email=awd%40mail.ru&acceptor_email=awdd HTTP/1.1" 200
[2022-08-21 15:04:13,490.490] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 15:04:13,591.591] INFO [4309419392] - Shutting down
[2022-08-21 15:04:13,692.692] INFO [4309419392] - Waiting for application shutdown.
[2022-08-21 15:04:13,692.692] INFO [4309419392] - Application shutdown complete.
[2022-08-21 15:04:13,692.692] INFO [4309419392] - Finished server process [22809]
[2022-08-21 15:04:14,377.377] INFO [4334667136] - Started server process [22861]
[2022-08-21 15:04:14,377.377] INFO [4334667136] - Waiting for application startup.
[2022-08-21 15:04:14,377.377] INFO [4334667136] - Application startup complete.
[2022-08-21 15:05:07,820.820] INFO [4334667136] - 127.0.0.1:52325 - "GET /swagger HTTP/1.1" 200
[2022-08-21 15:05:08,019.019] INFO [4334667136] - 127.0.0.1:52325 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 15:05:24,577.577] INFO [4334667136] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x1137bcf10>}}}
[2022-08-21 15:05:24,579.579] INFO [4334667136] - 127.0.0.1:52326 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-21 15:05:41,531.531] WARNING [4303193472] - StatReload detected changes in 'db/services.py'. Reloading...
[2022-08-21 15:05:41,632.632] INFO [4334667136] - Shutting down
[2022-08-21 15:05:41,733.733] INFO [4334667136] - Waiting for application shutdown.
[2022-08-21 15:05:41,734.734] INFO [4334667136] - Application shutdown complete.
[2022-08-21 15:05:41,734.734] INFO [4334667136] - Finished server process [22861]
[2022-08-21 15:05:42,308.308] INFO [4372055424] - Started server process [22958]
[2022-08-21 15:05:42,308.308] INFO [4372055424] - Waiting for application startup.
[2022-08-21 15:05:42,308.308] INFO [4372055424] - Application startup complete.
[2022-08-21 15:05:54,673.673] INFO [4372055424] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x11d6af550>}}}
[2022-08-21 15:05:54,677.677] INFO [4372055424] - 127.0.0.1:52333 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-21 15:08:56,408.408] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-21 15:08:56,474.474] INFO [4372055424] - Shutting down
[2022-08-21 15:08:56,575.575] INFO [4372055424] - Waiting for application shutdown.
[2022-08-21 15:08:56,576.576] INFO [4372055424] - Application shutdown complete.
[2022-08-21 15:08:56,576.576] INFO [4372055424] - Finished server process [22958]
[2022-08-21 15:08:57,183.183] INFO [4333208960] - Started server process [23164]
[2022-08-21 15:08:57,183.183] INFO [4333208960] - Waiting for application startup.
[2022-08-21 15:08:57,183.183] INFO [4333208960] - Application startup complete.
[2022-08-21 15:10:01,541.541] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-21 15:10:01,623.623] INFO [4333208960] - Shutting down
[2022-08-21 15:10:01,723.723] INFO [4333208960] - Waiting for application shutdown.
[2022-08-21 15:10:01,723.723] INFO [4333208960] - Application shutdown complete.
[2022-08-21 15:10:01,724.724] INFO [4333208960] - Finished server process [23164]
[2022-08-21 15:10:02,251.251] INFO [4372694400] - Started server process [23245]
[2022-08-21 15:10:02,251.251] INFO [4372694400] - Waiting for application startup.
[2022-08-21 15:10:02,251.251] INFO [4372694400] - Application startup complete.
[2022-08-21 15:10:27,478.478] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-21 15:10:27,578.578] INFO [4372694400] - Shutting down
[2022-08-21 15:10:27,679.679] INFO [4372694400] - Waiting for application shutdown.
[2022-08-21 15:10:27,679.679] INFO [4372694400] - Application shutdown complete.
[2022-08-21 15:10:27,679.679] INFO [4372694400] - Finished server process [23245]
[2022-08-21 15:10:28,211.211] INFO [4306093440] - Started server process [23277]
[2022-08-21 15:10:28,214.214] INFO [4306093440] - Waiting for application startup.
[2022-08-21 15:10:28,214.214] INFO [4306093440] - Application startup complete.
[2022-08-21 15:12:22,463.463] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-21 15:12:22,512.512] INFO [4306093440] - Shutting down
[2022-08-21 15:12:22,613.613] INFO [4306093440] - Waiting for application shutdown.
[2022-08-21 15:12:22,614.614] INFO [4306093440] - Application shutdown complete.
[2022-08-21 15:12:22,614.614] INFO [4306093440] - Finished server process [23277]
[2022-08-21 15:12:23,234.234] INFO [4304356736] - Started server process [23411]
[2022-08-21 15:12:23,234.234] INFO [4304356736] - Waiting for application startup.
[2022-08-21 15:12:23,234.234] INFO [4304356736] - Application startup complete.
[2022-08-21 15:12:48,669.669] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-21 15:12:48,757.757] INFO [4304356736] - Shutting down
[2022-08-21 15:12:48,859.859] INFO [4304356736] - Waiting for application shutdown.
[2022-08-21 15:12:48,859.859] INFO [4304356736] - Application shutdown complete.
[2022-08-21 15:12:48,859.859] INFO [4304356736] - Finished server process [23411]
[2022-08-21 15:12:49,412.412] INFO [4341400960] - Started server process [23446]
[2022-08-21 15:12:49,412.412] INFO [4341400960] - Waiting for application startup.
[2022-08-21 15:12:49,412.412] INFO [4341400960] - Application startup complete.
[2022-08-21 15:13:20,545.545] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 15:13:20,631.631] INFO [4341400960] - Shutting down
[2022-08-21 15:13:20,733.733] INFO [4341400960] - Waiting for application shutdown.
[2022-08-21 15:13:20,734.734] INFO [4341400960] - Application shutdown complete.
[2022-08-21 15:13:20,734.734] INFO [4341400960] - Finished server process [23446]
[2022-08-21 15:13:21,411.411] INFO [4332651904] - Started server process [23481]
[2022-08-21 15:13:21,411.411] INFO [4332651904] - Waiting for application startup.
[2022-08-21 15:13:21,411.411] INFO [4332651904] - Application startup complete.
[2022-08-21 15:13:24,762.762] INFO [4332651904] - 127.0.0.1:52588 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string HTTP/1.1" 500
[2022-08-21 15:13:24,763.763] ERROR [4332651904] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 127, in get_method
    'query res': res.prefetch_cols(),
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/cursor.py", line 1612, in prefetch_cols
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Statement is not a compiled expression construct.
[2022-08-21 15:14:04,105.105] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 15:14:04,146.146] INFO [4332651904] - Shutting down
[2022-08-21 15:14:04,248.248] INFO [4332651904] - Waiting for application shutdown.
[2022-08-21 15:14:04,248.248] INFO [4332651904] - Application shutdown complete.
[2022-08-21 15:14:04,248.248] INFO [4332651904] - Finished server process [23481]
[2022-08-21 15:14:04,876.876] INFO [4301374848] - Started server process [23530]
[2022-08-21 15:14:04,876.876] INFO [4301374848] - Waiting for application startup.
[2022-08-21 15:14:04,877.877] INFO [4301374848] - Application startup complete.
[2022-08-21 15:14:46,287.287] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-21 15:14:46,336.336] INFO [4301374848] - Shutting down
[2022-08-21 15:14:46,437.437] INFO [4301374848] - Waiting for application shutdown.
[2022-08-21 15:14:46,437.437] INFO [4301374848] - Application shutdown complete.
[2022-08-21 15:14:46,437.437] INFO [4301374848] - Finished server process [23530]
[2022-08-21 15:14:46,985.985] INFO [4339369344] - Started server process [23588]
[2022-08-21 15:14:46,985.985] INFO [4339369344] - Waiting for application startup.
[2022-08-21 15:14:46,985.985] INFO [4339369344] - Application startup complete.
[2022-08-21 15:15:09,668.668] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-21 15:15:09,690.690] INFO [4339369344] - Shutting down
[2022-08-21 15:15:09,792.792] INFO [4339369344] - Waiting for application shutdown.
[2022-08-21 15:15:09,793.793] INFO [4339369344] - Application shutdown complete.
[2022-08-21 15:15:09,793.793] INFO [4339369344] - Finished server process [23588]
[2022-08-21 15:15:10,371.371] INFO [4342793600] - Started server process [23620]
[2022-08-21 15:15:10,371.371] INFO [4342793600] - Waiting for application startup.
[2022-08-21 15:15:10,371.371] INFO [4342793600] - Application startup complete.
[2022-08-21 15:16:10,742.742] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 15:16:10,806.806] INFO [4342793600] - Shutting down
[2022-08-21 15:16:10,908.908] INFO [4342793600] - Waiting for application shutdown.
[2022-08-21 15:16:10,908.908] INFO [4342793600] - Application shutdown complete.
[2022-08-21 15:16:10,908.908] INFO [4342793600] - Finished server process [23620]
[2022-08-21 15:16:11,468.468] INFO [4380542336] - Started server process [23682]
[2022-08-21 15:16:11,468.468] INFO [4380542336] - Waiting for application startup.
[2022-08-21 15:16:11,468.468] INFO [4380542336] - Application startup complete.
[2022-08-21 15:16:15,341.341] INFO [4380542336] - 127.0.0.1:52627 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=string HTTP/1.1" 400
[2022-08-21 15:16:24,966.966] INFO [4380542336] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['awdawfcaf@code.edu.az']}, 'query res': {'HEADER': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50'))], 'BODY': [('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}, 'email responses': {'SendGrid response': {'list of emails successfully sent': ['awdawfcaf@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x10fe8cb80>}}}
[2022-08-21 15:16:24,971.971] INFO [4380542336] - 127.0.0.1:52629 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=awdawfcaf%40code.edu.az HTTP/1.1" 200
[2022-08-21 15:16:46,300.300] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 15:16:46,400.400] INFO [4380542336] - Shutting down
[2022-08-21 15:16:46,502.502] INFO [4380542336] - Waiting for application shutdown.
[2022-08-21 15:16:46,502.502] INFO [4380542336] - Application shutdown complete.
[2022-08-21 15:16:46,502.502] INFO [4380542336] - Finished server process [23682]
[2022-08-21 15:16:47,046.046] INFO [4373628288] - Started server process [23728]
[2022-08-21 15:16:47,046.046] INFO [4373628288] - Waiting for application startup.
[2022-08-21 15:16:47,046.046] INFO [4373628288] - Application startup complete.
[2022-08-21 15:16:51,654.654] INFO [4373628288] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['awdawfcaf@code.edu.az']}, 'query res': {'HEADER': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63'))], 'BODY': [('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))]}, 'email responses': {'SendGrid response': {'list of emails successfully sent': ['awdawfcaf@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x11c66f5e0>}}}
[2022-08-21 15:16:51,657.657] INFO [4373628288] - 127.0.0.1:52635 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=awdawfcaf%40code.edu.az HTTP/1.1" 200
[2022-08-21 15:17:21,562.562] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 15:17:21,566.566] INFO [4373628288] - Shutting down
[2022-08-21 15:17:21,668.668] INFO [4373628288] - Waiting for application shutdown.
[2022-08-21 15:17:21,672.672] INFO [4373628288] - Application shutdown complete.
[2022-08-21 15:17:21,673.673] INFO [4373628288] - Finished server process [23728]
[2022-08-21 15:17:22,243.243] INFO [4373988736] - Started server process [23767]
[2022-08-21 15:17:22,243.243] INFO [4373988736] - Waiting for application startup.
[2022-08-21 15:17:22,243.243] INFO [4373988736] - Application startup complete.
[2022-08-21 19:58:08,861.861] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 19:58:08,931.931] INFO [4373988736] - Shutting down
[2022-08-21 19:58:09,034.034] INFO [4373988736] - Waiting for application shutdown.
[2022-08-21 19:58:09,037.037] INFO [4373988736] - Application shutdown complete.
[2022-08-21 19:58:09,037.037] INFO [4373988736] - Finished server process [23767]
[2022-08-21 19:58:09,596.596] INFO [4336567680] - Started server process [25903]
[2022-08-21 19:58:09,596.596] INFO [4336567680] - Waiting for application startup.
[2022-08-21 19:58:09,597.597] INFO [4336567680] - Application startup complete.
[2022-08-21 19:58:21,643.643] INFO [4336567680] - 127.0.0.1:53224 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=awdawfcaf%40code.edu.az HTTP/1.1" 500
[2022-08-21 19:58:21,644.644] ERROR [4336567680] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 128, in get_method
    "BODY": res.fetchall()
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/result.py", line 1058, in fetchall
    return self._allrows()
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/result.py", line 401, in _allrows
    rows = self._fetchall_impl()
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/cursor.py", line 1805, in _fetchall_impl
    return self.cursor_strategy.fetchall(self, self.cursor)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/cursor.py", line 873, in fetchall
    return self._non_result(result, [])
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/cursor.py", line 894, in _non_result
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
sqlalchemy.exc.ResourceClosedError: This result object is closed.
[2022-08-21 20:00:31,099.099] INFO [4336567680] - 127.0.0.1:53230 - "GET /swagger HTTP/1.1" 200
[2022-08-21 20:00:31,264.264] INFO [4336567680] - 127.0.0.1:53230 - "GET /openapi.json HTTP/1.1" 200
[2022-08-21 20:00:51,459.459] INFO [4336567680] - 127.0.0.1:53231 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 500
[2022-08-21 20:00:51,459.459] ERROR [4336567680] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 128, in get_method
    "BODY": res.fetchall()
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/result.py", line 1058, in fetchall
    return self._allrows()
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/result.py", line 401, in _allrows
    rows = self._fetchall_impl()
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/cursor.py", line 1805, in _fetchall_impl
    return self.cursor_strategy.fetchall(self, self.cursor)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/cursor.py", line 873, in fetchall
    return self._non_result(result, [])
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/engine/cursor.py", line 894, in _non_result
    util.raise_(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 208, in raise_
    raise exception
sqlalchemy.exc.ResourceClosedError: This result object is closed.
[2022-08-21 20:01:15,914.914] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 20:01:15,915.915] INFO [4336567680] - Shutting down
[2022-08-21 20:01:16,016.016] INFO [4336567680] - Waiting for application shutdown.
[2022-08-21 20:01:16,016.016] INFO [4336567680] - Application shutdown complete.
[2022-08-21 20:01:16,016.016] INFO [4336567680] - Finished server process [25903]
[2022-08-21 20:01:16,592.592] INFO [4370679168] - Started server process [26097]
[2022-08-21 20:01:16,593.593] INFO [4370679168] - Waiting for application startup.
[2022-08-21 20:01:16,593.593] INFO [4370679168] - Application startup complete.
[2022-08-21 20:01:20,253.253] INFO [4370679168] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': {'HEADER': ('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63'))}, 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x12cb4f550>}}}
[2022-08-21 20:01:20,255.255] INFO [4370679168] - 127.0.0.1:53237 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-21 20:03:18,328.328] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 20:03:18,343.343] INFO [4370679168] - Shutting down
[2022-08-21 20:03:18,446.446] INFO [4370679168] - Waiting for application shutdown.
[2022-08-21 20:03:18,447.447] INFO [4370679168] - Application shutdown complete.
[2022-08-21 20:03:18,447.447] INFO [4370679168] - Finished server process [26097]
[2022-08-21 20:16:11,322.322] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 20:16:11,805.805] INFO [4371727744] - Started server process [26942]
[2022-08-21 20:16:11,805.805] INFO [4371727744] - Waiting for application startup.
[2022-08-21 20:16:11,805.805] INFO [4371727744] - Application startup complete.
[2022-08-21 20:22:28,925.925] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 20:22:28,992.992] INFO [4371727744] - Shutting down
[2022-08-21 20:22:29,093.093] INFO [4371727744] - Waiting for application shutdown.
[2022-08-21 20:22:29,094.094] INFO [4371727744] - Application shutdown complete.
[2022-08-21 20:22:29,094.094] INFO [4371727744] - Finished server process [26942]
[2022-08-21 20:22:29,643.643] INFO [4310697344] - Started server process [27294]
[2022-08-21 20:22:29,643.643] INFO [4310697344] - Waiting for application startup.
[2022-08-21 20:22:29,644.644] INFO [4310697344] - Application startup complete.
[2022-08-21 20:24:15,881.881] INFO [4310697344] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x121cb05e0>}}}
[2022-08-21 20:24:15,884.884] INFO [4310697344] - 127.0.0.1:53306 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-21 20:27:56,838.838] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 20:27:56,878.878] INFO [4310697344] - Shutting down
[2022-08-21 20:27:56,980.980] INFO [4310697344] - Waiting for application shutdown.
[2022-08-21 20:27:56,982.982] INFO [4310697344] - Application shutdown complete.
[2022-08-21 20:27:56,982.982] INFO [4310697344] - Finished server process [27294]
[2022-08-21 20:27:57,657.657] INFO [4367517056] - Started server process [27662]
[2022-08-21 20:27:57,657.657] INFO [4367517056] - Waiting for application startup.
[2022-08-21 20:27:57,657.657] INFO [4367517056] - Application startup complete.
[2022-08-21 20:28:06,587.587] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 20:28:06,671.671] INFO [4367517056] - Shutting down
[2022-08-21 20:28:06,772.772] INFO [4367517056] - Waiting for application shutdown.
[2022-08-21 20:28:06,772.772] INFO [4367517056] - Application shutdown complete.
[2022-08-21 20:28:06,772.772] INFO [4367517056] - Finished server process [27662]
[2022-08-21 20:28:16,623.623] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-21 20:28:17,129.129] INFO [4347708800] - Started server process [27691]
[2022-08-21 20:28:17,130.130] INFO [4347708800] - Waiting for application startup.
[2022-08-21 20:28:17,130.130] INFO [4347708800] - Application startup complete.
[2022-08-21 20:29:05,843.843] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 20:29:05,943.943] INFO [4347708800] - Shutting down
[2022-08-21 20:29:06,045.045] INFO [4347708800] - Waiting for application shutdown.
[2022-08-21 20:29:06,045.045] INFO [4347708800] - Application shutdown complete.
[2022-08-21 20:29:06,045.045] INFO [4347708800] - Finished server process [27691]
[2022-08-21 20:29:15,096.096] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 20:29:15,611.611] INFO [4336747904] - Started server process [27756]
[2022-08-21 20:29:15,611.611] INFO [4336747904] - Waiting for application startup.
[2022-08-21 20:29:15,612.612] INFO [4336747904] - Application startup complete.
[2022-08-21 20:29:28,950.950] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 20:29:28,998.998] INFO [4336747904] - Shutting down
[2022-08-21 20:29:29,099.099] INFO [4336747904] - Waiting for application shutdown.
[2022-08-21 20:29:29,100.100] INFO [4336747904] - Application shutdown complete.
[2022-08-21 20:29:29,100.100] INFO [4336747904] - Finished server process [27756]
[2022-08-21 20:29:29,630.630] INFO [4305782144] - Started server process [27780]
[2022-08-21 20:29:29,630.630] INFO [4305782144] - Waiting for application startup.
[2022-08-21 20:29:29,630.630] INFO [4305782144] - Application startup complete.
[2022-08-21 20:29:36,304.304] INFO [4305782144] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x11fdae550>}}}
[2022-08-21 20:29:36,307.307] INFO [4305782144] - 127.0.0.1:53583 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-21 20:30:09,634.634] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 20:30:09,657.657] INFO [4305782144] - Shutting down
[2022-08-21 20:30:09,759.759] INFO [4305782144] - Waiting for application shutdown.
[2022-08-21 20:30:09,759.759] INFO [4305782144] - Application shutdown complete.
[2022-08-21 20:30:09,759.759] INFO [4305782144] - Finished server process [27780]
[2022-08-21 20:30:10,351.351] INFO [4380591488] - Started server process [27822]
[2022-08-21 20:30:10,352.352] INFO [4380591488] - Waiting for application startup.
[2022-08-21 20:30:10,352.352] INFO [4380591488] - Application startup complete.
[2022-08-21 20:30:14,089.089] INFO [4380591488] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x1266ce550>}}}
[2022-08-21 20:30:14,093.093] INFO [4380591488] - 127.0.0.1:53588 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-21 20:30:58,729.729] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 20:30:58,815.815] INFO [4380591488] - Shutting down
[2022-08-21 20:30:58,920.920] INFO [4380591488] - Waiting for application shutdown.
[2022-08-21 20:30:58,926.926] INFO [4380591488] - Application shutdown complete.
[2022-08-21 20:30:58,926.926] INFO [4380591488] - Finished server process [27822]
[2022-08-21 20:30:59,459.459] INFO [4310697344] - Started server process [27903]
[2022-08-21 20:30:59,459.459] INFO [4310697344] - Waiting for application startup.
[2022-08-21 20:30:59,459.459] INFO [4310697344] - Application startup complete.
[2022-08-21 20:31:34,979.979] INFO [4310697344] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x1346ddb80>}}}
[2022-08-21 20:31:34,982.982] INFO [4310697344] - 127.0.0.1:53594 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-21 20:33:23,539.539] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-21 20:33:23,630.630] INFO [4310697344] - Shutting down
[2022-08-21 20:33:23,732.732] INFO [4310697344] - Waiting for application shutdown.
[2022-08-21 20:33:23,733.733] INFO [4310697344] - Application shutdown complete.
[2022-08-21 20:33:23,733.733] INFO [4310697344] - Finished server process [27903]
[2022-08-21 20:33:24,263.263] INFO [4342433152] - Started server process [28057]
[2022-08-21 20:33:24,264.264] INFO [4342433152] - Waiting for application startup.
[2022-08-21 20:33:24,264.264] INFO [4342433152] - Application startup complete.
[2022-08-21 20:33:27,121.121] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-21 20:33:27,202.202] INFO [4342433152] - Shutting down
[2022-08-21 20:33:27,304.304] INFO [4342433152] - Waiting for application shutdown.
[2022-08-21 20:33:27,305.305] INFO [4342433152] - Application shutdown complete.
[2022-08-21 20:33:27,305.305] INFO [4342433152] - Finished server process [28057]
[2022-08-21 20:33:27,850.850] INFO [4345398656] - Started server process [28074]
[2022-08-21 20:33:27,850.850] INFO [4345398656] - Waiting for application startup.
[2022-08-21 20:33:27,851.851] INFO [4345398656] - Application startup complete.
[2022-08-22 01:15:28,607.607] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:15:28,687.687] INFO [4345398656] - Shutting down
[2022-08-22 01:15:28,788.788] INFO [4345398656] - Waiting for application shutdown.
[2022-08-22 01:15:28,788.788] INFO [4345398656] - Application shutdown complete.
[2022-08-22 01:15:28,788.788] INFO [4345398656] - Finished server process [28074]
[2022-08-22 01:15:29,394.394] INFO [4380984704] - Started server process [28452]
[2022-08-22 01:15:29,394.394] INFO [4380984704] - Waiting for application startup.
[2022-08-22 01:15:29,394.394] INFO [4380984704] - Application startup complete.
[2022-08-22 01:16:10,549.549] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:16:10,556.556] INFO [4380984704] - Shutting down
[2022-08-22 01:16:10,656.656] INFO [4380984704] - Waiting for application shutdown.
[2022-08-22 01:16:10,657.657] INFO [4380984704] - Application shutdown complete.
[2022-08-22 01:16:10,657.657] INFO [4380984704] - Finished server process [28452]
[2022-08-22 01:16:11,196.196] INFO [4339664256] - Started server process [28507]
[2022-08-22 01:16:11,196.196] INFO [4339664256] - Waiting for application startup.
[2022-08-22 01:16:11,196.196] INFO [4339664256] - Application startup complete.
[2022-08-22 01:16:32,869.869] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:16:32,878.878] INFO [4339664256] - Shutting down
[2022-08-22 01:16:32,979.979] INFO [4339664256] - Waiting for application shutdown.
[2022-08-22 01:16:32,980.980] INFO [4339664256] - Application shutdown complete.
[2022-08-22 01:16:32,980.980] INFO [4339664256] - Finished server process [28507]
[2022-08-22 01:16:33,570.570] INFO [4364961152] - Started server process [28532]
[2022-08-22 01:16:33,570.570] INFO [4364961152] - Waiting for application startup.
[2022-08-22 01:16:33,570.570] INFO [4364961152] - Application startup complete.
[2022-08-22 01:16:34,588.588] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:16:34,684.684] INFO [4364961152] - Shutting down
[2022-08-22 01:16:34,786.786] INFO [4364961152] - Waiting for application shutdown.
[2022-08-22 01:16:34,786.786] INFO [4364961152] - Application shutdown complete.
[2022-08-22 01:16:34,786.786] INFO [4364961152] - Finished server process [28532]
[2022-08-22 01:16:35,350.350] INFO [4371400064] - Started server process [28540]
[2022-08-22 01:16:35,350.350] INFO [4371400064] - Waiting for application startup.
[2022-08-22 01:16:35,350.350] INFO [4371400064] - Application startup complete.
[2022-08-22 01:16:53,945.945] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:16:53,990.990] INFO [4371400064] - Shutting down
[2022-08-22 01:16:54,093.093] INFO [4371400064] - Waiting for application shutdown.
[2022-08-22 01:16:54,093.093] INFO [4371400064] - Application shutdown complete.
[2022-08-22 01:16:54,094.094] INFO [4371400064] - Finished server process [28540]
[2022-08-22 01:16:54,707.707] INFO [4302095744] - Started server process [28563]
[2022-08-22 01:16:54,707.707] INFO [4302095744] - Waiting for application startup.
[2022-08-22 01:16:54,707.707] INFO [4302095744] - Application startup complete.
[2022-08-22 01:20:52,671.671] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:20:52,705.705] INFO [4302095744] - Shutting down
[2022-08-22 01:20:52,807.807] INFO [4302095744] - Waiting for application shutdown.
[2022-08-22 01:20:52,807.807] INFO [4302095744] - Application shutdown complete.
[2022-08-22 01:20:52,807.807] INFO [4302095744] - Finished server process [28563]
[2022-08-22 01:20:53,513.513] INFO [4346709376] - Started server process [28849]
[2022-08-22 01:20:53,514.514] INFO [4346709376] - Waiting for application startup.
[2022-08-22 01:20:53,514.514] INFO [4346709376] - Application startup complete.
[2022-08-22 01:22:05,260.260] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:22:05,289.289] INFO [4346709376] - Shutting down
[2022-08-22 01:22:05,390.390] INFO [4346709376] - Waiting for application shutdown.
[2022-08-22 01:22:05,391.391] INFO [4346709376] - Application shutdown complete.
[2022-08-22 01:22:05,391.391] INFO [4346709376] - Finished server process [28849]
[2022-08-22 01:22:06,186.186] INFO [4297655680] - Started server process [28914]
[2022-08-22 01:22:06,186.186] INFO [4297655680] - Waiting for application startup.
[2022-08-22 01:22:06,186.186] INFO [4297655680] - Application startup complete.
[2022-08-22 01:24:23,856.856] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:24:23,887.887] INFO [4297655680] - Shutting down
[2022-08-22 01:24:23,988.988] INFO [4297655680] - Waiting for application shutdown.
[2022-08-22 01:24:23,988.988] INFO [4297655680] - Application shutdown complete.
[2022-08-22 01:24:23,988.988] INFO [4297655680] - Finished server process [28914]
[2022-08-22 01:24:24,589.589] INFO [4338025856] - Started server process [29060]
[2022-08-22 01:24:24,589.589] INFO [4338025856] - Waiting for application startup.
[2022-08-22 01:24:24,589.589] INFO [4338025856] - Application startup complete.
[2022-08-22 01:25:02,979.979] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:25:03,022.022] INFO [4338025856] - Shutting down
[2022-08-22 01:25:03,124.124] INFO [4338025856] - Waiting for application shutdown.
[2022-08-22 01:25:03,124.124] INFO [4338025856] - Application shutdown complete.
[2022-08-22 01:25:03,125.125] INFO [4338025856] - Finished server process [29060]
[2022-08-22 01:25:03,663.663] INFO [4341106048] - Started server process [29103]
[2022-08-22 01:25:03,664.664] INFO [4341106048] - Waiting for application startup.
[2022-08-22 01:25:03,664.664] INFO [4341106048] - Application startup complete.
[2022-08-22 01:25:40,590.590] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:25:40,665.665] INFO [4341106048] - Shutting down
[2022-08-22 01:25:40,766.766] INFO [4341106048] - Waiting for application shutdown.
[2022-08-22 01:25:40,767.767] INFO [4341106048] - Application shutdown complete.
[2022-08-22 01:25:40,767.767] INFO [4341106048] - Finished server process [29103]
[2022-08-22 01:25:41,294.294] INFO [4298507648] - Started server process [29135]
[2022-08-22 01:25:41,294.294] INFO [4298507648] - Waiting for application startup.
[2022-08-22 01:25:41,294.294] INFO [4298507648] - Application startup complete.
[2022-08-22 01:26:17,429.429] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:26:17,480.480] INFO [4298507648] - Shutting down
[2022-08-22 01:26:17,582.582] INFO [4298507648] - Waiting for application shutdown.
[2022-08-22 01:26:17,582.582] INFO [4298507648] - Application shutdown complete.
[2022-08-22 01:26:17,582.582] INFO [4298507648] - Finished server process [29135]
[2022-08-22 01:26:18,130.130] INFO [4308698496] - Started server process [29172]
[2022-08-22 01:26:18,131.131] INFO [4308698496] - Waiting for application startup.
[2022-08-22 01:26:18,131.131] INFO [4308698496] - Application startup complete.
[2022-08-22 01:26:53,638.638] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:26:53,685.685] INFO [4308698496] - Shutting down
[2022-08-22 01:26:53,787.787] INFO [4308698496] - Waiting for application shutdown.
[2022-08-22 01:26:53,787.787] INFO [4308698496] - Application shutdown complete.
[2022-08-22 01:26:53,787.787] INFO [4308698496] - Finished server process [29172]
[2022-08-22 01:26:54,304.304] INFO [4306437504] - Started server process [29216]
[2022-08-22 01:26:54,304.304] INFO [4306437504] - Waiting for application startup.
[2022-08-22 01:26:54,304.304] INFO [4306437504] - Application startup complete.
[2022-08-22 01:27:14,404.404] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:27:14,460.460] INFO [4306437504] - Shutting down
[2022-08-22 01:27:14,562.562] INFO [4306437504] - Waiting for application shutdown.
[2022-08-22 01:27:14,562.562] INFO [4306437504] - Application shutdown complete.
[2022-08-22 01:27:14,562.562] INFO [4306437504] - Finished server process [29216]
[2022-08-22 01:27:15,163.163] INFO [4377380224] - Started server process [29248]
[2022-08-22 01:27:15,163.163] INFO [4377380224] - Waiting for application startup.
[2022-08-22 01:27:15,163.163] INFO [4377380224] - Application startup complete.
[2022-08-22 01:27:40,113.113] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:27:40,200.200] INFO [4377380224] - Shutting down
[2022-08-22 01:27:40,302.302] INFO [4377380224] - Waiting for application shutdown.
[2022-08-22 01:27:40,304.304] INFO [4377380224] - Application shutdown complete.
[2022-08-22 01:27:40,304.304] INFO [4377380224] - Finished server process [29248]
[2022-08-22 01:27:40,857.857] INFO [4374578560] - Started server process [29285]
[2022-08-22 01:27:40,857.857] INFO [4374578560] - Waiting for application startup.
[2022-08-22 01:27:40,857.857] INFO [4374578560] - Application startup complete.
[2022-08-22 01:27:52,464.464] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:27:52,504.504] INFO [4374578560] - Shutting down
[2022-08-22 01:27:52,605.605] INFO [4374578560] - Waiting for application shutdown.
[2022-08-22 01:27:52,605.605] INFO [4374578560] - Application shutdown complete.
[2022-08-22 01:27:52,605.605] INFO [4374578560] - Finished server process [29285]
[2022-08-22 01:27:53,112.112] INFO [4368516480] - Started server process [29309]
[2022-08-22 01:27:53,112.112] INFO [4368516480] - Waiting for application startup.
[2022-08-22 01:27:53,113.113] INFO [4368516480] - Application startup complete.
[2022-08-22 01:28:19,436.436] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:28:19,461.461] INFO [4368516480] - Shutting down
[2022-08-22 01:28:19,562.562] INFO [4368516480] - Waiting for application shutdown.
[2022-08-22 01:28:19,562.562] INFO [4368516480] - Application shutdown complete.
[2022-08-22 01:28:19,562.562] INFO [4368516480] - Finished server process [29309]
[2022-08-22 01:28:20,101.101] INFO [4342023552] - Started server process [29339]
[2022-08-22 01:28:20,101.101] INFO [4342023552] - Waiting for application startup.
[2022-08-22 01:28:20,101.101] INFO [4342023552] - Application startup complete.
[2022-08-22 01:28:30,639.639] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:28:30,738.738] INFO [4342023552] - Shutting down
[2022-08-22 01:28:30,840.840] INFO [4342023552] - Waiting for application shutdown.
[2022-08-22 01:28:30,840.840] INFO [4342023552] - Application shutdown complete.
[2022-08-22 01:28:30,840.840] INFO [4342023552] - Finished server process [29339]
[2022-08-22 01:28:31,386.386] INFO [4372432256] - Started server process [29353]
[2022-08-22 01:28:31,386.386] INFO [4372432256] - Waiting for application startup.
[2022-08-22 01:28:31,386.386] INFO [4372432256] - Application startup complete.
[2022-08-22 01:28:40,139.139] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:28:40,204.204] INFO [4372432256] - Shutting down
[2022-08-22 01:28:40,306.306] INFO [4372432256] - Waiting for application shutdown.
[2022-08-22 01:28:40,306.306] INFO [4372432256] - Application shutdown complete.
[2022-08-22 01:28:40,306.306] INFO [4372432256] - Finished server process [29353]
[2022-08-22 01:28:40,941.941] INFO [4375807360] - Started server process [29366]
[2022-08-22 01:28:40,941.941] INFO [4375807360] - Waiting for application startup.
[2022-08-22 01:28:40,941.941] INFO [4375807360] - Application startup complete.
[2022-08-22 01:29:55,344.344] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:29:55,426.426] INFO [4375807360] - Shutting down
[2022-08-22 01:29:55,529.529] INFO [4375807360] - Waiting for application shutdown.
[2022-08-22 01:29:55,530.530] INFO [4375807360] - Application shutdown complete.
[2022-08-22 01:29:55,530.530] INFO [4375807360] - Finished server process [29366]
[2022-08-22 01:29:56,111.111] INFO [4343498112] - Started server process [29437]
[2022-08-22 01:29:56,111.111] INFO [4343498112] - Waiting for application startup.
[2022-08-22 01:29:56,112.112] INFO [4343498112] - Application startup complete.
[2022-08-22 01:31:07,817.817] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:31:07,905.905] INFO [4343498112] - Shutting down
[2022-08-22 01:31:08,007.007] INFO [4343498112] - Waiting for application shutdown.
[2022-08-22 01:31:08,008.008] INFO [4343498112] - Application shutdown complete.
[2022-08-22 01:31:08,008.008] INFO [4343498112] - Finished server process [29437]
[2022-08-22 01:31:08,534.534] INFO [4345070976] - Started server process [29522]
[2022-08-22 01:31:08,535.535] INFO [4345070976] - Waiting for application startup.
[2022-08-22 01:31:08,535.535] INFO [4345070976] - Application startup complete.
[2022-08-22 01:32:21,612.612] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:32:21,619.619] INFO [4345070976] - Shutting down
[2022-08-22 01:32:21,721.721] INFO [4345070976] - Waiting for application shutdown.
[2022-08-22 01:32:21,721.721] INFO [4345070976] - Application shutdown complete.
[2022-08-22 01:32:21,721.721] INFO [4345070976] - Finished server process [29522]
[2022-08-22 01:32:22,240.240] INFO [4339385728] - Started server process [29597]
[2022-08-22 01:32:22,241.241] INFO [4339385728] - Waiting for application startup.
[2022-08-22 01:32:22,241.241] INFO [4339385728] - Application startup complete.
[2022-08-22 01:32:50,142.142] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:32:50,214.214] INFO [4339385728] - Shutting down
[2022-08-22 01:32:50,316.316] INFO [4339385728] - Waiting for application shutdown.
[2022-08-22 01:32:50,316.316] INFO [4339385728] - Application shutdown complete.
[2022-08-22 01:32:50,316.316] INFO [4339385728] - Finished server process [29597]
[2022-08-22 01:32:50,828.828] INFO [4331242880] - Started server process [29632]
[2022-08-22 01:32:50,828.828] INFO [4331242880] - Waiting for application startup.
[2022-08-22 01:32:50,828.828] INFO [4331242880] - Application startup complete.
[2022-08-22 01:33:00,924.924] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:33:00,961.961] INFO [4331242880] - Shutting down
[2022-08-22 01:33:01,063.063] INFO [4331242880] - Waiting for application shutdown.
[2022-08-22 01:33:01,064.064] INFO [4331242880] - Application shutdown complete.
[2022-08-22 01:33:01,065.065] INFO [4331242880] - Finished server process [29632]
[2022-08-22 01:33:01,688.688] INFO [4309403008] - Started server process [29645]
[2022-08-22 01:33:01,688.688] INFO [4309403008] - Waiting for application startup.
[2022-08-22 01:33:01,688.688] INFO [4309403008] - Application startup complete.
[2022-08-22 01:34:48,181.181] INFO [4309403008] - {'data': {'type': <ModelGET.two: 2>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('France', Decimal('240931.00'), Decimal('26081674.50'), Decimal('1727502.22'), Decimal('3781020.78')), ('Germany', Decimal('201494.00'), Decimal('24921467.50'), Decimal('1416126.68'), Decimal('3680388.82')), ('United States of America', Decimal('232627.50'), Decimal('27269358.00'), Decimal('2239527.84'), Decimal('2995540.67')), ('Mexico', Decimal('203325.00'), Decimal('22726935.00'), Decimal('1777582.89'), Decimal('2907523.11')), ('Canada', Decimal('247428.50'), Decimal('26932163.50'), Decimal('2044508.62'), Decimal('3529228.89'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x1266645e0>}}}
[2022-08-22 01:34:48,200.200] INFO [4309403008] - 127.0.0.1:54252 - "GET /SendReport/GET?_type=2&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-22 01:35:09,015.015] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:35:09,113.113] INFO [4309403008] - Shutting down
[2022-08-22 01:35:09,214.214] INFO [4309403008] - Waiting for application shutdown.
[2022-08-22 01:35:09,214.214] INFO [4309403008] - Application shutdown complete.
[2022-08-22 01:35:09,214.214] INFO [4309403008] - Finished server process [29645]
[2022-08-22 01:35:09,793.793] INFO [4312302976] - Started server process [29786]
[2022-08-22 01:35:09,793.793] INFO [4312302976] - Waiting for application startup.
[2022-08-22 01:35:09,793.793] INFO [4312302976] - Application startup complete.
[2022-08-22 01:35:25,287.287] INFO [4312302976] - {'data': {'type': <ModelGET.three: 3>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Amarilla', Decimal('155315.00'), Decimal('19037279.50'), Decimal('1290163.44'), Decimal('2814104.06')), ('Carretera', Decimal('146846.00'), Decimal('14937520.50'), Decimal('1122212.62'), Decimal('1826804.89')), ('Montana', Decimal('154198.00'), Decimal('16549834.50'), Decimal('1159032.62'), Decimal('2114754.88')), ('Velo', Decimal('162424.50'), Decimal('19826768.50'), Decimal('1576709.04'), Decimal('2305992.47')), ('Paseo', Decimal('338239.50'), Decimal('35611662.00'), Decimal('2600518.05'), Decimal('4797437.95')), ('VTT', Decimal('168783.00'), Decimal('21968533.50'), Decimal('1456612.48'), Decimal('3034608.02'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x121def550>}}}
[2022-08-22 01:35:25,291.291] INFO [4312302976] - 127.0.0.1:54258 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-22 01:38:05,332.332] WARNING [4303193472] - StatReload detected changes in 'api/const/constants.py'. Reloading...
[2022-08-22 01:38:05,348.348] INFO [4312302976] - Shutting down
[2022-08-22 01:38:05,450.450] INFO [4312302976] - Waiting for application shutdown.
[2022-08-22 01:38:05,450.450] INFO [4312302976] - Application shutdown complete.
[2022-08-22 01:38:05,450.450] INFO [4312302976] - Finished server process [29786]
[2022-08-22 01:38:05,986.986] INFO [4366484864] - Started server process [29959]
[2022-08-22 01:38:05,986.986] INFO [4366484864] - Waiting for application startup.
[2022-08-22 01:38:05,986.986] INFO [4366484864] - Application startup complete.
[2022-08-22 01:38:17,063.063] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:38:17,133.133] INFO [4366484864] - Shutting down
[2022-08-22 01:38:17,234.234] INFO [4366484864] - Waiting for application shutdown.
[2022-08-22 01:38:17,234.234] INFO [4366484864] - Application shutdown complete.
[2022-08-22 01:38:17,234.234] INFO [4366484864] - Finished server process [29959]
[2022-08-22 01:38:17,808.808] INFO [4299818368] - Started server process [29977]
[2022-08-22 01:38:17,808.808] INFO [4299818368] - Waiting for application startup.
[2022-08-22 01:38:17,808.808] INFO [4299818368] - Application startup complete.
[2022-08-22 01:38:53,250.250] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:38:53,273.273] INFO [4299818368] - Shutting down
[2022-08-22 01:38:53,374.374] INFO [4299818368] - Waiting for application shutdown.
[2022-08-22 01:38:53,375.375] INFO [4299818368] - Application shutdown complete.
[2022-08-22 01:38:53,375.375] INFO [4299818368] - Finished server process [29977]
[2022-08-22 01:38:54,037.037] INFO [4369892736] - Started server process [30021]
[2022-08-22 01:38:54,037.037] INFO [4369892736] - Waiting for application startup.
[2022-08-22 01:38:54,037.037] INFO [4369892736] - Application startup complete.
[2022-08-22 01:39:08,083.083] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:39:08,119.119] INFO [4369892736] - Shutting down
[2022-08-22 01:39:08,221.221] INFO [4369892736] - Waiting for application shutdown.
[2022-08-22 01:39:08,221.221] INFO [4369892736] - Application shutdown complete.
[2022-08-22 01:39:08,221.221] INFO [4369892736] - Finished server process [30021]
[2022-08-22 01:39:08,833.833] INFO [4336977280] - Started server process [30040]
[2022-08-22 01:39:08,833.833] INFO [4336977280] - Waiting for application startup.
[2022-08-22 01:39:08,833.833] INFO [4336977280] - Application startup complete.
[2022-08-22 01:39:56,226.226] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:39:56,230.230] INFO [4336977280] - Shutting down
[2022-08-22 01:39:56,332.332] INFO [4336977280] - Waiting for application shutdown.
[2022-08-22 01:39:56,332.332] INFO [4336977280] - Application shutdown complete.
[2022-08-22 01:39:56,332.332] INFO [4336977280] - Finished server process [30040]
[2022-08-22 01:40:33,495.495] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:40:39,632.632] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:41:01,458.458] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:41:42,436.436] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:41:48,080.080] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:41:57,296.296] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:42:23,779.779] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:45:34,561.561] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:51:34,578.578] WARNING [4303193472] - StatReload detected changes in 'api/models/models.py'. Reloading...
[2022-08-22 01:51:54,606.606] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:52:19,730.730] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:52:32,831.831] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:52:33,343.343] INFO [4333651328] - Started server process [31201]
[2022-08-22 01:52:33,344.344] INFO [4333651328] - Waiting for application startup.
[2022-08-22 01:52:33,344.344] INFO [4333651328] - Application startup complete.
[2022-08-22 01:52:53,347.347] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:52:53,393.393] INFO [4333651328] - Shutting down
[2022-08-22 01:52:53,494.494] INFO [4333651328] - Waiting for application shutdown.
[2022-08-22 01:52:53,494.494] INFO [4333651328] - Application shutdown complete.
[2022-08-22 01:52:53,494.494] INFO [4333651328] - Finished server process [31201]
[2022-08-22 01:53:18,177.177] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:53:23,784.784] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:53:41,716.716] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:53:42,297.297] INFO [4302243200] - Started server process [31287]
[2022-08-22 01:53:42,297.297] INFO [4302243200] - Waiting for application startup.
[2022-08-22 01:53:42,298.298] INFO [4302243200] - Application startup complete.
[2022-08-22 01:54:00,731.731] INFO [4302243200] - 127.0.0.1:54678 - "GET /SendReport/GET?_type=4&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 500
[2022-08-22 01:54:00,732.732] ERROR [4302243200] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 116, in get_method
    res: sqlalchemy = services.queries(start_date=start_date,
AttributeError: module 'api.models.services' has no attribute 'queries'
[2022-08-22 01:54:47,764.764] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:54:47,846.846] INFO [4302243200] - Shutting down
[2022-08-22 01:54:47,947.947] INFO [4302243200] - Waiting for application shutdown.
[2022-08-22 01:54:47,947.947] INFO [4302243200] - Application shutdown complete.
[2022-08-22 01:54:47,947.947] INFO [4302243200] - Finished server process [31287]
[2022-08-22 01:54:48,521.521] INFO [4370531712] - Started server process [31358]
[2022-08-22 01:54:48,521.521] INFO [4370531712] - Waiting for application startup.
[2022-08-22 01:54:48,521.521] INFO [4370531712] - Application startup complete.
[2022-08-22 01:54:58,763.763] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:54:58,846.846] INFO [4370531712] - Shutting down
[2022-08-22 01:54:58,949.949] INFO [4370531712] - Waiting for application shutdown.
[2022-08-22 01:54:58,950.950] INFO [4370531712] - Application shutdown complete.
[2022-08-22 01:54:58,951.951] INFO [4370531712] - Finished server process [31358]
[2022-08-22 01:54:59,470.470] INFO [4366992768] - Started server process [31374]
[2022-08-22 01:54:59,470.470] INFO [4366992768] - Waiting for application startup.
[2022-08-22 01:54:59,471.471] INFO [4366992768] - Application startup complete.
[2022-08-22 01:55:13,448.448] WARNING [4303193472] - StatReload detected changes in 'api/models/services.py'. Reloading...
[2022-08-22 01:55:13,450.450] INFO [4366992768] - Shutting down
[2022-08-22 01:55:13,551.551] INFO [4366992768] - Waiting for application shutdown.
[2022-08-22 01:55:13,552.552] INFO [4366992768] - Application shutdown complete.
[2022-08-22 01:55:13,552.552] INFO [4366992768] - Finished server process [31374]
[2022-08-22 01:55:14,115.115] INFO [4303504768] - Started server process [31392]
[2022-08-22 01:55:14,115.115] INFO [4303504768] - Waiting for application startup.
[2022-08-22 01:55:14,116.116] INFO [4303504768] - Application startup complete.
[2022-08-22 01:55:16,201.201] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:55:16,247.247] INFO [4303504768] - Shutting down
[2022-08-22 01:55:16,348.348] INFO [4303504768] - Waiting for application shutdown.
[2022-08-22 01:55:16,349.349] INFO [4303504768] - Application shutdown complete.
[2022-08-22 01:55:16,349.349] INFO [4303504768] - Finished server process [31392]
[2022-08-22 01:55:16,914.914] INFO [4366189952] - Started server process [31396]
[2022-08-22 01:55:16,915.915] INFO [4366189952] - Waiting for application startup.
[2022-08-22 01:55:16,915.915] INFO [4366189952] - Application startup complete.
[2022-08-22 01:55:23,910.910] INFO [4366189952] - {'data': {'type': <ModelGET.four: 4>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Amarilla', Decimal('1290163.44')), ('Carretera', Decimal('1122212.62')), ('Montana', Decimal('1159032.62')), ('Velo', Decimal('1576709.04')), ('Paseo', Decimal('2600518.05')), ('VTT', Decimal('1456612.48'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x12fcc8370>}}}
[2022-08-22 01:55:23,915.915] INFO [4366189952] - 127.0.0.1:54694 - "GET /SendReport/GET?_type=4&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-22 01:55:34,458.458] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:55:34,464.464] INFO [4366189952] - Shutting down
[2022-08-22 01:55:34,565.565] INFO [4366189952] - Waiting for application shutdown.
[2022-08-22 01:55:34,566.566] INFO [4366189952] - Application shutdown complete.
[2022-08-22 01:55:34,566.566] INFO [4366189952] - Finished server process [31396]
[2022-08-22 01:55:35,191.191] INFO [4371219840] - Started server process [31420]
[2022-08-22 01:55:35,191.191] INFO [4371219840] - Waiting for application startup.
[2022-08-22 01:55:35,191.191] INFO [4371219840] - Application startup complete.
[2022-08-22 01:56:13,842.842] INFO [4371219840] - {'data': {'type': <ModelGET.three: 3>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Amarilla', Decimal('155315.00'), Decimal('19037279.50'), Decimal('1290163.44'), Decimal('2814104.06')), ('Carretera', Decimal('146846.00'), Decimal('14937520.50'), Decimal('1122212.62'), Decimal('1826804.89')), ('Montana', Decimal('154198.00'), Decimal('16549834.50'), Decimal('1159032.62'), Decimal('2114754.88')), ('Velo', Decimal('162424.50'), Decimal('19826768.50'), Decimal('1576709.04'), Decimal('2305992.47')), ('Paseo', Decimal('338239.50'), Decimal('35611662.00'), Decimal('2600518.05'), Decimal('4797437.95')), ('VTT', Decimal('168783.00'), Decimal('21968533.50'), Decimal('1456612.48'), Decimal('3034608.02'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x125e5d370>}}}
[2022-08-22 01:56:13,849.849] INFO [4371219840] - 127.0.0.1:54699 - "GET /SendReport/GET?_type=3&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-22 01:56:33,643.643] INFO [4371219840] - {'data': {'type': <ModelGET.two: 2>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('France', Decimal('240931.00'), Decimal('26081674.50'), Decimal('1727502.22'), Decimal('3781020.78')), ('Germany', Decimal('201494.00'), Decimal('24921467.50'), Decimal('1416126.68'), Decimal('3680388.82')), ('United States of America', Decimal('232627.50'), Decimal('27269358.00'), Decimal('2239527.84'), Decimal('2995540.67')), ('Mexico', Decimal('203325.00'), Decimal('22726935.00'), Decimal('1777582.89'), Decimal('2907523.11')), ('Canada', Decimal('247428.50'), Decimal('26932163.50'), Decimal('2044508.62'), Decimal('3529228.89'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x125e5d5b0>}}}
[2022-08-22 01:56:33,647.647] INFO [4371219840] - 127.0.0.1:54701 - "GET /SendReport/GET?_type=2&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-22 01:56:45,783.783] INFO [4371219840] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az']}, 'query res': [('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50')), ('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x125e9ae50>}}}
[2022-08-22 01:56:45,786.786] INFO [4371219840] - 127.0.0.1:54703 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 200
[2022-08-22 01:58:25,043.043] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 01:58:25,130.130] INFO [4371219840] - Shutting down
[2022-08-22 01:58:25,232.232] INFO [4371219840] - Waiting for application shutdown.
[2022-08-22 01:58:25,232.232] INFO [4371219840] - Application shutdown complete.
[2022-08-22 01:58:25,232.232] INFO [4371219840] - Finished server process [31420]
[2022-08-22 01:58:25,809.809] INFO [4341007744] - Started server process [31578]
[2022-08-22 01:58:25,810.810] INFO [4341007744] - Waiting for application startup.
[2022-08-22 01:58:25,810.810] INFO [4341007744] - Application startup complete.
[2022-08-22 02:01:02,880.880] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 02:01:02,930.930] INFO [4341007744] - Shutting down
[2022-08-22 02:01:03,031.031] INFO [4341007744] - Waiting for application shutdown.
[2022-08-22 02:01:03,032.032] INFO [4341007744] - Application shutdown complete.
[2022-08-22 02:01:03,032.032] INFO [4341007744] - Finished server process [31578]
[2022-08-22 02:01:03,656.656] INFO [4381394304] - Started server process [31729]
[2022-08-22 02:01:03,656.656] INFO [4381394304] - Waiting for application startup.
[2022-08-22 02:01:03,656.656] INFO [4381394304] - Application startup complete.
[2022-08-22 02:01:52,634.634] INFO [4381394304] - 127.0.0.1:54718 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az HTTP/1.1" 400
[2022-08-22 02:02:03,628.628] INFO [4381394304] - 127.0.0.1:54719 - "POST /UploadData/POST HTTP/1.1" 500
[2022-08-22 02:02:03,629.629] ERROR [4381394304] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/compat/_optional.py", line 138, in import_optional_dependency
    module = importlib.import_module(name)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1014, in _gcd_import
  File "<frozen importlib._bootstrap>", line 991, in _find_and_load
  File "<frozen importlib._bootstrap>", line 973, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'xlrd'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/src/main.py", line 66, in upload
    df = pd.read_excel(content)  # created dataframe object
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/util/_decorators.py", line 311, in wrapper
    return func(*args, **kwargs)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/io/excel/_base.py", line 457, in read_excel
    io = ExcelFile(io, storage_options=storage_options, engine=engine)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/io/excel/_base.py", line 1419, in __init__
    self._reader = self._engines[engine](self._io, storage_options=storage_options)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/io/excel/_xlrd.py", line 24, in __init__
    import_optional_dependency("xlrd", extra=err_msg)
  File "/Users/arifgarayev/Documents/git repos/pyp-pre-assignment/venv/lib/python3.8/site-packages/pandas/compat/_optional.py", line 141, in import_optional_dependency
    raise ImportError(msg)
ImportError: Missing optional dependency 'xlrd'. Install xlrd >= 1.0.0 for Excel support Use pip or conda to install xlrd.
[2022-08-22 02:03:46,424.424] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 02:03:46,520.520] INFO [4381394304] - Shutting down
[2022-08-22 02:03:46,621.621] INFO [4381394304] - Waiting for application shutdown.
[2022-08-22 02:03:46,622.622] INFO [4381394304] - Application shutdown complete.
[2022-08-22 02:03:46,622.622] INFO [4381394304] - Finished server process [31729]
[2022-08-22 02:03:47,208.208] INFO [4305405312] - Started server process [31962]
[2022-08-22 02:03:47,208.208] INFO [4305405312] - Waiting for application startup.
[2022-08-22 02:03:47,208.208] INFO [4305405312] - Application startup complete.
[2022-08-22 02:03:52,114.114] INFO [4305405312] - {'data': {'is_valid': True, 'is_empty': True, 'file_name': 'example_data.xls', 'mime_type': 'application/vnd.ms-excel'}}
[2022-08-22 02:03:52,114.114] INFO [4305405312] - 127.0.0.1:54727 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-22 02:04:17,380.380] INFO [4305405312] - 127.0.0.1:54729 - "GET /swagger HTTP/1.1" 200
[2022-08-22 02:04:17,973.973] INFO [4305405312] - 127.0.0.1:54729 - "GET /openapi.json HTTP/1.1" 200
[2022-08-22 02:04:24,940.940] INFO [4305405312] - {'data': {'is_valid': True, 'is_empty': True, 'file_name': 'example_data.xls', 'mime_type': 'application/vnd.ms-excel'}}
[2022-08-22 02:04:24,940.940] INFO [4305405312] - 127.0.0.1:54730 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-22 02:05:53,264.264] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 02:05:53,274.274] INFO [4305405312] - Shutting down
[2022-08-22 02:05:53,375.375] INFO [4305405312] - Waiting for application shutdown.
[2022-08-22 02:05:53,375.375] INFO [4305405312] - Application shutdown complete.
[2022-08-22 02:05:53,375.375] INFO [4305405312] - Finished server process [31962]
[2022-08-22 02:05:53,978.978] INFO [4335158656] - Started server process [32111]
[2022-08-22 02:05:53,978.978] INFO [4335158656] - Waiting for application startup.
[2022-08-22 02:05:53,979.979] INFO [4335158656] - Application startup complete.
[2022-08-22 02:06:03,465.465] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 02:06:03,511.511] INFO [4335158656] - Shutting down
[2022-08-22 02:06:03,611.611] INFO [4335158656] - Waiting for application shutdown.
[2022-08-22 02:06:03,612.612] INFO [4335158656] - Application shutdown complete.
[2022-08-22 02:06:03,612.612] INFO [4335158656] - Finished server process [32111]
[2022-08-22 02:06:04,241.241] INFO [4300785024] - Started server process [32131]
[2022-08-22 02:06:04,241.241] INFO [4300785024] - Waiting for application startup.
[2022-08-22 02:06:04,241.241] INFO [4300785024] - Application startup complete.
[2022-08-22 02:06:11,111.111] INFO [4300785024] - 127.0.0.1:54742 - "GET /swagger HTTP/1.1" 200
[2022-08-22 02:06:11,213.213] INFO [4300785024] - 127.0.0.1:54742 - "GET /openapi.json HTTP/1.1" 200
[2022-08-22 02:06:17,078.078] WARNING [4300785024] - Your Excel data is empty, please try another file 
[2022-08-22 02:06:17,078.078] INFO [4300785024] - {'data': {'is_valid': True, 'is_empty': True, 'file_name': 'upload_template.xlsx', 'mime_type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}}
[2022-08-22 02:06:17,078.078] INFO [4300785024] - 127.0.0.1:54743 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-22 02:06:24,354.354] INFO [4300785024] - {'data': {'is_valid': True, 'is_empty': False, 'file_name': 'example_data.xlsx', 'mime_type': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}}
[2022-08-22 02:06:24,354.354] INFO [4300785024] - 127.0.0.1:54745 - "POST /UploadData/POST HTTP/1.1" 200
[2022-08-22 02:07:57,184.184] INFO [4300785024] - {'data': {'type': <ModelGET.one: 1>, 'start_date': datetime.date(2010, 1, 1), 'end_date': datetime.date(2020, 12, 12), 'emails': ['arif.pg@code.edu.az', 'alwdlawfes@code.edu.az']}, 'query res': [('Channel Partners', Decimal('161263.50'), Decimal('1935162.00'), Decimal('134568.36'), Decimal('1316803.14')), ('Enterprise', Decimal('168552.00'), Decimal('21069000.00'), Decimal('1457305.63'), Decimal('-614545.63')), ('Government', Decimal('470673.50'), Decimal('56403066.50'), Decimal('3898805.83'), Decimal('11388173.17')), ('Midmarket', Decimal('172178.00'), Decimal('2582670.00'), Decimal('200786.93'), Decimal('660103.08')), ('Small Business', Decimal('153139.00'), Decimal('45941700.00'), Decimal('3513781.50'), Decimal('4143168.50'))], 'email responses': {'SendGrid response': {'list of emails successfully sent': ['arif.pg@code.edu.az', 'alwdlawfes@code.edu.az'], 'status code': 202, 'response body': b'', 'response headers': <http.client.HTTPMessage object at 0x11864edf0>}}}
[2022-08-22 02:07:57,185.185] INFO [4300785024] - 127.0.0.1:54750 - "GET /SendReport/GET?_type=1&start_date=2010-01-01&end_date=2020-12-12&acceptor_email=arif.pg%40code.edu.az&acceptor_email=string&acceptor_email=test&acceptor_email=sal%40mail.ru&acceptor_email=alwdlawfes%40code.edu.az&acceptor_email=garbage%20value&acceptor_email=alwdifsef%40mail.az&acceptor_email=code%40code.az HTTP/1.1" 200
[2022-08-22 02:08:27,303.303] WARNING [4303193472] - StatReload detected changes in 'main.py'. Reloading...
[2022-08-22 02:08:27,394.394] INFO [4300785024] - Shutting down
[2022-08-22 02:08:27,495.495] INFO [4300785024] - Waiting for application shutdown.
[2022-08-22 02:08:27,495.495] INFO [4300785024] - Application shutdown complete.
[2022-08-22 02:08:27,495.495] INFO [4300785024] - Finished server process [32131]
[2022-08-22 02:08:28,041.041] INFO [4300703104] - Started server process [32304]
[2022-08-22 02:08:28,041.041] INFO [4300703104] - Waiting for application startup.
[2022-08-22 02:08:28,041.041] INFO [4300703104] - Application startup complete.
